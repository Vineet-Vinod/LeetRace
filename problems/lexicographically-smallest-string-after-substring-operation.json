{
  "id": "lexicographically-smallest-string-after-substring-operation",
  "title": "Lexicographically Smallest String After Substring Operation",
  "difficulty": "Medium",
  "tags": [
    "Greedy",
    "String"
  ],
  "description": "Given a string s consisting of lowercase English letters. Perform the following operation:\n\nSelect any non-empty substring then replace every letter of the substring with the preceding letter of the English alphabet. For example, 'b' is converted to 'a', and 'a' is converted to 'z'.\n\nReturn the lexicographically smallest string after performing the operation.\n\u00a0\nExample 1:\n\nInput: s = \"cbabc\"\nOutput: \"baabc\"\nExplanation:\nPerform the operation on the substring starting at index 0, and ending at index 1 inclusive.\n\nExample 2:\n\nInput: s = \"aa\"\nOutput: \"az\"\nExplanation:\nPerform the operation on the last letter.\n\nExample 3:\n\nInput: s = \"acbbc\"\nOutput: \"abaab\"\nExplanation:\nPerform the operation on the substring starting at index 1, and ending at index 4 inclusive.\n\nExample 4:\n\nInput: s = \"leetcode\"\nOutput: \"kddsbncd\"\nExplanation:\nPerform the operation on the entire string.\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 3 * 105\ns consists of lowercase English letters\n\n",
  "entry_point": "Solution().smallestString",
  "starter_code": "class Solution:\n    def smallestString(self, s: str) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abz\") == \"aay\"\n    assert candidate(s = \"azazaz\") == \"ayazaz\"\n    assert candidate(s = \"zzzz\") == \"yyyy\"\n    assert candidate(s = \"azaza\") == \"ayaza\"\n    assert candidate(s = \"acbbc\") == \"abaab\"\n    assert candidate(s = \"cbabc\") == \"baabc\"\n    assert candidate(s = \"azaz\") == \"ayaz\"\n    assert candidate(s = \"z\") == \"y\"\n    assert candidate(s = \"aaa\") == \"aaz\"\n    assert candidate(s = \"aa\") == \"az\"\n    assert candidate(s = \"abcdzxyz\") == \"aabcywxy\"\n    assert candidate(s = \"abcd\") == \"aabc\"\n    assert candidate(s = \"zzz\") == \"yyy\"\n    assert candidate(s = \"leetcode\") == \"kddsbncd\"\n    assert candidate(s = \"xyz\") == \"wxy\"\n    assert candidate(s = \"mnopqrstuvsxyz\") == \"lmnopqrsturwxy\"\n    assert candidate(s = \"zzabcd\") == \"yyabcd\"\n    assert candidate(s = \"zazbzczdz\") == \"yazbzczdz\"\n    assert candidate(s = \"aaaaaabbbbb\") == \"aaaaaaaaaaa\"\n    assert candidate(s = \"abczzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"aabyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"\n    assert candidate(s = \"abxyzmnopqrstu\") == \"aawxylmnopqrst\"\n    assert candidate(s = \"aczzzzza\") == \"abyyyyya\"\n    assert candidate(s = \"aabbaabbaabb\") == \"aaaaaabbaabb\"\n    assert candidate(s = \"aabbaabb\") == \"aaaaaabb\"\n    assert candidate(s = \"abcabcabc\") == \"aababcabc\"\n    assert candidate(s = \"abracadabra\") == \"aaqacadabra\"\n    assert candidate(s = \"aaaaazzzzz\") == \"aaaaayyyyy\"\n    assert candidate(s = \"aaaaz\") == \"aaaay\"\n    assert candidate(s = \"zaz\") == \"yaz\"\n    assert candidate(s = \"cbabczzzz\") == \"baabczzzz\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"\n    assert candidate(s = \"aaabaaab\") == \"aaaaaaab\"\n    assert candidate(s = \"aaaabbbbcccc\") == \"aaaaaaaabbbb\"\n    assert candidate(s = \"zzzzzzzzzz\") == \"yyyyyyyyyy\"\n    assert candidate(s = \"abcdabcdabcd\") == \"aabcabcdabcd\"\n    assert candidate(s = \"zzzzzaa\") == \"yyyyyaa\"\n    assert candidate(s = \"zzzzz\") == \"yyyyy\"\n    assert candidate(s = \"aaabaaaabaaa\") == \"aaaaaaaabaaa\"\n    assert candidate(s = \"zzyyzzyyzzyy\") == \"yyxxyyxxyyxx\"\n    assert candidate(s = \"aaaabaaa\") == \"aaaaaaaa\"\n    assert candidate(s = \"xyzyxzyzyxzyz\") == \"wxyxwyxyxwyxy\"\n    assert candidate(s = \"leetcodeisfun\") == \"kddsbncdhretm\"\n    assert candidate(s = \"aaaaaaaabczzzzzzzz\") == \"aaaaaaaaabyyyyyyyy\"\n    assert candidate(s = \"babababababababab\") == \"aabababababababab\"\n    assert candidate(s = \"zaa\") == \"yaa\"\n    assert candidate(s = \"mnopqrstu\") == \"lmnopqrst\"\n    assert candidate(s = \"aaaaaz\") == \"aaaaay\"\n    assert candidate(s = \"abacabad\") == \"aaacabad\"\n    assert candidate(s = \"leetcodez\") == \"kddsbncdy\"\n    assert candidate(s = \"zabz\") == \"yabz\"\n    assert candidate(s = \"abzab\") == \"aayab\"\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaa\") == \"aaaaaaaaaaaaaaaaaz\"\n    assert candidate(s = \"azz\") == \"ayy\"\n    assert candidate(s = \"qwertypoiuytrewq\") == \"pvdqsxonhtxsqdvp\"\n    assert candidate(s = \"aabbccdd\") == \"aaaabbcc\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabc\") == \"aabcdefghijklmnopqrstuvwxyabc\"\n    assert candidate(s = \"zzabc\") == \"yyabc\"\n    assert candidate(s = \"zzzzza\") == \"yyyyya\"\n    assert candidate(s = \"abczzzzabc\") == \"aabyyyyabc\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyy\"\n    assert candidate(s = \"abzabzabz\") == \"aayabzabz\"\n    assert candidate(s = \"azzzzzz\") == \"ayyyyyy\"\n    assert candidate(s = \"hellozworld\") == \"gdkknyvnqkc\"\n    assert candidate(s = \"abacabadabacaba\") == \"aaacabadabacaba\"\n    assert candidate(s = \"abcxyzzyxabc\") == \"aabwxyyxwabc\"\n    assert candidate(s = \"zabcdefghijklmnopqrstuvwxyz\") == \"yabcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyy\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"\n    assert candidate(s = \"aaaabczzzz\") == \"aaaaabyyyy\"\n    assert candidate(s = \"abcdz\") == \"aabcy\"\n    assert candidate(s = \"aabbccddeeffgg\") == \"aaaabbccddeeff\"\n    assert candidate(s = \"bbbb\") == \"aaaa\"\n    assert candidate(s = \"abcdefghij\") == \"aabcdefghi\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == \"aaaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyy\"\n    assert candidate(s = \"aaaazzzz\") == \"aaaayyyy\"\n    assert candidate(s = \"bababababab\") == \"aababababab\"\n    assert candidate(s = \"abcxyzabc\") == \"aabwxyabc\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == \"yxwvutsrqponmlkjihgfedcbaa\"\n    assert candidate(s = \"abcdefg\") == \"aabcdef\"\n    assert candidate(s = \"baaaaaaaaaa\") == \"aaaaaaaaaaa\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == \"aabcdefghijklmnopqrstuvwxy\"\n    assert candidate(s = \"xyzabcdefghijklmnopqrstu\") == \"wxyabcdefghijklmnopqrstu\"\n    assert candidate(s = \"abzzz\") == \"aayyy\"\n    assert candidate(s = \"abcxyz\") == \"aabwxy\"\n    assert candidate(s = \"abczyx\") == \"aabyxw\"\n    assert candidate(s = \"zabxyzmnopqrstu\") == \"yabxyzmnopqrstu\"\n    assert candidate(s = \"aaaab\") == \"aaaaa\"\n    assert candidate(s = \"zzzzzyyyy\") == \"yyyyyxxxx\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == \"aabcdefghijklmnopqrstuvwxyabcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"abcz\") == \"aaby\"\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaa\") == \"aaaaaaaaaaaaaaaaaaaaaaaaz\"\n    assert candidate(s = \"zzzabzzz\") == \"yyyabzzz\"\n    assert candidate(s = \"xyzaabbcc\") == \"wxyaabbcc\"\n    assert candidate(s = \"mississippi\") == \"lhrrhrrhooh\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcbazyxwvutsrqponmlkjihgfedcba\") == \"yxwvutsrqponmlkjihgfedcbaazyxwvutsrqponmlkjihgfedcba\"\n    assert candidate(s = \"abcabcabcabcabc\") == \"aababcabcabcabc\"\n    assert candidate(s = \"hello world\") == \"gdkkn\u001fvnqkc\"\n    assert candidate(s = \"baaaa\") == \"aaaaa\"\n    assert candidate(s = \"zzzzzzzz\") == \"yyyyyyyy\"\n    assert candidate(s = \"aaaazzzzzzzzzz\") == \"aaaayyyyyyyyyy\"\n    assert candidate(s = \"zyxzyxzyxzyx\") == \"yxwyxwyxwyxw\"\n",
  "test_cases": [
    "assert candidate(s = \"abz\") == \"aay\"",
    "assert candidate(s = \"azazaz\") == \"ayazaz\"",
    "assert candidate(s = \"zzzz\") == \"yyyy\"",
    "assert candidate(s = \"azaza\") == \"ayaza\"",
    "assert candidate(s = \"acbbc\") == \"abaab\"",
    "assert candidate(s = \"cbabc\") == \"baabc\"",
    "assert candidate(s = \"azaz\") == \"ayaz\"",
    "assert candidate(s = \"z\") == \"y\"",
    "assert candidate(s = \"aaa\") == \"aaz\"",
    "assert candidate(s = \"aa\") == \"az\"",
    "assert candidate(s = \"abcdzxyz\") == \"aabcywxy\"",
    "assert candidate(s = \"abcd\") == \"aabc\"",
    "assert candidate(s = \"zzz\") == \"yyy\"",
    "assert candidate(s = \"leetcode\") == \"kddsbncd\"",
    "assert candidate(s = \"xyz\") == \"wxy\"",
    "assert candidate(s = \"mnopqrstuvsxyz\") == \"lmnopqrsturwxy\"",
    "assert candidate(s = \"zzabcd\") == \"yyabcd\"",
    "assert candidate(s = \"zazbzczdz\") == \"yazbzczdz\"",
    "assert candidate(s = \"aaaaaabbbbb\") == \"aaaaaaaaaaa\"",
    "assert candidate(s = \"abczzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"aabyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"",
    "assert candidate(s = \"abxyzmnopqrstu\") == \"aawxylmnopqrst\"",
    "assert candidate(s = \"aczzzzza\") == \"abyyyyya\"",
    "assert candidate(s = \"aabbaabbaabb\") == \"aaaaaabbaabb\"",
    "assert candidate(s = \"aabbaabb\") == \"aaaaaabb\"",
    "assert candidate(s = \"abcabcabc\") == \"aababcabc\"",
    "assert candidate(s = \"abracadabra\") == \"aaqacadabra\"",
    "assert candidate(s = \"aaaaazzzzz\") == \"aaaaayyyyy\"",
    "assert candidate(s = \"aaaaz\") == \"aaaay\"",
    "assert candidate(s = \"zaz\") == \"yaz\"",
    "assert candidate(s = \"cbabczzzz\") == \"baabczzzz\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"",
    "assert candidate(s = \"aaabaaab\") == \"aaaaaaab\"",
    "assert candidate(s = \"aaaabbbbcccc\") == \"aaaaaaaabbbb\"",
    "assert candidate(s = \"zzzzzzzzzz\") == \"yyyyyyyyyy\"",
    "assert candidate(s = \"abcdabcdabcd\") == \"aabcabcdabcd\"",
    "assert candidate(s = \"zzzzzaa\") == \"yyyyyaa\"",
    "assert candidate(s = \"zzzzz\") == \"yyyyy\"",
    "assert candidate(s = \"aaabaaaabaaa\") == \"aaaaaaaabaaa\"",
    "assert candidate(s = \"zzyyzzyyzzyy\") == \"yyxxyyxxyyxx\"",
    "assert candidate(s = \"aaaabaaa\") == \"aaaaaaaa\"",
    "assert candidate(s = \"xyzyxzyzyxzyz\") == \"wxyxwyxyxwyxy\"",
    "assert candidate(s = \"leetcodeisfun\") == \"kddsbncdhretm\"",
    "assert candidate(s = \"aaaaaaaabczzzzzzzz\") == \"aaaaaaaaabyyyyyyyy\"",
    "assert candidate(s = \"babababababababab\") == \"aabababababababab\"",
    "assert candidate(s = \"zaa\") == \"yaa\"",
    "assert candidate(s = \"mnopqrstu\") == \"lmnopqrst\"",
    "assert candidate(s = \"aaaaaz\") == \"aaaaay\"",
    "assert candidate(s = \"abacabad\") == \"aaacabad\"",
    "assert candidate(s = \"leetcodez\") == \"kddsbncdy\"",
    "assert candidate(s = \"zabz\") == \"yabz\"",
    "assert candidate(s = \"abzab\") == \"aayab\"",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaa\") == \"aaaaaaaaaaaaaaaaaz\"",
    "assert candidate(s = \"azz\") == \"ayy\"",
    "assert candidate(s = \"qwertypoiuytrewq\") == \"pvdqsxonhtxsqdvp\"",
    "assert candidate(s = \"aabbccdd\") == \"aaaabbcc\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabc\") == \"aabcdefghijklmnopqrstuvwxyabc\"",
    "assert candidate(s = \"zzabc\") == \"yyabc\"",
    "assert candidate(s = \"zzzzza\") == \"yyyyya\"",
    "assert candidate(s = \"abczzzzabc\") == \"aabyyyyabc\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyy\"",
    "assert candidate(s = \"abzabzabz\") == \"aayabzabz\"",
    "assert candidate(s = \"azzzzzz\") == \"ayyyyyy\"",
    "assert candidate(s = \"hellozworld\") == \"gdkknyvnqkc\"",
    "assert candidate(s = \"abacabadabacaba\") == \"aaacabadabacaba\"",
    "assert candidate(s = \"abcxyzzyxabc\") == \"aabwxyyxwabc\"",
    "assert candidate(s = \"zabcdefghijklmnopqrstuvwxyz\") == \"yabcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyy\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"",
    "assert candidate(s = \"aaaabczzzz\") == \"aaaaabyyyy\"",
    "assert candidate(s = \"abcdz\") == \"aabcy\"",
    "assert candidate(s = \"aabbccddeeffgg\") == \"aaaabbccddeeff\"",
    "assert candidate(s = \"bbbb\") == \"aaaa\"",
    "assert candidate(s = \"abcdefghij\") == \"aabcdefghi\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == \"aaaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyy\"",
    "assert candidate(s = \"aaaazzzz\") == \"aaaayyyy\"",
    "assert candidate(s = \"bababababab\") == \"aababababab\"",
    "assert candidate(s = \"abcxyzabc\") == \"aabwxyabc\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == \"yxwvutsrqponmlkjihgfedcbaa\"",
    "assert candidate(s = \"abcdefg\") == \"aabcdef\"",
    "assert candidate(s = \"baaaaaaaaaa\") == \"aaaaaaaaaaa\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == \"aabcdefghijklmnopqrstuvwxy\"",
    "assert candidate(s = \"xyzabcdefghijklmnopqrstu\") == \"wxyabcdefghijklmnopqrstu\"",
    "assert candidate(s = \"abzzz\") == \"aayyy\"",
    "assert candidate(s = \"abcxyz\") == \"aabwxy\"",
    "assert candidate(s = \"abczyx\") == \"aabyxw\"",
    "assert candidate(s = \"zabxyzmnopqrstu\") == \"yabxyzmnopqrstu\"",
    "assert candidate(s = \"aaaab\") == \"aaaaa\"",
    "assert candidate(s = \"zzzzzyyyy\") == \"yyyyyxxxx\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == \"aabcdefghijklmnopqrstuvwxyabcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"abcz\") == \"aaby\"",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaa\") == \"aaaaaaaaaaaaaaaaaaaaaaaaz\"",
    "assert candidate(s = \"zzzabzzz\") == \"yyyabzzz\"",
    "assert candidate(s = \"xyzaabbcc\") == \"wxyaabbcc\"",
    "assert candidate(s = \"mississippi\") == \"lhrrhrrhooh\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcbazyxwvutsrqponmlkjihgfedcba\") == \"yxwvutsrqponmlkjihgfedcbaazyxwvutsrqponmlkjihgfedcba\"",
    "assert candidate(s = \"abcabcabcabcabc\") == \"aababcabcabcabc\"",
    "assert candidate(s = \"hello world\") == \"gdkkn\u001fvnqkc\"",
    "assert candidate(s = \"baaaa\") == \"aaaaa\"",
    "assert candidate(s = \"zzzzzzzz\") == \"yyyyyyyy\"",
    "assert candidate(s = \"aaaazzzzzzzzzz\") == \"aaaayyyyyyyyyy\"",
    "assert candidate(s = \"zyxzyxzyxzyx\") == \"yxwyxwyxwyxw\""
  ]
}