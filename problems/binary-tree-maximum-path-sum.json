{
  "id": "binary-tree-maximum-path-sum",
  "title": "Binary Tree Maximum Path Sum",
  "difficulty": "Hard",
  "tags": [
    "Tree",
    "Depth-First Search",
    "Dynamic Programming",
    "Binary Tree"
  ],
  "description": "A path in a binary tree is a sequence of nodes where each pair of adjacent nodes in the sequence has an edge connecting them. A node can only appear in the sequence at most once. Note that the path does not need to pass through the root.\nThe path sum of a path is the sum of the node's values in the path.\nGiven the root of a binary tree, return the maximum path sum of any non-empty path.\n\u00a0\nExample 1:\n\n\nInput: root = [1,2,3]\nOutput: 6\nExplanation: The optimal path is 2 -> 1 -> 3 with a path sum of 2 + 1 + 3 = 6.\n\nExample 2:\n\n\nInput: root = [-10,9,20,null,null,15,7]\nOutput: 42\nExplanation: The optimal path is 15 -> 20 -> 7 with a path sum of 15 + 20 + 7 = 42.\n\n\u00a0\nConstraints:\n\nThe number of nodes in the tree is in the range [1, 3 * 104].\n-1000 <= Node.val <= 1000\n\n",
  "entry_point": "Solution().maxPathSum",
  "starter_code": "# Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution:\n    def maxPathSum(self, root: Optional[TreeNode]) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5])) == 15\n    assert candidate(root = tree_node([2, -1])) == 2\n    assert candidate(root = tree_node([-3])) == -3\n    assert candidate(root = tree_node([1, 2, 3])) == 6\n    assert candidate(root = tree_node([1, -2, -3])) == 1\n    assert candidate(root = tree_node([-2, 1])) == 1\n    assert candidate(root = tree_node([-10, 9, 20, None, None, 15, 7])) == 42\n    assert candidate(root = tree_node([1, 2])) == 3\n    assert candidate(root = tree_node([1, None, 2])) == 3\n    assert candidate(root = tree_node([0])) == 0\n    assert candidate(root = tree_node([-1])) == -1\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1])) == 48\n    assert candidate(root = tree_node([1])) == 1\n    assert candidate(root = tree_node([1, -2, -3, 1, 3, -2, None, -1])) == 3\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1])) == 48\n    assert candidate(root = tree_node([-10, 9, 20, None, None, 15, 7, -1, -2, 1, 1, -3, -4, -5, -6])) == 43\n    assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8, None, 9, None, 10])) == 55\n    assert candidate(root = tree_node([10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150])) == 440\n    assert candidate(root = tree_node([-1, 2, -3, 4, -5, 6, -7, 8, -9, None, None, None, None, None, -10])) == 16\n    assert candidate(root = tree_node([50, 20, 30, 15, 25, 10, 35, -10, -5, None, None, None, None, None, None])) == 160\n    assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8])) == 36\n    assert candidate(root = tree_node([-10, 5, 15, -5, 3, None, 7, -1, None, -2, 4, None, None, 8])) == 24\n    assert candidate(root = tree_node([9, 6, -3, None, None, -6, 2, None, None, 2, 2, None, -1, -6, -6, -6])) == 16\n    assert candidate(root = tree_node([50, 20, 30, 10, 40, 25, 35, 5, 15, 32, 45, 22, 28, 33, 42, 1, 9, 11, 19, 31, 37, 43, 48, 0, 4, 8, 14, 16, 18, 21, 24, 27, 29, 34, 36, 39, 41, 44, 46, 47, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None])) == 351\n    assert candidate(root = tree_node([1, None, -2, None, -3, None, -4, None, -5, None, -6, None, -7, None, -8, None, -9])) == 1\n    assert candidate(root = tree_node([-1, None, -2, None, -3, None, -4, -5, None])) == -1\n    assert candidate(root = tree_node([2, -5, 7, -4, None, None, 6, -3, -1, 8, 9, None, None, None, None, None, 10])) == 33\n    assert candidate(root = tree_node([10, 9, -10, None, None, 15, 7, None, None, None, 1, None, None, -1, None, -5])) == 24\n    assert candidate(root = tree_node([2, -1, -2, 1, -3, -4, -5, -6, -7])) == 2\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -2, 9, 3, 1, None, None, None, None, None, None, None, -10])) == 52\n    assert candidate(root = tree_node([-1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7])) == 27\n    assert candidate(root = tree_node([100, -50, -50, 40, 20, None, -60, 30, None, 10, None, -5])) == 120\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, None, -5, 6, 8, -4, -6, None, 7, 9])) == 58\n    assert candidate(root = tree_node([-1, 2, 2, None, 3, None, 3, None, 4, None, 4])) == 17\n    assert candidate(root = tree_node([0, -10, 20, None, None, 15, 6, None, None, -5, 12, 11, 13, -14])) == 53\n    assert candidate(root = tree_node([-10, -20, -30, -40, None, -50, -60, None, None, -70, -80, -90, None, None, -100])) == -10\n    assert candidate(root = tree_node([100, 50, 200, 25, 75, 150, 300, 10, 40, 60, 90, 125, 175, 250, 350])) == 1175\n    assert candidate(root = tree_node([-1, -2, -3, 1, 2, -1, -1, -2, None, -3, None, -2, -2])) == 2\n    assert candidate(root = tree_node([10, 9, 20, None, None, 15, 7, 6, 12, 3, 8, 99, -100, 5, None, 4, 2, 1, None, None, None, None, None, None, None, -99])) == 159\n    assert candidate(root = tree_node([100, -50, 50, -25, 25, -12, 12, -6, 6, -3, 3, -1, 1, 0, -100, 100, None, None, None, None, None, None, None, None, None, None, None, None, None, None])) == 181\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, None, None, None, 9])) == 52\n    assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, -1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15])) == 44\n    assert candidate(root = tree_node([1, -10, 20, 15, 10, None, -25, 6, None, None, -3, None, 4])) == 32\n    assert candidate(root = tree_node([-1, -2, -3, -4, -5])) == -1\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -1, None, -5, 6, 9])) == 50\n    assert candidate(root = tree_node([1, -2, 3, 4, None, None, -6, None, -7, None, None, 8, 9])) == 10\n    assert candidate(root = tree_node([-10, 5, 20, 15, 25, None, None, None, -5, 30, None])) == 75\n    assert candidate(root = tree_node([10, -2, 15, 20, -5, None, 7, None, 1, None, 3, 9])) == 60\n    assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30])) == 101\n    assert candidate(root = tree_node([2, -5, -1, None, -9, -4, None, None, -3, None, -8])) == 2\n    assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])) == 69\n    assert candidate(root = tree_node([3, 9, 20, None, None, 15, 7, 3, 10, -1, None, -15, 9, None, None, None, -1])) == 59\n    assert candidate(root = tree_node([0, -10, 20, 15, 7, -2, None, None, None, None, None, 5, 1, None, None, None, -1])) == 28\n    assert candidate(root = tree_node([10, 2, 10, 8, 34, 7, 6, 1, None, None, None, None, None, 9, 8, 7])) == 71\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, None, 5])) == 53\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, -14, 16, 18, None, None, None, None, None, None, None, -19])) == 64\n    assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])) == 44\n    assert candidate(root = tree_node([0, 2, 5, None, None, 6, 3, None, None, 9, None, None, 12, 15, 7])) == 50\n    assert candidate(root = tree_node([0, -10, 7, 8, None, 15, None, -8, None, 5, None, 9, 6, 11, None, None, None, None, None, None, None, None, None, None, None])) == 38\n    assert candidate(root = tree_node([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1])) == 1\n    assert candidate(root = tree_node([10, 5, 15, 3, 7, 13, 18, 1, 4, 6, 8, 12, 14, 17, 19, None, 2, None, 0, None, None, None, None, None, None, None, None, None, None, None, None, None, None])) == 82\n    assert candidate(root = tree_node([-1, None, 9, -6, 3, None, None, None, -2])) == 12\n    assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, -16, -17, -18, -19, -20, -21, -22, -23, -24, -25, -26, -27, -28, -29, -30])) == 44\n    assert candidate(root = tree_node([1, -2, 3, -4, 5, -6, 7, -8, 9, -10, 11, -12, 13, -14, 15, -16, 17, -18, 19, -20])) == 48\n    assert candidate(root = tree_node([-10, 9, 20, None, None, 15, 7, None, None, None, None, 2, None, 1, None, -1, None, None, None, -2])) == 42\n    assert candidate(root = tree_node([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])) == 0\n    assert candidate(root = tree_node([-1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15, -16, -17, -18, -19, -20, -21, -22, -23, -24, -25, -26, -27, -28, -29, -30, -31, -32])) == -1\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -1, None, -1, None, -2])) == 48\n    assert candidate(root = tree_node([100, -50, 200, -75, 25, 150, 250, -100, None, 20, None, -50, None, 30, 40])) == 640\n    assert candidate(root = tree_node([-1, None, -2, None, -3, None, -4, None, -5])) == -1\n    assert candidate(root = tree_node([9, 4, 0, -1, -3, None, -10, None, None, -5])) == 13\n    assert candidate(root = tree_node([0, -10, 5, None, None, -5, 6])) == 11\n    assert candidate(root = tree_node([10, -10, 20, -20, 30, -30, 40, None, None, None, -40, None, None, -50, -60, None, None, -70, -80])) == 90\n    assert candidate(root = tree_node([-1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15])) == -1\n    assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8, None, 9, None, 10, None, 11, None, 12, None, 13, None, 14, None, 15, None, 16, None, 17, None, 18, None, 19, None, 20, None, 21, None, 22, None, 23, None, 24, None, 25, None, 26, None, 27, None, 28, None, 29, None, 30, None, 31, None, 32, None, 33, None, 34, None, 35, None, 36, None, 37, None, 38, None, 39, None, 40])) == 820\n    assert candidate(root = tree_node([-1, None, -2, None, -3, None, -4, None, -5, None, -6, None, -7])) == -1\n    assert candidate(root = tree_node([10, 9, 20, None, None, 15, 7, 12, None, 2, 1, None, None, -5])) == 66\n    assert candidate(root = tree_node([5, -4, -8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -1, None, -5, 6, 9, -3])) == 26\n    assert candidate(root = tree_node([2, -1, -2, 1, -4, -5, -6])) == 2\n    assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32])) == 119\n    assert candidate(root = tree_node([2, -5, 6, None, 5, None, 7])) == 15\n    assert candidate(root = tree_node([100, 50, 50, 25, 25, 25, 25, 12, 13, 14, 15, 16, 17, 18, 19])) == 284\n    assert candidate(root = tree_node([3, -2, 5, -6, None, None, 4, None, None, -8, None, None, 7])) == 12\n    assert candidate(root = tree_node([50, 20, 30, 10, 40, 25, 35, 5, 15, 32, 45, 23, 27, 33, 47, 1, 9, 11, 19, 31, 34, 39, 44, 46, 48])) == 325\n    assert candidate(root = tree_node([1, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8, None, 9])) == 45\n    assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, None, -1, None, -9])) == 48\n    assert candidate(root = tree_node([10, 9, -10, None, None, 15, 20, 1, None, -1, None, -5, None, 4, None, -6])) == 32\n    assert candidate(root = tree_node([10, 5, -3, 3, 2, None, 11, 3, -2, None, 1])) == 29\n    assert candidate(root = tree_node([1, -2, 3, -4, None, 5, -6, 7, None, None, 8, None, 9])) == 19\n    assert candidate(root = tree_node([1, -2, 3, 4, None, 5, -6, None, None, 7, -8, 9, -10, None, None, None, None, 11])) == 29\n    assert candidate(root = tree_node([10, -10, 20, 15, 7, None, -5, 20, 30])) == 65\n    assert candidate(root = tree_node([1, -2, -3, 4, 5, None, 6, None, None, -8, -9])) == 7\n    assert candidate(root = tree_node([-10, 5, 9, None, -3, None, -8, None, -2, None, 7, -5, None, -1, None, 6, None, None, None, None, None, None, 8])) == 9\n    assert candidate(root = tree_node([9, 6, -3, None, None, -6, 2, None, None, 2, None, -6, -6, -6])) == 16\n    assert candidate(root = tree_node([100, -50, -50, None, -100, -100, None, -50, -100, None, -150, -150])) == 100\n    assert candidate(root = tree_node([10, 9, 20, None, None, 15, 7, None, None, 30, 40, None, 50])) == 127\n",
  "test_cases": [
    "assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5])) == 15",
    "assert candidate(root = tree_node([2, -1])) == 2",
    "assert candidate(root = tree_node([-3])) == -3",
    "assert candidate(root = tree_node([1, 2, 3])) == 6",
    "assert candidate(root = tree_node([1, -2, -3])) == 1",
    "assert candidate(root = tree_node([-2, 1])) == 1",
    "assert candidate(root = tree_node([-10, 9, 20, None, None, 15, 7])) == 42",
    "assert candidate(root = tree_node([1, 2])) == 3",
    "assert candidate(root = tree_node([1, None, 2])) == 3",
    "assert candidate(root = tree_node([0])) == 0",
    "assert candidate(root = tree_node([-1])) == -1",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1])) == 48",
    "assert candidate(root = tree_node([1])) == 1",
    "assert candidate(root = tree_node([1, -2, -3, 1, 3, -2, None, -1])) == 3",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1])) == 48",
    "assert candidate(root = tree_node([-10, 9, 20, None, None, 15, 7, -1, -2, 1, 1, -3, -4, -5, -6])) == 43",
    "assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8, None, 9, None, 10])) == 55",
    "assert candidate(root = tree_node([10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150])) == 440",
    "assert candidate(root = tree_node([-1, 2, -3, 4, -5, 6, -7, 8, -9, None, None, None, None, None, -10])) == 16",
    "assert candidate(root = tree_node([50, 20, 30, 15, 25, 10, 35, -10, -5, None, None, None, None, None, None])) == 160",
    "assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8])) == 36",
    "assert candidate(root = tree_node([-10, 5, 15, -5, 3, None, 7, -1, None, -2, 4, None, None, 8])) == 24",
    "assert candidate(root = tree_node([9, 6, -3, None, None, -6, 2, None, None, 2, 2, None, -1, -6, -6, -6])) == 16",
    "assert candidate(root = tree_node([50, 20, 30, 10, 40, 25, 35, 5, 15, 32, 45, 22, 28, 33, 42, 1, 9, 11, 19, 31, 37, 43, 48, 0, 4, 8, 14, 16, 18, 21, 24, 27, 29, 34, 36, 39, 41, 44, 46, 47, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None])) == 351",
    "assert candidate(root = tree_node([1, None, -2, None, -3, None, -4, None, -5, None, -6, None, -7, None, -8, None, -9])) == 1",
    "assert candidate(root = tree_node([-1, None, -2, None, -3, None, -4, -5, None])) == -1",
    "assert candidate(root = tree_node([2, -5, 7, -4, None, None, 6, -3, -1, 8, 9, None, None, None, None, None, 10])) == 33",
    "assert candidate(root = tree_node([10, 9, -10, None, None, 15, 7, None, None, None, 1, None, None, -1, None, -5])) == 24",
    "assert candidate(root = tree_node([2, -1, -2, 1, -3, -4, -5, -6, -7])) == 2",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -2, 9, 3, 1, None, None, None, None, None, None, None, -10])) == 52",
    "assert candidate(root = tree_node([-1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7])) == 27",
    "assert candidate(root = tree_node([100, -50, -50, 40, 20, None, -60, 30, None, 10, None, -5])) == 120",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, None, -5, 6, 8, -4, -6, None, 7, 9])) == 58",
    "assert candidate(root = tree_node([-1, 2, 2, None, 3, None, 3, None, 4, None, 4])) == 17",
    "assert candidate(root = tree_node([0, -10, 20, None, None, 15, 6, None, None, -5, 12, 11, 13, -14])) == 53",
    "assert candidate(root = tree_node([-10, -20, -30, -40, None, -50, -60, None, None, -70, -80, -90, None, None, -100])) == -10",
    "assert candidate(root = tree_node([100, 50, 200, 25, 75, 150, 300, 10, 40, 60, 90, 125, 175, 250, 350])) == 1175",
    "assert candidate(root = tree_node([-1, -2, -3, 1, 2, -1, -1, -2, None, -3, None, -2, -2])) == 2",
    "assert candidate(root = tree_node([10, 9, 20, None, None, 15, 7, 6, 12, 3, 8, 99, -100, 5, None, 4, 2, 1, None, None, None, None, None, None, None, -99])) == 159",
    "assert candidate(root = tree_node([100, -50, 50, -25, 25, -12, 12, -6, 6, -3, 3, -1, 1, 0, -100, 100, None, None, None, None, None, None, None, None, None, None, None, None, None, None])) == 181",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, None, None, None, 9])) == 52",
    "assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, -1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15])) == 44",
    "assert candidate(root = tree_node([1, -10, 20, 15, 10, None, -25, 6, None, None, -3, None, 4])) == 32",
    "assert candidate(root = tree_node([-1, -2, -3, -4, -5])) == -1",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -1, None, -5, 6, 9])) == 50",
    "assert candidate(root = tree_node([1, -2, 3, 4, None, None, -6, None, -7, None, None, 8, 9])) == 10",
    "assert candidate(root = tree_node([-10, 5, 20, 15, 25, None, None, None, -5, 30, None])) == 75",
    "assert candidate(root = tree_node([10, -2, 15, 20, -5, None, 7, None, 1, None, 3, 9])) == 60",
    "assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30])) == 101",
    "assert candidate(root = tree_node([2, -5, -1, None, -9, -4, None, None, -3, None, -8])) == 2",
    "assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])) == 69",
    "assert candidate(root = tree_node([3, 9, 20, None, None, 15, 7, 3, 10, -1, None, -15, 9, None, None, None, -1])) == 59",
    "assert candidate(root = tree_node([0, -10, 20, 15, 7, -2, None, None, None, None, None, 5, 1, None, None, None, -1])) == 28",
    "assert candidate(root = tree_node([10, 2, 10, 8, 34, 7, 6, 1, None, None, None, None, None, 9, 8, 7])) == 71",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, None, 5])) == 53",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, None, 1, -14, 16, 18, None, None, None, None, None, None, None, -19])) == 64",
    "assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])) == 44",
    "assert candidate(root = tree_node([0, 2, 5, None, None, 6, 3, None, None, 9, None, None, 12, 15, 7])) == 50",
    "assert candidate(root = tree_node([0, -10, 7, 8, None, 15, None, -8, None, 5, None, 9, 6, 11, None, None, None, None, None, None, None, None, None, None, None])) == 38",
    "assert candidate(root = tree_node([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1])) == 1",
    "assert candidate(root = tree_node([10, 5, 15, 3, 7, 13, 18, 1, 4, 6, 8, 12, 14, 17, 19, None, 2, None, 0, None, None, None, None, None, None, None, None, None, None, None, None, None, None])) == 82",
    "assert candidate(root = tree_node([-1, None, 9, -6, 3, None, None, None, -2])) == 12",
    "assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, -16, -17, -18, -19, -20, -21, -22, -23, -24, -25, -26, -27, -28, -29, -30])) == 44",
    "assert candidate(root = tree_node([1, -2, 3, -4, 5, -6, 7, -8, 9, -10, 11, -12, 13, -14, 15, -16, 17, -18, 19, -20])) == 48",
    "assert candidate(root = tree_node([-10, 9, 20, None, None, 15, 7, None, None, None, None, 2, None, 1, None, -1, None, None, None, -2])) == 42",
    "assert candidate(root = tree_node([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])) == 0",
    "assert candidate(root = tree_node([-1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15, -16, -17, -18, -19, -20, -21, -22, -23, -24, -25, -26, -27, -28, -29, -30, -31, -32])) == -1",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -1, None, -1, None, -2])) == 48",
    "assert candidate(root = tree_node([100, -50, 200, -75, 25, 150, 250, -100, None, 20, None, -50, None, 30, 40])) == 640",
    "assert candidate(root = tree_node([-1, None, -2, None, -3, None, -4, None, -5])) == -1",
    "assert candidate(root = tree_node([9, 4, 0, -1, -3, None, -10, None, None, -5])) == 13",
    "assert candidate(root = tree_node([0, -10, 5, None, None, -5, 6])) == 11",
    "assert candidate(root = tree_node([10, -10, 20, -20, 30, -30, 40, None, None, None, -40, None, None, -50, -60, None, None, -70, -80])) == 90",
    "assert candidate(root = tree_node([-1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12, -13, -14, -15])) == -1",
    "assert candidate(root = tree_node([1, None, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8, None, 9, None, 10, None, 11, None, 12, None, 13, None, 14, None, 15, None, 16, None, 17, None, 18, None, 19, None, 20, None, 21, None, 22, None, 23, None, 24, None, 25, None, 26, None, 27, None, 28, None, 29, None, 30, None, 31, None, 32, None, 33, None, 34, None, 35, None, 36, None, 37, None, 38, None, 39, None, 40])) == 820",
    "assert candidate(root = tree_node([-1, None, -2, None, -3, None, -4, None, -5, None, -6, None, -7])) == -1",
    "assert candidate(root = tree_node([10, 9, 20, None, None, 15, 7, 12, None, 2, 1, None, None, -5])) == 66",
    "assert candidate(root = tree_node([5, -4, -8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, -1, None, -5, 6, 9, -3])) == 26",
    "assert candidate(root = tree_node([2, -1, -2, 1, -4, -5, -6])) == 2",
    "assert candidate(root = tree_node([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32])) == 119",
    "assert candidate(root = tree_node([2, -5, 6, None, 5, None, 7])) == 15",
    "assert candidate(root = tree_node([100, 50, 50, 25, 25, 25, 25, 12, 13, 14, 15, 16, 17, 18, 19])) == 284",
    "assert candidate(root = tree_node([3, -2, 5, -6, None, None, 4, None, None, -8, None, None, 7])) == 12",
    "assert candidate(root = tree_node([50, 20, 30, 10, 40, 25, 35, 5, 15, 32, 45, 23, 27, 33, 47, 1, 9, 11, 19, 31, 34, 39, 44, 46, 48])) == 325",
    "assert candidate(root = tree_node([1, 2, None, 3, None, 4, None, 5, None, 6, None, 7, None, 8, None, 9])) == 45",
    "assert candidate(root = tree_node([5, 4, 8, 11, None, 13, 4, 7, 2, None, None, 5, 1, None, None, None, -1, None, -9])) == 48",
    "assert candidate(root = tree_node([10, 9, -10, None, None, 15, 20, 1, None, -1, None, -5, None, 4, None, -6])) == 32",
    "assert candidate(root = tree_node([10, 5, -3, 3, 2, None, 11, 3, -2, None, 1])) == 29",
    "assert candidate(root = tree_node([1, -2, 3, -4, None, 5, -6, 7, None, None, 8, None, 9])) == 19",
    "assert candidate(root = tree_node([1, -2, 3, 4, None, 5, -6, None, None, 7, -8, 9, -10, None, None, None, None, 11])) == 29",
    "assert candidate(root = tree_node([10, -10, 20, 15, 7, None, -5, 20, 30])) == 65",
    "assert candidate(root = tree_node([1, -2, -3, 4, 5, None, 6, None, None, -8, -9])) == 7",
    "assert candidate(root = tree_node([-10, 5, 9, None, -3, None, -8, None, -2, None, 7, -5, None, -1, None, 6, None, None, None, None, None, None, 8])) == 9",
    "assert candidate(root = tree_node([9, 6, -3, None, None, -6, 2, None, None, 2, None, -6, -6, -6])) == 16",
    "assert candidate(root = tree_node([100, -50, -50, None, -100, -100, None, -50, -100, None, -150, -150])) == 100",
    "assert candidate(root = tree_node([10, 9, 20, None, None, 15, 7, None, None, 30, 40, None, 50])) == 127"
  ]
}