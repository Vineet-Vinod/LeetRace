{
  "id": "find-all-possible-stable-binary-arrays-ii",
  "title": "Find All Possible Stable Binary Arrays Ii",
  "difficulty": "Hard",
  "tags": [
    "Dynamic Programming",
    "Prefix Sum"
  ],
  "description": "You are given 3 positive integers zero, one, and limit.\nA binary array arr is called stable if:\n\nThe number of occurrences of 0 in arr is exactly zero.\nThe number of occurrences of 1 in arr is exactly one.\nEach subarray of arr with a size greater than limit must contain both 0 and 1.\n\nReturn the total number of stable binary arrays.\nSince the answer may be very large, return it modulo 109 + 7.\n\u00a0\nExample 1:\n\nInput: zero = 1, one = 1, limit = 2\nOutput: 2\nExplanation:\nThe two possible stable binary arrays are [1,0] and [0,1].\n\nExample 2:\n\nInput: zero = 1, one = 2, limit = 1\nOutput: 1\nExplanation:\nThe only possible stable binary array is [1,0,1].\n\nExample 3:\n\nInput: zero = 3, one = 3, limit = 2\nOutput: 14\nExplanation:\nAll the possible stable binary arrays are [0,0,1,0,1,1], [0,0,1,1,0,1], [0,1,0,0,1,1], [0,1,0,1,0,1], [0,1,0,1,1,0], [0,1,1,0,0,1], [0,1,1,0,1,0], [1,0,0,1,0,1], [1,0,0,1,1,0], [1,0,1,0,0,1], [1,0,1,0,1,0], [1,0,1,1,0,0], [1,1,0,0,1,0], and [1,1,0,1,0,0].\n\n\u00a0\nConstraints:\n\n1 <= zero, one, limit <= 1000\n\n",
  "entry_point": "Solution().numberOfStableArrays",
  "starter_code": "class Solution:\n    def numberOfStableArrays(self, zero: int, one: int, limit: int) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(zero = 5,one = 5,limit = 4) == 242\n    assert candidate(zero = 100,one = 100,limit = 50) == 375840050\n    assert candidate(zero = 5,one = 5,limit = 2) == 84\n    assert candidate(zero = 4,one = 4,limit = 3) == 62\n    assert candidate(zero = 2,one = 2,limit = 3) == 6\n    assert candidate(zero = 3,one = 2,limit = 1) == 1\n    assert candidate(zero = 5,one = 4,limit = 2) == 45\n    assert candidate(zero = 4,one = 4,limit = 4) == 70\n    assert candidate(zero = 10,one = 10,limit = 5) == 165114\n    assert candidate(zero = 1,one = 1,limit = 2) == 2\n    assert candidate(zero = 4,one = 5,limit = 3) == 99\n    assert candidate(zero = 3,one = 3,limit = 2) == 14\n    assert candidate(zero = 5,one = 5,limit = 3) == 194\n    assert candidate(zero = 100,one = 100,limit = 10) == 474184186\n    assert candidate(zero = 4,one = 3,limit = 4) == 35\n    assert candidate(zero = 2,one = 3,limit = 2) == 7\n    assert candidate(zero = 1,one = 2,limit = 1) == 1\n    assert candidate(zero = 7,one = 8,limit = 4) == 5250\n    assert candidate(zero = 100,one = 50,limit = 10) == 10967566\n    assert candidate(zero = 75,one = 25,limit = 3) == 3276\n    assert candidate(zero = 7,one = 10,limit = 4) == 12948\n    assert candidate(zero = 9,one = 7,limit = 3) == 4848\n    assert candidate(zero = 20,one = 15,limit = 4) == 30552957\n    assert candidate(zero = 100,one = 100,limit = 100) == 407336795\n    assert candidate(zero = 10,one = 15,limit = 3) == 378412\n    assert candidate(zero = 9,one = 11,limit = 2) == 5344\n    assert candidate(zero = 150,one = 150,limit = 25) == 469749347\n    assert candidate(zero = 12,one = 9,limit = 4) == 174530\n    assert candidate(zero = 10,one = 10,limit = 3) == 66486\n    assert candidate(zero = 12,one = 12,limit = 10) == 2703832\n    assert candidate(zero = 50,one = 50,limit = 10) == 430250984\n    assert candidate(zero = 50,one = 50,limit = 5) == 256686735\n    assert candidate(zero = 20,one = 10,limit = 4) == 3741210\n    assert candidate(zero = 20,one = 18,limit = 6) == 378141764\n    assert candidate(zero = 10,one = 5,limit = 3) == 546\n    assert candidate(zero = 8,one = 6,limit = 4) == 2386\n    assert candidate(zero = 20,one = 20,limit = 10) == 431683431\n    assert candidate(zero = 14,one = 14,limit = 4) == 21533230\n    assert candidate(zero = 15,one = 12,limit = 5) == 13147531\n    assert candidate(zero = 20,one = 10,limit = 2) == 66\n    assert candidate(zero = 200,one = 150,limit = 15) == 120261210\n    assert candidate(zero = 150,one = 150,limit = 15) == 416993889\n    assert candidate(zero = 75,one = 25,limit = 5) == 769798783\n    assert candidate(zero = 15,one = 10,limit = 5) == 2249276\n    assert candidate(zero = 7,one = 5,limit = 2) == 114\n    assert candidate(zero = 13,one = 10,limit = 5) == 914333\n    assert candidate(zero = 25,one = 25,limit = 1) == 2\n    assert candidate(zero = 17,one = 15,limit = 7) == 539683360\n    assert candidate(zero = 8,one = 12,limit = 2) == 1391\n    assert candidate(zero = 20,one = 20,limit = 5) == 89895606\n    assert candidate(zero = 12,one = 12,limit = 6) == 2555112\n    assert candidate(zero = 20,one = 15,limit = 7) == 957788108\n    assert candidate(zero = 8,one = 7,limit = 3) == 3296\n    assert candidate(zero = 7,one = 5,limit = 1) == 0\n    assert candidate(zero = 50,one = 50,limit = 4) == 507669790\n    assert candidate(zero = 7,one = 8,limit = 2) == 720\n    assert candidate(zero = 15,one = 20,limit = 5) == 983489078\n    assert candidate(zero = 6,one = 8,limit = 2) == 300\n    assert candidate(zero = 7,one = 5,limit = 4) == 664\n    assert candidate(zero = 6,one = 6,limit = 1) == 2\n    assert candidate(zero = 15,one = 15,limit = 5) == 119126132\n    assert candidate(zero = 15,one = 8,limit = 5) == 277298\n    assert candidate(zero = 9,one = 15,limit = 3) == 112216\n    assert candidate(zero = 10,one = 8,limit = 3) == 16025\n    assert candidate(zero = 12,one = 8,limit = 6) == 114332\n    assert candidate(zero = 18,one = 12,limit = 5) == 52051889\n",
  "test_cases": [
    "assert candidate(zero = 5,one = 5,limit = 4) == 242",
    "assert candidate(zero = 100,one = 100,limit = 50) == 375840050",
    "assert candidate(zero = 5,one = 5,limit = 2) == 84",
    "assert candidate(zero = 4,one = 4,limit = 3) == 62",
    "assert candidate(zero = 2,one = 2,limit = 3) == 6",
    "assert candidate(zero = 3,one = 2,limit = 1) == 1",
    "assert candidate(zero = 5,one = 4,limit = 2) == 45",
    "assert candidate(zero = 4,one = 4,limit = 4) == 70",
    "assert candidate(zero = 10,one = 10,limit = 5) == 165114",
    "assert candidate(zero = 1,one = 1,limit = 2) == 2",
    "assert candidate(zero = 4,one = 5,limit = 3) == 99",
    "assert candidate(zero = 3,one = 3,limit = 2) == 14",
    "assert candidate(zero = 5,one = 5,limit = 3) == 194",
    "assert candidate(zero = 100,one = 100,limit = 10) == 474184186",
    "assert candidate(zero = 4,one = 3,limit = 4) == 35",
    "assert candidate(zero = 2,one = 3,limit = 2) == 7",
    "assert candidate(zero = 1,one = 2,limit = 1) == 1",
    "assert candidate(zero = 7,one = 8,limit = 4) == 5250",
    "assert candidate(zero = 100,one = 50,limit = 10) == 10967566",
    "assert candidate(zero = 75,one = 25,limit = 3) == 3276",
    "assert candidate(zero = 7,one = 10,limit = 4) == 12948",
    "assert candidate(zero = 9,one = 7,limit = 3) == 4848",
    "assert candidate(zero = 20,one = 15,limit = 4) == 30552957",
    "assert candidate(zero = 100,one = 100,limit = 100) == 407336795",
    "assert candidate(zero = 10,one = 15,limit = 3) == 378412",
    "assert candidate(zero = 9,one = 11,limit = 2) == 5344",
    "assert candidate(zero = 150,one = 150,limit = 25) == 469749347",
    "assert candidate(zero = 12,one = 9,limit = 4) == 174530",
    "assert candidate(zero = 10,one = 10,limit = 3) == 66486",
    "assert candidate(zero = 12,one = 12,limit = 10) == 2703832",
    "assert candidate(zero = 50,one = 50,limit = 10) == 430250984",
    "assert candidate(zero = 50,one = 50,limit = 5) == 256686735",
    "assert candidate(zero = 20,one = 10,limit = 4) == 3741210",
    "assert candidate(zero = 20,one = 18,limit = 6) == 378141764",
    "assert candidate(zero = 10,one = 5,limit = 3) == 546",
    "assert candidate(zero = 8,one = 6,limit = 4) == 2386",
    "assert candidate(zero = 20,one = 20,limit = 10) == 431683431",
    "assert candidate(zero = 14,one = 14,limit = 4) == 21533230",
    "assert candidate(zero = 15,one = 12,limit = 5) == 13147531",
    "assert candidate(zero = 20,one = 10,limit = 2) == 66",
    "assert candidate(zero = 200,one = 150,limit = 15) == 120261210",
    "assert candidate(zero = 150,one = 150,limit = 15) == 416993889",
    "assert candidate(zero = 75,one = 25,limit = 5) == 769798783",
    "assert candidate(zero = 15,one = 10,limit = 5) == 2249276",
    "assert candidate(zero = 7,one = 5,limit = 2) == 114",
    "assert candidate(zero = 13,one = 10,limit = 5) == 914333",
    "assert candidate(zero = 25,one = 25,limit = 1) == 2",
    "assert candidate(zero = 17,one = 15,limit = 7) == 539683360",
    "assert candidate(zero = 8,one = 12,limit = 2) == 1391",
    "assert candidate(zero = 20,one = 20,limit = 5) == 89895606",
    "assert candidate(zero = 12,one = 12,limit = 6) == 2555112",
    "assert candidate(zero = 20,one = 15,limit = 7) == 957788108",
    "assert candidate(zero = 8,one = 7,limit = 3) == 3296",
    "assert candidate(zero = 7,one = 5,limit = 1) == 0",
    "assert candidate(zero = 50,one = 50,limit = 4) == 507669790",
    "assert candidate(zero = 7,one = 8,limit = 2) == 720",
    "assert candidate(zero = 15,one = 20,limit = 5) == 983489078",
    "assert candidate(zero = 6,one = 8,limit = 2) == 300",
    "assert candidate(zero = 7,one = 5,limit = 4) == 664",
    "assert candidate(zero = 6,one = 6,limit = 1) == 2",
    "assert candidate(zero = 15,one = 15,limit = 5) == 119126132",
    "assert candidate(zero = 15,one = 8,limit = 5) == 277298",
    "assert candidate(zero = 9,one = 15,limit = 3) == 112216",
    "assert candidate(zero = 10,one = 8,limit = 3) == 16025",
    "assert candidate(zero = 12,one = 8,limit = 6) == 114332",
    "assert candidate(zero = 18,one = 12,limit = 5) == 52051889"
  ]
}