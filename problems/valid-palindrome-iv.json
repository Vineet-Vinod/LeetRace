{
  "id": "valid-palindrome-iv",
  "title": "Valid Palindrome Iv",
  "difficulty": "Medium",
  "tags": [
    "Two Pointers",
    "String"
  ],
  "description": "You are given a 0-indexed string s consisting of only lowercase English letters. In one operation, you can change any character of s to any other character.\nReturn true if you can make s a palindrome after performing exactly one or two operations, or return false otherwise.\n\u00a0\nExample 1:\n\nInput: s = \"abcdba\"\nOutput: true\nExplanation: One way to make s a palindrome using 1 operation is:\n- Change s[2] to 'd'. Now, s = \"abddba\".\nOne operation could be performed to make s a palindrome so return true.\n\nExample 2:\n\nInput: s = \"aa\"\nOutput: true\nExplanation: One way to make s a palindrome using 2 operations is:\n- Change s[0] to 'b'. Now, s = \"ba\".\n- Change s[1] to 'b'. Now, s = \"bb\".\nTwo operations could be performed to make s a palindrome so return true.\n\nExample 3:\n\nInput: s = \"abcdef\"\nOutput: false\nExplanation: It is not possible to make s a palindrome using one or two operations so return false.\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 105\ns consists only of lowercase English letters.\n\n",
  "entry_point": "Solution().makePalindrome",
  "starter_code": "class Solution:\n    def makePalindrome(self, s: str) -> bool:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcba\") == True\n    assert candidate(s = \"abcdef\") == False\n    assert candidate(s = \"abcdedcba\") == True\n    assert candidate(s = \"abcdba\") == True\n    assert candidate(s = \"a\") == True\n    assert candidate(s = \"abcdefghi\") == False\n    assert candidate(s = \"abcabcabc\") == False\n    assert candidate(s = \"ab\") == True\n    assert candidate(s = \"aa\") == True\n    assert candidate(s = \"abcde\") == True\n    assert candidate(s = \"abcabc\") == True\n    assert candidate(s = \"racecar\") == True\n    assert candidate(s = \"abcdexdcba\") == True\n    assert candidate(s = \"deeee\") == True\n    assert candidate(s = \"abcxcba\") == True\n    assert candidate(s = \"abcdefgh\") == False\n    assert candidate(s = \"aabbcc\") == True\n    assert candidate(s = \"aabbccdd\") == False\n    assert candidate(s = \"abca\") == True\n    assert candidate(s = \"abcdefg\") == False\n    assert candidate(s = \"aabbccddeeeffgghhii\") == False\n    assert candidate(s = \"abcdxyzyxwvutsrqponmlkjihgfedcba\") == False\n    assert candidate(s = \"abacabadabacabadabacaba\") == True\n    assert candidate(s = \"abac\") == True\n    assert candidate(s = \"aabbaa\") == True\n    assert candidate(s = \"abababababac\") == False\n    assert candidate(s = \"zzzzyzzzz\") == True\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxzyxcba\") == False\n    assert candidate(s = \"abcdexyzzyxedcba\") == True\n    assert candidate(s = \"abcdexyzzyxdbca\") == False\n    assert candidate(s = \"abcdefghijkllkjihgfe\") == False\n    assert candidate(s = \"abcdefghjklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == False\n    assert candidate(s = \"abracadabra\") == False\n    assert candidate(s = \"aabbccbaa\") == True\n    assert candidate(s = \"abcdefxyzzyxabcdef\") == False\n    assert candidate(s = \"\") == True\n    assert candidate(s = \"racecarx\") == False\n    assert candidate(s = \"abacaxbaxaba\") == True\n    assert candidate(s = \"aaaabbbbcccc\") == False\n    assert candidate(s = \"abcdabcdabcd\") == False\n    assert candidate(s = \"racear\") == True\n    assert candidate(s = \"abc\") == True\n    assert candidate(s = \"abacabadabacabad\") == False\n    assert candidate(s = \"abacabacaba\") == True\n    assert candidate(s = \"aacaacaa\") == True\n    assert candidate(s = \"aabbccddeee\") == False\n    assert candidate(s = \"xyzzyx\") == True\n    assert candidate(s = \"abacaba\") == True\n    assert candidate(s = \"xyzzYx\") == True\n    assert candidate(s = \"aabbaabbaa\") == True\n    assert candidate(s = \"abaxyzyxab\") == False\n    assert candidate(s = \"aabbccddeeeedccbbaa\") == True\n    assert candidate(s = \"aabcaaba\") == False\n    assert candidate(s = \"abcdxyz\") == False\n    assert candidate(s = \"abacabadabacabadabacabadabacaba\") == True\n    assert candidate(s = \"xyzzzzzyx\") == True\n    assert candidate(s = \"abcdefzzzzzzfedcba\") == True\n    assert candidate(s = \"abcdefghjihgfedcba\") == True\n    assert candidate(s = \"abcdeffdcba\") == True\n    assert candidate(s = \"abcdefghijkllkjihgfedcb\") == False\n    assert candidate(s = \"abcda\") == True\n    assert candidate(s = \"aabbccddeedccbbaa\") == True\n    assert candidate(s = \"abcdeedcbaabcdeedcba\") == True\n    assert candidate(s = \"abcdefghijkllkj\") == False\n    assert candidate(s = \"abcdefghijkllk\") == False\n    assert candidate(s = \"abcdeedcba\") == True\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == True\n    assert candidate(s = \"noon\") == True\n    assert candidate(s = \"abababababa\") == True\n    assert candidate(s = \"abacabad\") == False\n    assert candidate(s = \"aabbccddeeeeddcbaabbccdd\") == False\n    assert candidate(s = \"abcaacb\") == False\n    assert candidate(s = \"abababababababab\") == False\n    assert candidate(s = \"abcdefghijjihgfeba\") == False\n    assert candidate(s = \"abcd\") == True\n    assert candidate(s = \"abcdefghijklmnop\") == False\n    assert candidate(s = \"abcdeffedcba\") == True\n    assert candidate(s = \"abcdefedcba\") == True\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzyxwvutsrqponmlkjihgfedcba\") == True\n    assert candidate(s = \"level\") == True\n    assert candidate(s = \"abacabadabacabac\") == False\n    assert candidate(s = \"abcdefghiijihgfedcba\") == True\n    assert candidate(s = \"racecarr\") == False\n    assert candidate(s = \"abcdefghhgfedcba\") == True\n    assert candidate(s = \"madam\") == True\n    assert candidate(s = \"abcdefghijk\") == False\n    assert candidate(s = \"aaaaaaaaaaa\") == True\n    assert candidate(s = \"abcfedcba\") == True\n    assert candidate(s = \"abcdexyz\") == False\n    assert candidate(s = \"aabbccddccbaa\") == True\n    assert candidate(s = \"abcdefghijkllkjihgfed\") == False\n    assert candidate(s = \"abacabadabacaba\") == True\n    assert candidate(s = \"abcdefgihgfedcba\") == True\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == True\n    assert candidate(s = \"abcdefghijihgfedcba\") == True\n    assert candidate(s = \"abaxab\") == False\n    assert candidate(s = \"abcdefghijkll\") == False\n    assert candidate(s = \"abcdabcd\") == False\n    assert candidate(s = \"abba\") == True\n    assert candidate(s = \"abcdexyzzyxzyxedcba\") == True\n    assert candidate(s = \"abcdefghijkmlkjihgfedcba\") == True\n    assert candidate(s = \"abcdexyzzyxdecba\") == True\n    assert candidate(s = \"aabaaa\") == True\n    assert candidate(s = \"aabbccddeeffgg\") == False\n    assert candidate(s = \"detartrated\") == True\n    assert candidate(s = \"abccba\") == True\n    assert candidate(s = \"abbcbba\") == True\n    assert candidate(s = \"abcdefghij\") == False\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == False\n    assert candidate(s = \"aabbccddeeeeddccbaa\") == False\n    assert candidate(s = \"aabbccddeedccbaa\") == False\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == False\n    assert candidate(s = \"abcdefghgfedcba\") == True\n    assert candidate(s = \"abcdefghijkllkjihg\") == False\n    assert candidate(s = \"abccccba\") == True\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == False\n    assert candidate(s = \"deified\") == True\n    assert candidate(s = \"repaper\") == True\n    assert candidate(s = \"abcdefghijkllkjihgf\") == False\n    assert candidate(s = \"aabbaaabbaa\") == True\n    assert candidate(s = \"abcdefghijkllkjihgfedcba\") == True\n    assert candidate(s = \"abacdfgdcaba\") == True\n    assert candidate(s = \"abcdefghijkllkjih\") == False\n    assert candidate(s = \"ababababab\") == False\n    assert candidate(s = \"abcdefabcdef\") == False\n    assert candidate(s = \"abcddcba\") == True\n    assert candidate(s = \"aaaaabaaa\") == True\n    assert candidate(s = \"rotor\") == True\n    assert candidate(s = \"abcdefghigfedcba\") == True\n    assert candidate(s = \"abcdefghihgfedcba\") == True\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == False\n    assert candidate(s = \"abcdefxzyxabcdef\") == False\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnoopqrrsttuuuvvvvuuuuttsrrqponnmmoollkkjjiihhggeeffddccbbaa\") == False\n    assert candidate(s = \"abcdefghijklmnopqponmlkjihgfedcba\") == True\n    assert candidate(s = \"abcdefghijhgfedcba\") == True\n    assert candidate(s = \"mississippi\") == False\n    assert candidate(s = \"abaxxxxxxa\") == True\n    assert candidate(s = \"abacaxaba\") == True\n    assert candidate(s = \"abacax\") == False\n    assert candidate(s = \"abcdexyzzyxdcba\") == False\n    assert candidate(s = \"abacaxyzxyzxcaba\") == False\n",
  "test_cases": [
    "assert candidate(s = \"abcba\") == True",
    "assert candidate(s = \"abcdef\") == False",
    "assert candidate(s = \"abcdedcba\") == True",
    "assert candidate(s = \"abcdba\") == True",
    "assert candidate(s = \"a\") == True",
    "assert candidate(s = \"abcdefghi\") == False",
    "assert candidate(s = \"abcabcabc\") == False",
    "assert candidate(s = \"ab\") == True",
    "assert candidate(s = \"aa\") == True",
    "assert candidate(s = \"abcde\") == True",
    "assert candidate(s = \"abcabc\") == True",
    "assert candidate(s = \"racecar\") == True",
    "assert candidate(s = \"abcdexdcba\") == True",
    "assert candidate(s = \"deeee\") == True",
    "assert candidate(s = \"abcxcba\") == True",
    "assert candidate(s = \"abcdefgh\") == False",
    "assert candidate(s = \"aabbcc\") == True",
    "assert candidate(s = \"aabbccdd\") == False",
    "assert candidate(s = \"abca\") == True",
    "assert candidate(s = \"abcdefg\") == False",
    "assert candidate(s = \"aabbccddeeeffgghhii\") == False",
    "assert candidate(s = \"abcdxyzyxwvutsrqponmlkjihgfedcba\") == False",
    "assert candidate(s = \"abacabadabacabadabacaba\") == True",
    "assert candidate(s = \"abac\") == True",
    "assert candidate(s = \"aabbaa\") == True",
    "assert candidate(s = \"abababababac\") == False",
    "assert candidate(s = \"zzzzyzzzz\") == True",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxzyxcba\") == False",
    "assert candidate(s = \"abcdexyzzyxedcba\") == True",
    "assert candidate(s = \"abcdexyzzyxdbca\") == False",
    "assert candidate(s = \"abcdefghijkllkjihgfe\") == False",
    "assert candidate(s = \"abcdefghjklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == False",
    "assert candidate(s = \"abracadabra\") == False",
    "assert candidate(s = \"aabbccbaa\") == True",
    "assert candidate(s = \"abcdefxyzzyxabcdef\") == False",
    "assert candidate(s = \"\") == True",
    "assert candidate(s = \"racecarx\") == False",
    "assert candidate(s = \"abacaxbaxaba\") == True",
    "assert candidate(s = \"aaaabbbbcccc\") == False",
    "assert candidate(s = \"abcdabcdabcd\") == False",
    "assert candidate(s = \"racear\") == True",
    "assert candidate(s = \"abc\") == True",
    "assert candidate(s = \"abacabadabacabad\") == False",
    "assert candidate(s = \"abacabacaba\") == True",
    "assert candidate(s = \"aacaacaa\") == True",
    "assert candidate(s = \"aabbccddeee\") == False",
    "assert candidate(s = \"xyzzyx\") == True",
    "assert candidate(s = \"abacaba\") == True",
    "assert candidate(s = \"xyzzYx\") == True",
    "assert candidate(s = \"aabbaabbaa\") == True",
    "assert candidate(s = \"abaxyzyxab\") == False",
    "assert candidate(s = \"aabbccddeeeedccbbaa\") == True",
    "assert candidate(s = \"aabcaaba\") == False",
    "assert candidate(s = \"abcdxyz\") == False",
    "assert candidate(s = \"abacabadabacabadabacabadabacaba\") == True",
    "assert candidate(s = \"xyzzzzzyx\") == True",
    "assert candidate(s = \"abcdefzzzzzzfedcba\") == True",
    "assert candidate(s = \"abcdefghjihgfedcba\") == True",
    "assert candidate(s = \"abcdeffdcba\") == True",
    "assert candidate(s = \"abcdefghijkllkjihgfedcb\") == False",
    "assert candidate(s = \"abcda\") == True",
    "assert candidate(s = \"aabbccddeedccbbaa\") == True",
    "assert candidate(s = \"abcdeedcbaabcdeedcba\") == True",
    "assert candidate(s = \"abcdefghijkllkj\") == False",
    "assert candidate(s = \"abcdefghijkllk\") == False",
    "assert candidate(s = \"abcdeedcba\") == True",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == True",
    "assert candidate(s = \"noon\") == True",
    "assert candidate(s = \"abababababa\") == True",
    "assert candidate(s = \"abacabad\") == False",
    "assert candidate(s = \"aabbccddeeeeddcbaabbccdd\") == False",
    "assert candidate(s = \"abcaacb\") == False",
    "assert candidate(s = \"abababababababab\") == False",
    "assert candidate(s = \"abcdefghijjihgfeba\") == False",
    "assert candidate(s = \"abcd\") == True",
    "assert candidate(s = \"abcdefghijklmnop\") == False",
    "assert candidate(s = \"abcdeffedcba\") == True",
    "assert candidate(s = \"abcdefedcba\") == True",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzyxwvutsrqponmlkjihgfedcba\") == True",
    "assert candidate(s = \"level\") == True",
    "assert candidate(s = \"abacabadabacabac\") == False",
    "assert candidate(s = \"abcdefghiijihgfedcba\") == True",
    "assert candidate(s = \"racecarr\") == False",
    "assert candidate(s = \"abcdefghhgfedcba\") == True",
    "assert candidate(s = \"madam\") == True",
    "assert candidate(s = \"abcdefghijk\") == False",
    "assert candidate(s = \"aaaaaaaaaaa\") == True",
    "assert candidate(s = \"abcfedcba\") == True",
    "assert candidate(s = \"abcdexyz\") == False",
    "assert candidate(s = \"aabbccddccbaa\") == True",
    "assert candidate(s = \"abcdefghijkllkjihgfed\") == False",
    "assert candidate(s = \"abacabadabacaba\") == True",
    "assert candidate(s = \"abcdefgihgfedcba\") == True",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == True",
    "assert candidate(s = \"abcdefghijihgfedcba\") == True",
    "assert candidate(s = \"abaxab\") == False",
    "assert candidate(s = \"abcdefghijkll\") == False",
    "assert candidate(s = \"abcdabcd\") == False",
    "assert candidate(s = \"abba\") == True",
    "assert candidate(s = \"abcdexyzzyxzyxedcba\") == True",
    "assert candidate(s = \"abcdefghijkmlkjihgfedcba\") == True",
    "assert candidate(s = \"abcdexyzzyxdecba\") == True",
    "assert candidate(s = \"aabaaa\") == True",
    "assert candidate(s = \"aabbccddeeffgg\") == False",
    "assert candidate(s = \"detartrated\") == True",
    "assert candidate(s = \"abccba\") == True",
    "assert candidate(s = \"abbcbba\") == True",
    "assert candidate(s = \"abcdefghij\") == False",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == False",
    "assert candidate(s = \"aabbccddeeeeddccbaa\") == False",
    "assert candidate(s = \"aabbccddeedccbaa\") == False",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == False",
    "assert candidate(s = \"abcdefghgfedcba\") == True",
    "assert candidate(s = \"abcdefghijkllkjihg\") == False",
    "assert candidate(s = \"abccccba\") == True",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == False",
    "assert candidate(s = \"deified\") == True",
    "assert candidate(s = \"repaper\") == True",
    "assert candidate(s = \"abcdefghijkllkjihgf\") == False",
    "assert candidate(s = \"aabbaaabbaa\") == True",
    "assert candidate(s = \"abcdefghijkllkjihgfedcba\") == True",
    "assert candidate(s = \"abacdfgdcaba\") == True",
    "assert candidate(s = \"abcdefghijkllkjih\") == False",
    "assert candidate(s = \"ababababab\") == False",
    "assert candidate(s = \"abcdefabcdef\") == False",
    "assert candidate(s = \"abcddcba\") == True",
    "assert candidate(s = \"aaaaabaaa\") == True",
    "assert candidate(s = \"rotor\") == True",
    "assert candidate(s = \"abcdefghigfedcba\") == True",
    "assert candidate(s = \"abcdefghihgfedcba\") == True",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == False",
    "assert candidate(s = \"abcdefxzyxabcdef\") == False",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnoopqrrsttuuuvvvvuuuuttsrrqponnmmoollkkjjiihhggeeffddccbbaa\") == False",
    "assert candidate(s = \"abcdefghijklmnopqponmlkjihgfedcba\") == True",
    "assert candidate(s = \"abcdefghijhgfedcba\") == True",
    "assert candidate(s = \"mississippi\") == False",
    "assert candidate(s = \"abaxxxxxxa\") == True",
    "assert candidate(s = \"abacaxaba\") == True",
    "assert candidate(s = \"abacax\") == False",
    "assert candidate(s = \"abcdexyzzyxdcba\") == False",
    "assert candidate(s = \"abacaxyzxyzxcaba\") == False"
  ]
}