{
  "id": "smallest-k-length-subsequence-with-occurrences-of-a-letter",
  "title": "Smallest K Length Subsequence With Occurrences Of A Letter",
  "difficulty": "Hard",
  "tags": [
    "Stack",
    "Greedy",
    "String",
    "Monotonic Stack"
  ],
  "description": "You are given a string s, an integer k, a letter letter, and an integer repetition.\nReturn the lexicographically smallest subsequence of s of length k that has the letter letter appear at least repetition times. The test cases are generated so that the letter appears in s at least repetition times.\nA subsequence is a string that can be derived from another string by deleting some or no characters without changing the order of the remaining characters.\nA string a is lexicographically smaller than a string b if in the first position where a and b differ, string a has a letter that appears earlier in the alphabet than the corresponding letter in b.\n\u00a0\nExample 1:\n\nInput: s = \"leet\", k = 3, letter = \"e\", repetition = 1\nOutput: \"eet\"\nExplanation: There are four subsequences of length 3 that have the letter 'e' appear at least 1 time:\n- \"lee\" (from \"leet\")\n- \"let\" (from \"leet\")\n- \"let\" (from \"leet\")\n- \"eet\" (from \"leet\")\nThe lexicographically smallest subsequence among them is \"eet\".\n\nExample 2:\n\n\nInput: s = \"leetcode\", k = 4, letter = \"e\", repetition = 2\nOutput: \"ecde\"\nExplanation: \"ecde\" is the lexicographically smallest subsequence of length 4 that has the letter \"e\" appear at least 2 times.\n\nExample 3:\n\nInput: s = \"bb\", k = 2, letter = \"b\", repetition = 2\nOutput: \"bb\"\nExplanation: \"bb\" is the only subsequence of length 2 that has the letter \"b\" appear at least 2 times.\n\n\u00a0\nConstraints:\n\n1 <= repetition <= k <= s.length <= 5 * 104\ns consists of lowercase English letters.\nletter is a lowercase English letter, and appears in s at least repetition times.\n\n",
  "entry_point": "Solution().smallestSubsequence",
  "starter_code": "class Solution:\n    def smallestSubsequence(self, s: str, k: int, letter: str, repetition: int) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"bb\",k = 2,letter = \"b\",repetition = 2) == \"bb\"\n    assert candidate(s = \"leetcode\",k = 4,letter = \"e\",repetition = 2) == \"ecde\"\n    assert candidate(s = \"leet\",k = 3,letter = \"e\",repetition = 1) == \"eet\"\n    assert candidate(s = \"aabbc\",k = 3,letter = \"a\",repetition = 1) == \"aab\"\n    assert candidate(s = \"abacabad\",k = 4,letter = \"a\",repetition = 2) == \"aaaa\"\n    assert candidate(s = \"zzzzz\",k = 3,letter = \"z\",repetition = 3) == \"zzz\"\n    assert candidate(s = \"abcdedcba\",k = 5,letter = \"d\",repetition = 1) == \"abcda\"\n    assert candidate(s = \"zzzzzaaaaa\",k = 5,letter = \"a\",repetition = 3) == \"aaaaa\"\n    assert candidate(s = \"apple\",k = 3,letter = \"p\",repetition = 1) == \"ape\"\n    assert candidate(s = \"abacabadabacaba\",k = 7,letter = \"a\",repetition = 3) == \"aaaaaaa\"\n    assert candidate(s = \"azbzczdz\",k = 4,letter = \"z\",repetition = 2) == \"abzz\"\n    assert candidate(s = \"abcdedcba\",k = 5,letter = \"c\",repetition = 1) == \"abcba\"\n    assert candidate(s = \"xyzxyzxyz\",k = 5,letter = \"z\",repetition = 2) == \"xxyzz\"\n    assert candidate(s = \"abcdedcba\",k = 5,letter = \"c\",repetition = 2) == \"abcca\"\n    assert candidate(s = \"zzzz\",k = 2,letter = \"z\",repetition = 2) == \"zz\"\n    assert candidate(s = \"abcabcabc\",k = 6,letter = \"a\",repetition = 2) == \"aababc\"\n    assert candidate(s = \"abcdabcdabcd\",k = 9,letter = \"b\",repetition = 3) == \"ababcabcd\"\n    assert candidate(s = \"elephant\",k = 4,letter = \"e\",repetition = 1) == \"eant\"\n    assert candidate(s = \"zazbzazbzazb\",k = 8,letter = \"z\",repetition = 4) == \"abzazbzz\"\n    assert candidate(s = \"babcbabcbabc\",k = 5,letter = \"b\",repetition = 3) == \"aabbb\"\n    assert candidate(s = \"abcdedcbaabcdedcbaabcdedcba\",k = 15,letter = \"c\",repetition = 3) == \"aaabcaabcdedcba\"\n    assert candidate(s = \"aaaaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\",k = 20,letter = \"c\",repetition = 4) == \"aaaaaaaaaaaabbbbcccc\"\n    assert candidate(s = \"aaaaaabbbbbbcccccc\",k = 12,letter = \"b\",repetition = 4) == \"aaaaaabbbbbb\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\",k = 26,letter = \"z\",repetition = 1) == \"aabcdefghijklmnopqrstuvwxz\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",k = 13,letter = \"m\",repetition = 1) == \"abcdefghijklm\"\n    assert candidate(s = \"mississippi\",k = 5,letter = \"i\",repetition = 2) == \"iiipi\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcbazyxwvutsrqponmlkjihgfedcba\",k = 26,letter = \"a\",repetition = 2) == \"ayxwvutsrqponmlkjihgfedcba\"\n    assert candidate(s = \"ababababababababababababababababababababababab\",k = 10,letter = \"a\",repetition = 3) == \"aaaaaaaaaa\"\n    assert candidate(s = \"xyzyxyzyxyzyxyzyzyzyxyzyzyzyzyzyxyzyxyzyzyzyzyzy\",k = 15,letter = \"x\",repetition = 3) == \"xxxxxxxyyyyzyzy\"\n    assert candidate(s = \"aabbccddeeff\",k = 8,letter = \"c\",repetition = 3) == \"aabbccd\"\n    assert candidate(s = \"zzzzzaaaaabbbb\",k = 10,letter = \"a\",repetition = 4) == \"zaaaaabbbb\"\n    assert candidate(s = \"mississippi\",k = 4,letter = \"i\",repetition = 2) == \"iiii\"\n    assert candidate(s = \"mississippi\",k = 6,letter = \"i\",repetition = 2) == \"iiippi\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 50,letter = \"z\",repetition = 10) == \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 20,letter = \"a\",repetition = 2) == \"aabbccddeeffgghhiijj\"\n    assert candidate(s = \"banana\",k = 4,letter = \"a\",repetition = 2) == \"aana\"\n    assert candidate(s = \"abcdabcdabcd\",k = 8,letter = \"b\",repetition = 3) == \"abababcd\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",k = 10,letter = \"m\",repetition = 2) == \"abcdefghm\"\n    assert candidate(s = \"abracadabra\",k = 7,letter = \"a\",repetition = 3) == \"aaaabra\"\n    assert candidate(s = \"zyxzyxzyx\",k = 5,letter = \"x\",repetition = 2) == \"xxzyx\"\n    assert candidate(s = \"abracadabraabracadabra\",k = 12,letter = \"a\",repetition = 4) == \"aaaaaaaaabra\"\n    assert candidate(s = \"racecar\",k = 5,letter = \"e\",repetition = 1) == \"acear\"\n    assert candidate(s = \"abcdabcabcabc\",k = 9,letter = \"c\",repetition = 3) == \"aabcabcac\"\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwerty\",k = 12,letter = \"r\",repetition = 2) == \"erabnmqwerty\"\n    assert candidate(s = \"xyzyzyzyzyx\",k = 7,letter = \"y\",repetition = 3) == \"xyyyyyx\"\n",
  "test_cases": [
    "assert candidate(s = \"bb\",k = 2,letter = \"b\",repetition = 2) == \"bb\"",
    "assert candidate(s = \"leetcode\",k = 4,letter = \"e\",repetition = 2) == \"ecde\"",
    "assert candidate(s = \"leet\",k = 3,letter = \"e\",repetition = 1) == \"eet\"",
    "assert candidate(s = \"aabbc\",k = 3,letter = \"a\",repetition = 1) == \"aab\"",
    "assert candidate(s = \"abacabad\",k = 4,letter = \"a\",repetition = 2) == \"aaaa\"",
    "assert candidate(s = \"zzzzz\",k = 3,letter = \"z\",repetition = 3) == \"zzz\"",
    "assert candidate(s = \"abcdedcba\",k = 5,letter = \"d\",repetition = 1) == \"abcda\"",
    "assert candidate(s = \"zzzzzaaaaa\",k = 5,letter = \"a\",repetition = 3) == \"aaaaa\"",
    "assert candidate(s = \"apple\",k = 3,letter = \"p\",repetition = 1) == \"ape\"",
    "assert candidate(s = \"abacabadabacaba\",k = 7,letter = \"a\",repetition = 3) == \"aaaaaaa\"",
    "assert candidate(s = \"azbzczdz\",k = 4,letter = \"z\",repetition = 2) == \"abzz\"",
    "assert candidate(s = \"abcdedcba\",k = 5,letter = \"c\",repetition = 1) == \"abcba\"",
    "assert candidate(s = \"xyzxyzxyz\",k = 5,letter = \"z\",repetition = 2) == \"xxyzz\"",
    "assert candidate(s = \"abcdedcba\",k = 5,letter = \"c\",repetition = 2) == \"abcca\"",
    "assert candidate(s = \"zzzz\",k = 2,letter = \"z\",repetition = 2) == \"zz\"",
    "assert candidate(s = \"abcabcabc\",k = 6,letter = \"a\",repetition = 2) == \"aababc\"",
    "assert candidate(s = \"abcdabcdabcd\",k = 9,letter = \"b\",repetition = 3) == \"ababcabcd\"",
    "assert candidate(s = \"elephant\",k = 4,letter = \"e\",repetition = 1) == \"eant\"",
    "assert candidate(s = \"zazbzazbzazb\",k = 8,letter = \"z\",repetition = 4) == \"abzazbzz\"",
    "assert candidate(s = \"babcbabcbabc\",k = 5,letter = \"b\",repetition = 3) == \"aabbb\"",
    "assert candidate(s = \"abcdedcbaabcdedcbaabcdedcba\",k = 15,letter = \"c\",repetition = 3) == \"aaabcaabcdedcba\"",
    "assert candidate(s = \"aaaaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\",k = 20,letter = \"c\",repetition = 4) == \"aaaaaaaaaaaabbbbcccc\"",
    "assert candidate(s = \"aaaaaabbbbbbcccccc\",k = 12,letter = \"b\",repetition = 4) == \"aaaaaabbbbbb\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\",k = 26,letter = \"z\",repetition = 1) == \"aabcdefghijklmnopqrstuvwxz\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",k = 13,letter = \"m\",repetition = 1) == \"abcdefghijklm\"",
    "assert candidate(s = \"mississippi\",k = 5,letter = \"i\",repetition = 2) == \"iiipi\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcbazyxwvutsrqponmlkjihgfedcba\",k = 26,letter = \"a\",repetition = 2) == \"ayxwvutsrqponmlkjihgfedcba\"",
    "assert candidate(s = \"ababababababababababababababababababababababab\",k = 10,letter = \"a\",repetition = 3) == \"aaaaaaaaaa\"",
    "assert candidate(s = \"xyzyxyzyxyzyxyzyzyzyxyzyzyzyzyzyxyzyxyzyzyzyzyzy\",k = 15,letter = \"x\",repetition = 3) == \"xxxxxxxyyyyzyzy\"",
    "assert candidate(s = \"aabbccddeeff\",k = 8,letter = \"c\",repetition = 3) == \"aabbccd\"",
    "assert candidate(s = \"zzzzzaaaaabbbb\",k = 10,letter = \"a\",repetition = 4) == \"zaaaaabbbb\"",
    "assert candidate(s = \"mississippi\",k = 4,letter = \"i\",repetition = 2) == \"iiii\"",
    "assert candidate(s = \"mississippi\",k = 6,letter = \"i\",repetition = 2) == \"iiippi\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 50,letter = \"z\",repetition = 10) == \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 20,letter = \"a\",repetition = 2) == \"aabbccddeeffgghhiijj\"",
    "assert candidate(s = \"banana\",k = 4,letter = \"a\",repetition = 2) == \"aana\"",
    "assert candidate(s = \"abcdabcdabcd\",k = 8,letter = \"b\",repetition = 3) == \"abababcd\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",k = 10,letter = \"m\",repetition = 2) == \"abcdefghm\"",
    "assert candidate(s = \"abracadabra\",k = 7,letter = \"a\",repetition = 3) == \"aaaabra\"",
    "assert candidate(s = \"zyxzyxzyx\",k = 5,letter = \"x\",repetition = 2) == \"xxzyx\"",
    "assert candidate(s = \"abracadabraabracadabra\",k = 12,letter = \"a\",repetition = 4) == \"aaaaaaaaabra\"",
    "assert candidate(s = \"racecar\",k = 5,letter = \"e\",repetition = 1) == \"acear\"",
    "assert candidate(s = \"abcdabcabcabc\",k = 9,letter = \"c\",repetition = 3) == \"aabcabcac\"",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwerty\",k = 12,letter = \"r\",repetition = 2) == \"erabnmqwerty\"",
    "assert candidate(s = \"xyzyzyzyzyx\",k = 7,letter = \"y\",repetition = 3) == \"xyyyyyx\""
  ]
}