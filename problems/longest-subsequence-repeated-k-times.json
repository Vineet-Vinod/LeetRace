{
  "id": "longest-subsequence-repeated-k-times",
  "title": "Longest Subsequence Repeated K Times",
  "difficulty": "Hard",
  "tags": [
    "Greedy",
    "String",
    "Backtracking",
    "Counting",
    "Enumeration"
  ],
  "description": "You are given a string s of length n, and an integer k. You are tasked to find the longest subsequence repeated k times in string s.\nA subsequence is a string that can be derived from another string by deleting some or no characters without changing the order of the remaining characters.\nA subsequence seq is repeated k times in the string s if seq * k is a subsequence of s, where seq * k represents a string constructed by concatenating seq k times.\n\nFor example, \"bba\" is repeated 2 times in the string \"bababcba\", because the string \"bbabba\", constructed by concatenating \"bba\" 2 times, is a subsequence of the string \"bababcba\".\n\nReturn the longest subsequence repeated k times in string s. If multiple such subsequences are found, return the lexicographically largest one. If there is no such subsequence, return an empty string.\n\u00a0\nExample 1:\n\n\nInput: s = \"letsleetcode\", k = 2\nOutput: \"let\"\nExplanation: There are two longest subsequences repeated 2 times: \"let\" and \"ete\".\n\"let\" is the lexicographically largest one.\n\nExample 2:\n\nInput: s = \"bb\", k = 2\nOutput: \"b\"\nExplanation: The longest subsequence repeated 2 times is \"b\".\n\nExample 3:\n\nInput: s = \"ab\", k = 2\nOutput: \"\"\nExplanation: There is no subsequence repeated 2 times. Empty string is returned.\n\n\u00a0\nConstraints:\n\nn == s.length\n2 <= n, k <= 2000\n2 <= n < k * 8\ns consists of lowercase English letters.\n\n",
  "entry_point": "Solution().longestSubsequenceRepeatedK",
  "starter_code": "class Solution:\n    def longestSubsequenceRepeatedK(self, s: str, k: int) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"aabbcc\",k = 3) == \"\"\n    assert candidate(s = \"zzzzzzzzz\",k = 4) == \"zz\"\n    assert candidate(s = \"zzzzzzzzzz\",k = 5) == \"zz\"\n    assert candidate(s = \"abcabcabcabc\",k = 4) == \"abc\"\n    assert candidate(s = \"abcdabcabc\",k = 3) == \"abc\"\n    assert candidate(s = \"abababababab\",k = 3) == \"abab\"\n    assert candidate(s = \"aabbbccccc\",k = 3) == \"c\"\n    assert candidate(s = \"letsleetcode\",k = 2) == \"let\"\n    assert candidate(s = \"ab\",k = 2) == \"\"\n    assert candidate(s = \"zzzzzzzzzzzzzz\",k = 5) == \"zz\"\n    assert candidate(s = \"aaaabbbbcccc\",k = 2) == \"cc\"\n    assert candidate(s = \"aaaabbbb\",k = 2) == \"bb\"\n    assert candidate(s = \"aabbccddeeff\",k = 2) == \"f\"\n    assert candidate(s = \"abcabcabc\",k = 3) == \"abc\"\n    assert candidate(s = \"abcdabcdabcd\",k = 3) == \"abcd\"\n    assert candidate(s = \"bb\",k = 2) == \"b\"\n    assert candidate(s = \"abcdeabcdeabcde\",k = 3) == \"abcde\"\n    assert candidate(s = \"abcdefghi\",k = 1) == \"abcdefghi\"\n    assert candidate(s = \"aabbcc\",k = 2) == \"c\"\n    assert candidate(s = \"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq\",k = 16) == \"qq\"\n    assert candidate(s = \"mnopmnopmnop\",k = 6) == \"\"\n    assert candidate(s = \"abcabcabcabc\",k = 3) == \"cab\"\n    assert candidate(s = \"abcdefabcdefabcdefabcdef\",k = 4) == \"abcdef\"\n    assert candidate(s = \"aabbaaccdd\",k = 3) == \"a\"\n    assert candidate(s = \"abcdefgabcdefgabcdefg\",k = 3) == \"abcdefg\"\n    assert candidate(s = \"kkkkkkkkkkkkkkkk\",k = 16) == \"k\"\n    assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiii\",k = 3) == \"i\"\n    assert candidate(s = \"abcdefghijklaaaaaaabbbbbbbbbccccccccc\",k = 5) == \"cc\"\n    assert candidate(s = \"xyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxy\",k = 8) == \"yxyx\"\n    assert candidate(s = \"abababababababababababababab\",k = 7) == \"abab\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\",k = 5) == \"zzzz\"\n    assert candidate(s = \"aabaaaabbbaaa\",k = 4) == \"aa\"\n    assert candidate(s = \"xyzxyzxyzxyzxyzxyz\",k = 2) == \"xyzxyzxyz\"\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbcccccccccccccc\",k = 5) == \"aaa\"\n    assert candidate(s = \"ababababababababababababababababab\",k = 10) == \"ba\"\n    assert candidate(s = \"abacabadabacabadabacabadabacabadabacabadabacabad\",k = 4) == \"abaabaaba\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabc\",k = 5) == \"cabcab\"\n    assert candidate(s = \"mississippi\",k = 2) == \"ssi\"\n    assert candidate(s = \"ppppqqrrrrrssstttt\",k = 3) == \"t\"\n    assert candidate(s = \"abcabcabcabcabcabcabc\",k = 3) == \"cabcab\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzz\",k = 10) == \"z\"\n    assert candidate(s = \"abcabcabcabcabcabc\",k = 3) == \"abcabc\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 20) == \"zzz\"\n    assert candidate(s = \"abababababababab\",k = 8) == \"ab\"\n    assert candidate(s = \"mnopqrqponmlkjihgfedcba\",k = 2) == \"q\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\",k = 5) == \"abcabc\"\n    assert candidate(s = \"qqwweerrttyyuuiiooppllaaasssdddfffggghhjjkk\",k = 3) == \"s\"\n    assert candidate(s = \"aabbccddeeefffggg\",k = 2) == \"g\"\n    assert candidate(s = \"aaabbbcccddd\",k = 3) == \"d\"\n    assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd\",k = 5) == \"dabcdabc\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\",k = 10) == \"abc\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabca\",k = 5) == \"bcabca\"\n    assert candidate(s = \"zzzzzzzzzzzz\",k = 5) == \"zz\"\n    assert candidate(s = \"aaaabbbbccccdddddd\",k = 4) == \"d\"\n    assert candidate(s = \"xzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzy\",k = 4) == \"zyxzyx\"\n    assert candidate(s = \"aabbccddeeffgg\",k = 2) == \"g\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\",k = 20) == \"z\"\n    assert candidate(s = \"ababababababab\",k = 4) == \"ba\"\n    assert candidate(s = \"ababababababababab\",k = 5) == \"ba\"\n    assert candidate(s = \"mnopqrsmnopqrsmnopqrsmnopqrsmnopqrs\",k = 3) == \"smnopqr\"\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghijabcdefghij\",k = 4) == \"abcdefghij\"\n    assert candidate(s = \"aaaaaaaaaa\",k = 2) == \"aaaaa\"\n    assert candidate(s = \"qwertyqwertyqwerty\",k = 3) == \"qwerty\"\n    assert candidate(s = \"xyzzzzzzzzzzzxyzzzzzzzzzzzzxyzzzzzzzzzzzz\",k = 3) == \"xyzzzzzzzzzzz\"\n    assert candidate(s = \"ababababababababababababababababab\",k = 16) == \"ba\"\n    assert candidate(s = \"aabbccddeeefff\",k = 2) == \"f\"\n    assert candidate(s = \"abcdefabcdefabcdefabcdefabcdefabcdefabcdefabcdef\",k = 6) == \"fabcde\"\n    assert candidate(s = \"abcdefgabcdefgabcdefg\",k = 2) == \"gabcdef\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 10) == \"zzzz\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 25) == \"z\"\n    assert candidate(s = \"aaabbbcccdddeeefffggghhhiii\",k = 4) == \"\"\n    assert candidate(s = \"abcdabcdbacdb\",k = 2) == \"cdab\"\n    assert candidate(s = \"xyxyxyxyxyxy\",k = 4) == \"yx\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabc\",k = 4) == \"abcabc\"\n    assert candidate(s = \"aabaaabaaabaaabaaab\",k = 5) == \"aab\"\n    assert candidate(s = \"abcdefghijklaaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbcccccccccccccc\",k = 6) == \"bbb\"\n    assert candidate(s = \"abcabcabcabcabc\",k = 5) == \"abc\"\n    assert candidate(s = \"mmmmmmnnnnnnnnnnoooooo\",k = 5) == \"nn\"\n    assert candidate(s = \"mmmmnnnnooooppppqqqqrrrrssssttttuuuuvvvvwwwwxxxxxyyyyyzzzzz\",k = 5) == \"z\"\n    assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcd\",k = 8) == \"abcd\"\n    assert candidate(s = \"zzzzzzzzzzzzz\",k = 5) == \"zz\"\n    assert candidate(s = \"axbyczdxeyfzgyhz\",k = 2) == \"xyz\"\n    assert candidate(s = \"aaabbbcccdddeeefff\",k = 4) == \"\"\n    assert candidate(s = \"xyzxyzxyzxyzxyzxyzxyzxyzxyzxyzxyz\",k = 10) == \"zxy\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 2) == \"z\"\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghij\",k = 3) == \"abcdefghij\"\n    assert candidate(s = \"abcdefghabcdefghabcdefgh\",k = 3) == \"abcdefgh\"\n    assert candidate(s = \"zzzzyyyxxxwww\",k = 4) == \"z\"\n    assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 4) == \"zxy\"\n",
  "test_cases": [
    "assert candidate(s = \"aabbcc\",k = 3) == \"\"",
    "assert candidate(s = \"zzzzzzzzz\",k = 4) == \"zz\"",
    "assert candidate(s = \"zzzzzzzzzz\",k = 5) == \"zz\"",
    "assert candidate(s = \"abcabcabcabc\",k = 4) == \"abc\"",
    "assert candidate(s = \"abcdabcabc\",k = 3) == \"abc\"",
    "assert candidate(s = \"abababababab\",k = 3) == \"abab\"",
    "assert candidate(s = \"aabbbccccc\",k = 3) == \"c\"",
    "assert candidate(s = \"letsleetcode\",k = 2) == \"let\"",
    "assert candidate(s = \"ab\",k = 2) == \"\"",
    "assert candidate(s = \"zzzzzzzzzzzzzz\",k = 5) == \"zz\"",
    "assert candidate(s = \"aaaabbbbcccc\",k = 2) == \"cc\"",
    "assert candidate(s = \"aaaabbbb\",k = 2) == \"bb\"",
    "assert candidate(s = \"aabbccddeeff\",k = 2) == \"f\"",
    "assert candidate(s = \"abcabcabc\",k = 3) == \"abc\"",
    "assert candidate(s = \"abcdabcdabcd\",k = 3) == \"abcd\"",
    "assert candidate(s = \"bb\",k = 2) == \"b\"",
    "assert candidate(s = \"abcdeabcdeabcde\",k = 3) == \"abcde\"",
    "assert candidate(s = \"abcdefghi\",k = 1) == \"abcdefghi\"",
    "assert candidate(s = \"aabbcc\",k = 2) == \"c\"",
    "assert candidate(s = \"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq\",k = 16) == \"qq\"",
    "assert candidate(s = \"mnopmnopmnop\",k = 6) == \"\"",
    "assert candidate(s = \"abcabcabcabc\",k = 3) == \"cab\"",
    "assert candidate(s = \"abcdefabcdefabcdefabcdef\",k = 4) == \"abcdef\"",
    "assert candidate(s = \"aabbaaccdd\",k = 3) == \"a\"",
    "assert candidate(s = \"abcdefgabcdefgabcdefg\",k = 3) == \"abcdefg\"",
    "assert candidate(s = \"kkkkkkkkkkkkkkkk\",k = 16) == \"k\"",
    "assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiii\",k = 3) == \"i\"",
    "assert candidate(s = \"abcdefghijklaaaaaaabbbbbbbbbccccccccc\",k = 5) == \"cc\"",
    "assert candidate(s = \"xyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxyxy\",k = 8) == \"yxyx\"",
    "assert candidate(s = \"abababababababababababababab\",k = 7) == \"abab\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\",k = 5) == \"zzzz\"",
    "assert candidate(s = \"aabaaaabbbaaa\",k = 4) == \"aa\"",
    "assert candidate(s = \"xyzxyzxyzxyzxyzxyz\",k = 2) == \"xyzxyzxyz\"",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbcccccccccccccc\",k = 5) == \"aaa\"",
    "assert candidate(s = \"ababababababababababababababababab\",k = 10) == \"ba\"",
    "assert candidate(s = \"abacabadabacabadabacabadabacabadabacabadabacabad\",k = 4) == \"abaabaaba\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabc\",k = 5) == \"cabcab\"",
    "assert candidate(s = \"mississippi\",k = 2) == \"ssi\"",
    "assert candidate(s = \"ppppqqrrrrrssstttt\",k = 3) == \"t\"",
    "assert candidate(s = \"abcabcabcabcabcabcabc\",k = 3) == \"cabcab\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzz\",k = 10) == \"z\"",
    "assert candidate(s = \"abcabcabcabcabcabc\",k = 3) == \"abcabc\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 20) == \"zzz\"",
    "assert candidate(s = \"abababababababab\",k = 8) == \"ab\"",
    "assert candidate(s = \"mnopqrqponmlkjihgfedcba\",k = 2) == \"q\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\",k = 5) == \"abcabc\"",
    "assert candidate(s = \"qqwweerrttyyuuiiooppllaaasssdddfffggghhjjkk\",k = 3) == \"s\"",
    "assert candidate(s = \"aabbccddeeefffggg\",k = 2) == \"g\"",
    "assert candidate(s = \"aaabbbcccddd\",k = 3) == \"d\"",
    "assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd\",k = 5) == \"dabcdabc\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\",k = 10) == \"abc\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabca\",k = 5) == \"bcabca\"",
    "assert candidate(s = \"zzzzzzzzzzzz\",k = 5) == \"zz\"",
    "assert candidate(s = \"aaaabbbbccccdddddd\",k = 4) == \"d\"",
    "assert candidate(s = \"xzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzy\",k = 4) == \"zyxzyx\"",
    "assert candidate(s = \"aabbccddeeffgg\",k = 2) == \"g\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\",k = 20) == \"z\"",
    "assert candidate(s = \"ababababababab\",k = 4) == \"ba\"",
    "assert candidate(s = \"ababababababababab\",k = 5) == \"ba\"",
    "assert candidate(s = \"mnopqrsmnopqrsmnopqrsmnopqrsmnopqrs\",k = 3) == \"smnopqr\"",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghijabcdefghij\",k = 4) == \"abcdefghij\"",
    "assert candidate(s = \"aaaaaaaaaa\",k = 2) == \"aaaaa\"",
    "assert candidate(s = \"qwertyqwertyqwerty\",k = 3) == \"qwerty\"",
    "assert candidate(s = \"xyzzzzzzzzzzzxyzzzzzzzzzzzzxyzzzzzzzzzzzz\",k = 3) == \"xyzzzzzzzzzzz\"",
    "assert candidate(s = \"ababababababababababababababababab\",k = 16) == \"ba\"",
    "assert candidate(s = \"aabbccddeeefff\",k = 2) == \"f\"",
    "assert candidate(s = \"abcdefabcdefabcdefabcdefabcdefabcdefabcdefabcdef\",k = 6) == \"fabcde\"",
    "assert candidate(s = \"abcdefgabcdefgabcdefg\",k = 2) == \"gabcdef\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 10) == \"zzzz\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 25) == \"z\"",
    "assert candidate(s = \"aaabbbcccdddeeefffggghhhiii\",k = 4) == \"\"",
    "assert candidate(s = \"abcdabcdbacdb\",k = 2) == \"cdab\"",
    "assert candidate(s = \"xyxyxyxyxyxy\",k = 4) == \"yx\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabc\",k = 4) == \"abcabc\"",
    "assert candidate(s = \"aabaaabaaabaaabaaab\",k = 5) == \"aab\"",
    "assert candidate(s = \"abcdefghijklaaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbcccccccccccccc\",k = 6) == \"bbb\"",
    "assert candidate(s = \"abcabcabcabcabc\",k = 5) == \"abc\"",
    "assert candidate(s = \"mmmmmmnnnnnnnnnnoooooo\",k = 5) == \"nn\"",
    "assert candidate(s = \"mmmmnnnnooooppppqqqqrrrrssssttttuuuuvvvvwwwwxxxxxyyyyyzzzzz\",k = 5) == \"z\"",
    "assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcd\",k = 8) == \"abcd\"",
    "assert candidate(s = \"zzzzzzzzzzzzz\",k = 5) == \"zz\"",
    "assert candidate(s = \"axbyczdxeyfzgyhz\",k = 2) == \"xyz\"",
    "assert candidate(s = \"aaabbbcccdddeeefff\",k = 4) == \"\"",
    "assert candidate(s = \"xyzxyzxyzxyzxyzxyzxyzxyzxyzxyzxyz\",k = 10) == \"zxy\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 2) == \"z\"",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghij\",k = 3) == \"abcdefghij\"",
    "assert candidate(s = \"abcdefghabcdefghabcdefgh\",k = 3) == \"abcdefgh\"",
    "assert candidate(s = \"zzzzyyyxxxwww\",k = 4) == \"z\"",
    "assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 4) == \"zxy\""
  ]
}