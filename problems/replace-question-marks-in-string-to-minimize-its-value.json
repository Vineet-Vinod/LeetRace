{
  "id": "replace-question-marks-in-string-to-minimize-its-value",
  "title": "Replace Question Marks In String To Minimize Its Value",
  "difficulty": "Medium",
  "tags": [
    "Greedy",
    "Hash Table",
    "String",
    "Counting",
    "Sorting",
    "Heap (Priority Queue)"
  ],
  "description": "You are given a string s. s[i] is either a lowercase English letter or '?'.\nFor a string t having length m containing only lowercase English letters, we define the function cost(i) for an index i\u00a0as the number of characters equal to t[i]\u00a0that appeared before it, i.e. in the range [0, i - 1].\nThe value of t is the sum of cost(i) for all indices i.\nFor example, for the string t = \"aab\":\n\ncost(0) = 0\ncost(1) = 1\ncost(2) = 0\nHence, the value of \"aab\" is 0 + 1 + 0 = 1.\n\nYour task is to replace all occurrences of '?' in s with any lowercase English letter so that the value of s is minimized.\nReturn a string denoting the modified string with replaced occurrences of '?'. If there are multiple strings resulting in the minimum value, return the lexicographically smallest one.\n\u00a0\nExample 1:\n\nInput:   s = \"???\" \nOutput:   \"abc\" \nExplanation:  In this example, we can replace the occurrences of '?' to make s equal to \"abc\".\nFor \"abc\", cost(0) = 0, cost(1) = 0, and cost(2) = 0.\nThe value of \"abc\" is 0.\nSome other modifications of s that have a value of 0 are \"cba\", \"abz\", and, \"hey\".\nAmong all of them, we choose the lexicographically smallest.\n\nExample 2:\n\nInput:  s = \"a?a?\"\nOutput:  \"abac\"\nExplanation:  In this example, the occurrences of '?' can be replaced to make s equal to \"abac\".\nFor \"abac\", cost(0) = 0, cost(1) = 0, cost(2) = 1, and cost(3) = 0.\nThe value of \"abac\" is\u00a01.\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 105\ns[i] is either a lowercase English letter or '?'.\n\n",
  "entry_point": "Solution().minimizeStringValue",
  "starter_code": "class Solution:\n    def minimizeStringValue(self, s: str) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"aabbcc??\") == \"aabbccde\"\n    assert candidate(s = \"abcabcabc???\") == \"abcabcabcdef\"\n    assert candidate(s = \"a????b\") == \"acdefb\"\n    assert candidate(s = \"a\") == \"a\"\n    assert candidate(s = \"????????\") == \"abcdefgh\"\n    assert candidate(s = \"abacabadabacaba\") == \"abacabadabacaba\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz?\") == \"abcdefghijklmnopqrstuvwxyza\"\n    assert candidate(s = \"abc?de?\") == \"abcfdeg\"\n    assert candidate(s = \"zzzz????\") == \"zzzzabcd\"\n    assert candidate(s = \"a?????\") == \"abcdef\"\n    assert candidate(s = \"??????????\") == \"abcdefghij\"\n    assert candidate(s = \"aabbcc?\") == \"aabbccd\"\n    assert candidate(s = \"???\") == \"abc\"\n    assert candidate(s = \"????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????\") == \"aaaaaaaaabbbbbbbbbcccccccccdddddddddeeeeeeeeefffffffffggggggggghhhhhhhhhiiiiiiiiijjjjjjjjjkkkkkkkkklllllllllmmmmmmmmmnnnnnnnnnooooooooopppppppppqqqqqqqqqrrrrrrrrrssssssssstttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxyyyyyyyyzzzzzzzz\"\n    assert candidate(s = \"a????b????c????\") == \"adefgbhijkclmno\"\n    assert candidate(s = \"a?a?\") == \"abac\"\n    assert candidate(s = \"abc??\") == \"abcde\"\n    assert candidate(s = \"z?y?x?w?v?u?t?s?r?q?p?o?n?m?l?k?j?i?h?g?f?e?d?c?b?a\") == \"zaybxcwdveuftgshriqjpkolnmmnlokpjqirhsgtfuevdwcxbya\"\n    assert candidate(s = \"?????abc?????def?????ghi?????jkl?????mno?????pqr?????stu?????vwx?????yz?????\") == \"aabbcabccddeedefffgghghihiijjjklkkllmmnomnnoopqrppqqrsturssttvwxuuvvwyzwxxyz\"\n    assert candidate(s = \"abc?def?ghi?\") == \"abcjdefkghil\"\n    assert candidate(s = \"????????????????????????????????????????\") == \"aabbccddeeffgghhiijjkkllmmnnopqrstuvwxyz\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzz???\") == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzzabc\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba????????\") == \"zyxwvutsrqponmlkjihgfedcbaabcdefgh\"\n    assert candidate(s = \"a?b?c?d?e?f?g?h?i?j?k?l?m?n?o?p?q?r?s?t?u?v?w?x?y?z?\") == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc???\") == \"abcabcabcabcabcabcabcabcabcabcdef\"\n    assert candidate(s = \"xyz?xyz?xyz?\") == \"xyzaxyzbxyzc\"\n    assert candidate(s = \"a?????b?????c?????d?????e?????f?????g?????h?????i?????j?????k?????l?????m?????n?????o?????p?????q?????r?????s?????t?????u?????v?????w?????x?????y?????z?????\") == \"aaaaaabbbbbbccccccddddddeeeeeeffffffgggggghhhhhhiiiiiijjjjjjkkkkkkllllllmmmmmmnnnnnnooooooppppppqqqqqqrrrrrrssssssttttttuuuuuuvvvvvvwwwwwwxxxxxxyyyyyyzzzzzz\"\n    assert candidate(s = \"abc?????def?????ghi?????\") == \"abcjklmndefopqrsghituvwx\"\n    assert candidate(s = \"a?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?f\") == \"agbgcgdhehfahbicidiejfajbjckdkekfalblcmdmenfanbocodpepfaqbqcrdresfasbtctdueufavbvcwdwexfaxbycydzezf\"\n    assert candidate(s = \"aaaabbbbccccdddd????\") == \"aaaabbbbccccddddefgh\"\n    assert candidate(s = \"aaaa?bbbb?cccc?dddd?eeee?ffff?gggg?hhhh?iiii?jjjj?kkkk?llll?mmmm?nnnn?oooo?pppp?qqqq?rrrr?ssss?tttt?uuuu?vvvv?wwww?xxxx?yyyy?zzzz?\") == \"aaaaabbbbbcccccdddddeeeeefffffggggghhhhhiiiiijjjjjkkkkklllllmmmmmnnnnnooooopppppqqqqqrrrrrssssstttttuuuuuvvvvvwwwwwxxxxxyyyyyzzzzz\"\n    assert candidate(s = \"abacabadabacabadabacabadabacabad?\") == \"abacabadabacabadabacabadabacabade\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz???\") == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabc\"\n    assert candidate(s = \"zzzzzzzzzz???\") == \"zzzzzzzzzzabc\"\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc???\") == \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcdef\"\n    assert candidate(s = \"zzzzzzzzzzzz????????????\") == \"zzzzzzzzzzzzabcdefghijkl\"\n    assert candidate(s = \"???????????\") == \"abcdefghijk\"\n    assert candidate(s = \"abcd?efg?hijk?lmn?opq?rstuvwxyz\") == \"abcdaefgbhijkclmndopqerstuvwxyz\"\n",
  "test_cases": [
    "assert candidate(s = \"aabbcc??\") == \"aabbccde\"",
    "assert candidate(s = \"abcabcabc???\") == \"abcabcabcdef\"",
    "assert candidate(s = \"a????b\") == \"acdefb\"",
    "assert candidate(s = \"a\") == \"a\"",
    "assert candidate(s = \"????????\") == \"abcdefgh\"",
    "assert candidate(s = \"abacabadabacaba\") == \"abacabadabacaba\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz?\") == \"abcdefghijklmnopqrstuvwxyza\"",
    "assert candidate(s = \"abc?de?\") == \"abcfdeg\"",
    "assert candidate(s = \"zzzz????\") == \"zzzzabcd\"",
    "assert candidate(s = \"a?????\") == \"abcdef\"",
    "assert candidate(s = \"??????????\") == \"abcdefghij\"",
    "assert candidate(s = \"aabbcc?\") == \"aabbccd\"",
    "assert candidate(s = \"???\") == \"abc\"",
    "assert candidate(s = \"????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????\") == \"aaaaaaaaabbbbbbbbbcccccccccdddddddddeeeeeeeeefffffffffggggggggghhhhhhhhhiiiiiiiiijjjjjjjjjkkkkkkkkklllllllllmmmmmmmmmnnnnnnnnnooooooooopppppppppqqqqqqqqqrrrrrrrrrssssssssstttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxyyyyyyyyzzzzzzzz\"",
    "assert candidate(s = \"a????b????c????\") == \"adefgbhijkclmno\"",
    "assert candidate(s = \"a?a?\") == \"abac\"",
    "assert candidate(s = \"abc??\") == \"abcde\"",
    "assert candidate(s = \"z?y?x?w?v?u?t?s?r?q?p?o?n?m?l?k?j?i?h?g?f?e?d?c?b?a\") == \"zaybxcwdveuftgshriqjpkolnmmnlokpjqirhsgtfuevdwcxbya\"",
    "assert candidate(s = \"?????abc?????def?????ghi?????jkl?????mno?????pqr?????stu?????vwx?????yz?????\") == \"aabbcabccddeedefffgghghihiijjjklkkllmmnomnnoopqrppqqrsturssttvwxuuvvwyzwxxyz\"",
    "assert candidate(s = \"abc?def?ghi?\") == \"abcjdefkghil\"",
    "assert candidate(s = \"????????????????????????????????????????\") == \"aabbccddeeffgghhiijjkkllmmnnopqrstuvwxyz\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzz???\") == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzzabc\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba????????\") == \"zyxwvutsrqponmlkjihgfedcbaabcdefgh\"",
    "assert candidate(s = \"a?b?c?d?e?f?g?h?i?j?k?l?m?n?o?p?q?r?s?t?u?v?w?x?y?z?\") == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc???\") == \"abcabcabcabcabcabcabcabcabcabcdef\"",
    "assert candidate(s = \"xyz?xyz?xyz?\") == \"xyzaxyzbxyzc\"",
    "assert candidate(s = \"a?????b?????c?????d?????e?????f?????g?????h?????i?????j?????k?????l?????m?????n?????o?????p?????q?????r?????s?????t?????u?????v?????w?????x?????y?????z?????\") == \"aaaaaabbbbbbccccccddddddeeeeeeffffffgggggghhhhhhiiiiiijjjjjjkkkkkkllllllmmmmmmnnnnnnooooooppppppqqqqqqrrrrrrssssssttttttuuuuuuvvvvvvwwwwwwxxxxxxyyyyyyzzzzzz\"",
    "assert candidate(s = \"abc?????def?????ghi?????\") == \"abcjklmndefopqrsghituvwx\"",
    "assert candidate(s = \"a?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?f\") == \"agbgcgdhehfahbicidiejfajbjckdkekfalblcmdmenfanbocodpepfaqbqcrdresfasbtctdueufavbvcwdwexfaxbycydzezf\"",
    "assert candidate(s = \"aaaabbbbccccdddd????\") == \"aaaabbbbccccddddefgh\"",
    "assert candidate(s = \"aaaa?bbbb?cccc?dddd?eeee?ffff?gggg?hhhh?iiii?jjjj?kkkk?llll?mmmm?nnnn?oooo?pppp?qqqq?rrrr?ssss?tttt?uuuu?vvvv?wwww?xxxx?yyyy?zzzz?\") == \"aaaaabbbbbcccccdddddeeeeefffffggggghhhhhiiiiijjjjjkkkkklllllmmmmmnnnnnooooopppppqqqqqrrrrrssssstttttuuuuuvvvvvwwwwwxxxxxyyyyyzzzzz\"",
    "assert candidate(s = \"abacabadabacabadabacabadabacabad?\") == \"abacabadabacabadabacabadabacabade\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz???\") == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabc\"",
    "assert candidate(s = \"zzzzzzzzzz???\") == \"zzzzzzzzzzabc\"",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc???\") == \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcdef\"",
    "assert candidate(s = \"zzzzzzzzzzzz????????????\") == \"zzzzzzzzzzzzabcdefghijkl\"",
    "assert candidate(s = \"???????????\") == \"abcdefghijk\"",
    "assert candidate(s = \"abcd?efg?hijk?lmn?opq?rstuvwxyz\") == \"abcdaefgbhijkclmndopqerstuvwxyz\""
  ]
}