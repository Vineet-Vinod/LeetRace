{
  "id": "remove-stones-to-minimize-the-total",
  "title": "Remove Stones To Minimize The Total",
  "difficulty": "Medium",
  "tags": [
    "Greedy",
    "Array",
    "Heap (Priority Queue)"
  ],
  "description": "You are given a 0-indexed integer array piles, where piles[i] represents the number of stones in the ith pile, and an integer k. You should apply the following operation exactly k times:\n\nChoose any piles[i] and remove floor(piles[i] / 2) stones from it.\n\nNotice that you can apply the operation on the same pile more than once.\nReturn the minimum possible total number of stones remaining after applying the k operations.\nfloor(x) is the greatest integer that is smaller than or equal to x (i.e., rounds x down).\n\u00a0\nExample 1:\n\nInput: piles = [5,4,9], k = 2\nOutput: 12\nExplanation:\u00a0Steps of a possible scenario are:\n- Apply the operation on pile 2. The resulting piles are [5,4,5].\n- Apply the operation on pile 0. The resulting piles are [3,4,5].\nThe total number of stones in [3,4,5] is 12.\n\nExample 2:\n\nInput: piles = [4,3,6,7], k = 3\nOutput: 12\nExplanation:\u00a0Steps of a possible scenario are:\n- Apply the operation on pile 2. The resulting piles are [4,3,3,7].\n- Apply the operation on pile 3. The resulting piles are [4,3,3,4].\n- Apply the operation on pile 0. The resulting piles are [2,3,3,4].\nThe total number of stones in [2,3,3,4] is 12.\n\n\u00a0\nConstraints:\n\n1 <= piles.length <= 105\n1 <= piles[i] <= 104\n1 <= k <= 105\n\n",
  "entry_point": "Solution().minStoneSum",
  "starter_code": "class Solution:\n    def minStoneSum(self, piles: List[int], k: int) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(piles = [1, 2, 3, 4, 5],k = 10) == 5\n    assert candidate(piles = [10, 10, 10, 10],k = 4) == 20\n    assert candidate(piles = [5, 4, 9],k = 2) == 12\n    assert candidate(piles = [10, 10, 10],k = 1) == 25\n    assert candidate(piles = [100, 200, 300],k = 10) == 57\n    assert candidate(piles = [4, 3, 6, 7],k = 3) == 12\n    assert candidate(piles = [100, 200, 300],k = 1) == 450\n    assert candidate(piles = [10000, 10000, 10000],k = 10000) == 3\n    assert candidate(piles = [100, 200, 300],k = 2) == 350\n    assert candidate(piles = [100, 100, 100],k = 10) == 33\n    assert candidate(piles = [1],k = 1) == 1\n    assert candidate(piles = [10000, 10000, 10000],k = 10000) == 3\n    assert candidate(piles = [10, 10, 10],k = 5) == 11\n    assert candidate(piles = [1, 2, 3, 4, 5],k = 5) == 8\n    assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 20) == 15\n    assert candidate(piles = [123, 456, 789, 101112, 131415, 161718, 192021, 222324, 252627, 282930],k = 5000) == 10\n    assert candidate(piles = [9999, 8888, 7777, 6666, 5555, 4444, 3333, 2222, 1111, 1],k = 100) == 25\n    assert candidate(piles = [5000, 5000, 5000, 5000, 5000],k = 25000) == 5\n    assert candidate(piles = [1000, 500, 250, 125],k = 10) == 252\n    assert candidate(piles = [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],k = 100) == 20\n    assert candidate(piles = [1000, 999, 998, 997, 996, 995, 994, 993, 992, 991],k = 100) == 10\n    assert candidate(piles = [1000, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000],k = 50) == 1441\n    assert candidate(piles = [9999, 9998, 9997, 9996, 9995],k = 100) == 5\n    assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 10) == 10\n    assert candidate(piles = [1000, 999, 998, 997, 996, 995],k = 15) == 1123\n    assert candidate(piles = [10000, 5000, 2500, 1250, 625, 312, 156, 78, 39, 19],k = 50) == 149\n    assert candidate(piles = [9999],k = 10000) == 1\n    assert candidate(piles = [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000],k = 1000) == 10\n    assert candidate(piles = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100],k = 100) == 10\n    assert candidate(piles = [1, 10, 100, 1000, 10000],k = 100) == 5\n    assert candidate(piles = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19],k = 50) == 10\n    assert candidate(piles = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],k = 20) == 117\n    assert candidate(piles = [10000, 9999, 9998, 9997, 9996, 9995, 9994, 9993, 9992, 9991],k = 1000) == 10\n    assert candidate(piles = [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000],k = 1000) == 20\n    assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 5) == 32\n    assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 50) == 10\n    assert candidate(piles = [1, 100, 1000, 10000, 10000, 1000, 100, 1],k = 50000) == 8\n    assert candidate(piles = [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000],k = 100) == 50\n    assert candidate(piles = [50, 25, 75, 200, 150],k = 5) == 201\n    assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 15) == 20\n    assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 15) == 20\n    assert candidate(piles = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],k = 50) == 20\n    assert candidate(piles = [10000, 1000, 100, 10, 1],k = 15000) == 5\n    assert candidate(piles = [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],k = 1000) == 20\n    assert candidate(piles = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],k = 200) == 10\n    assert candidate(piles = [5000, 5000, 5000, 5000, 5000],k = 1000) == 5\n    assert candidate(piles = [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000],k = 1000) == 10\n    assert candidate(piles = [1, 1, 2, 2, 4, 4, 8, 8, 16, 16, 32, 32, 64, 64, 128, 128, 256, 256, 512, 512],k = 100) == 20\n    assert candidate(piles = [9999, 10000, 10001],k = 10000) == 3\n    assert candidate(piles = [1000, 500, 250, 125, 63, 32, 16, 8, 4, 2, 1],k = 30) == 63\n    assert candidate(piles = [999, 1000, 1001, 1002, 1003],k = 10) == 1253\n    assert candidate(piles = [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500],k = 2500) == 20\n    assert candidate(piles = [10000, 5000, 2500, 1250, 625],k = 20) == 785\n    assert candidate(piles = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024],k = 30) == 63\n    assert candidate(piles = [5000, 5000, 5000, 5000, 5000],k = 100000) == 5\n    assert candidate(piles = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71],k = 1000) == 20\n    assert candidate(piles = [50, 50, 50, 50, 50, 50, 50, 50, 50, 50],k = 50) == 20\n    assert candidate(piles = [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000],k = 50) == 1441\n    assert candidate(piles = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150],k = 100) == 15\n    assert candidate(piles = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],k = 500) == 20\n    assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 100) == 20\n    assert candidate(piles = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71],k = 20) == 253\n    assert candidate(piles = [9999, 9999, 9999, 9999],k = 100000) == 4\n    assert candidate(piles = [1, 10, 100, 1000, 10000],k = 10) == 315\n    assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 100) == 20\n    assert candidate(piles = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],k = 1000) == 10\n    assert candidate(piles = [500, 300, 200, 100],k = 5) == 400\n    assert candidate(piles = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512],k = 30) == 31\n    assert candidate(piles = [9999, 8888, 7777, 6666, 5555, 4444, 3333, 2222, 1111],k = 10000) == 9\n    assert candidate(piles = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024],k = 100) == 11\n    assert candidate(piles = [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000],k = 5000) == 31\n    assert candidate(piles = [9999, 9998, 9997, 9996, 9995, 9994, 9993, 9992, 9991, 9990],k = 50) == 3130\n    assert candidate(piles = [5000, 4000, 3000, 2000, 1000, 500, 250, 125, 62, 31, 15, 7, 3, 1],k = 100) == 16\n    assert candidate(piles = [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576],k = 100000) == 10\n    assert candidate(piles = [10, 15, 20, 25, 30, 35, 40, 45, 50],k = 100) == 9\n    assert candidate(piles = [9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999],k = 10000) == 20\n    assert candidate(piles = [9999, 1, 2, 3, 4, 5],k = 10) == 25\n    assert candidate(piles = [1000, 1000, 1000, 1000, 1000],k = 50) == 5\n    assert candidate(piles = [50, 100, 150, 200, 250, 300, 350, 400, 450, 500],k = 100) == 10\n    assert candidate(piles = [9999, 9998, 9997, 9996, 9995, 9994, 9993, 9992, 9991, 9990],k = 5000) == 10\n    assert candidate(piles = [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000],k = 50000) == 10\n    assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 50) == 30\n    assert candidate(piles = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39],k = 100) == 20\n",
  "test_cases": [
    "assert candidate(piles = [1, 2, 3, 4, 5],k = 10) == 5",
    "assert candidate(piles = [10, 10, 10, 10],k = 4) == 20",
    "assert candidate(piles = [5, 4, 9],k = 2) == 12",
    "assert candidate(piles = [10, 10, 10],k = 1) == 25",
    "assert candidate(piles = [100, 200, 300],k = 10) == 57",
    "assert candidate(piles = [4, 3, 6, 7],k = 3) == 12",
    "assert candidate(piles = [100, 200, 300],k = 1) == 450",
    "assert candidate(piles = [10000, 10000, 10000],k = 10000) == 3",
    "assert candidate(piles = [100, 200, 300],k = 2) == 350",
    "assert candidate(piles = [100, 100, 100],k = 10) == 33",
    "assert candidate(piles = [1],k = 1) == 1",
    "assert candidate(piles = [10000, 10000, 10000],k = 10000) == 3",
    "assert candidate(piles = [10, 10, 10],k = 5) == 11",
    "assert candidate(piles = [1, 2, 3, 4, 5],k = 5) == 8",
    "assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 20) == 15",
    "assert candidate(piles = [123, 456, 789, 101112, 131415, 161718, 192021, 222324, 252627, 282930],k = 5000) == 10",
    "assert candidate(piles = [9999, 8888, 7777, 6666, 5555, 4444, 3333, 2222, 1111, 1],k = 100) == 25",
    "assert candidate(piles = [5000, 5000, 5000, 5000, 5000],k = 25000) == 5",
    "assert candidate(piles = [1000, 500, 250, 125],k = 10) == 252",
    "assert candidate(piles = [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],k = 100) == 20",
    "assert candidate(piles = [1000, 999, 998, 997, 996, 995, 994, 993, 992, 991],k = 100) == 10",
    "assert candidate(piles = [1000, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000],k = 50) == 1441",
    "assert candidate(piles = [9999, 9998, 9997, 9996, 9995],k = 100) == 5",
    "assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 10) == 10",
    "assert candidate(piles = [1000, 999, 998, 997, 996, 995],k = 15) == 1123",
    "assert candidate(piles = [10000, 5000, 2500, 1250, 625, 312, 156, 78, 39, 19],k = 50) == 149",
    "assert candidate(piles = [9999],k = 10000) == 1",
    "assert candidate(piles = [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000],k = 1000) == 10",
    "assert candidate(piles = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100],k = 100) == 10",
    "assert candidate(piles = [1, 10, 100, 1000, 10000],k = 100) == 5",
    "assert candidate(piles = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19],k = 50) == 10",
    "assert candidate(piles = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],k = 20) == 117",
    "assert candidate(piles = [10000, 9999, 9998, 9997, 9996, 9995, 9994, 9993, 9992, 9991],k = 1000) == 10",
    "assert candidate(piles = [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000],k = 1000) == 20",
    "assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 5) == 32",
    "assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 50) == 10",
    "assert candidate(piles = [1, 100, 1000, 10000, 10000, 1000, 100, 1],k = 50000) == 8",
    "assert candidate(piles = [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000],k = 100) == 50",
    "assert candidate(piles = [50, 25, 75, 200, 150],k = 5) == 201",
    "assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 15) == 20",
    "assert candidate(piles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],k = 15) == 20",
    "assert candidate(piles = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],k = 50) == 20",
    "assert candidate(piles = [10000, 1000, 100, 10, 1],k = 15000) == 5",
    "assert candidate(piles = [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],k = 1000) == 20",
    "assert candidate(piles = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],k = 200) == 10",
    "assert candidate(piles = [5000, 5000, 5000, 5000, 5000],k = 1000) == 5",
    "assert candidate(piles = [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000],k = 1000) == 10",
    "assert candidate(piles = [1, 1, 2, 2, 4, 4, 8, 8, 16, 16, 32, 32, 64, 64, 128, 128, 256, 256, 512, 512],k = 100) == 20",
    "assert candidate(piles = [9999, 10000, 10001],k = 10000) == 3",
    "assert candidate(piles = [1000, 500, 250, 125, 63, 32, 16, 8, 4, 2, 1],k = 30) == 63",
    "assert candidate(piles = [999, 1000, 1001, 1002, 1003],k = 10) == 1253",
    "assert candidate(piles = [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500],k = 2500) == 20",
    "assert candidate(piles = [10000, 5000, 2500, 1250, 625],k = 20) == 785",
    "assert candidate(piles = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024],k = 30) == 63",
    "assert candidate(piles = [5000, 5000, 5000, 5000, 5000],k = 100000) == 5",
    "assert candidate(piles = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71],k = 1000) == 20",
    "assert candidate(piles = [50, 50, 50, 50, 50, 50, 50, 50, 50, 50],k = 50) == 20",
    "assert candidate(piles = [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000],k = 50) == 1441",
    "assert candidate(piles = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150],k = 100) == 15",
    "assert candidate(piles = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],k = 500) == 20",
    "assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 100) == 20",
    "assert candidate(piles = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71],k = 20) == 253",
    "assert candidate(piles = [9999, 9999, 9999, 9999],k = 100000) == 4",
    "assert candidate(piles = [1, 10, 100, 1000, 10000],k = 10) == 315",
    "assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 100) == 20",
    "assert candidate(piles = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000],k = 1000) == 10",
    "assert candidate(piles = [500, 300, 200, 100],k = 5) == 400",
    "assert candidate(piles = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512],k = 30) == 31",
    "assert candidate(piles = [9999, 8888, 7777, 6666, 5555, 4444, 3333, 2222, 1111],k = 10000) == 9",
    "assert candidate(piles = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024],k = 100) == 11",
    "assert candidate(piles = [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000],k = 5000) == 31",
    "assert candidate(piles = [9999, 9998, 9997, 9996, 9995, 9994, 9993, 9992, 9991, 9990],k = 50) == 3130",
    "assert candidate(piles = [5000, 4000, 3000, 2000, 1000, 500, 250, 125, 62, 31, 15, 7, 3, 1],k = 100) == 16",
    "assert candidate(piles = [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576],k = 100000) == 10",
    "assert candidate(piles = [10, 15, 20, 25, 30, 35, 40, 45, 50],k = 100) == 9",
    "assert candidate(piles = [9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999, 9999],k = 10000) == 20",
    "assert candidate(piles = [9999, 1, 2, 3, 4, 5],k = 10) == 25",
    "assert candidate(piles = [1000, 1000, 1000, 1000, 1000],k = 50) == 5",
    "assert candidate(piles = [50, 100, 150, 200, 250, 300, 350, 400, 450, 500],k = 100) == 10",
    "assert candidate(piles = [9999, 9998, 9997, 9996, 9995, 9994, 9993, 9992, 9991, 9990],k = 5000) == 10",
    "assert candidate(piles = [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000],k = 50000) == 10",
    "assert candidate(piles = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],k = 50) == 30",
    "assert candidate(piles = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39],k = 100) == 20"
  ]
}