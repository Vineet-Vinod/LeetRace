{
  "id": "flip-game-ii",
  "title": "Flip Game II",
  "difficulty": "Medium",
  "tags": [
    "Memoization",
    "Math",
    "Dynamic Programming",
    "Backtracking",
    "Game Theory"
  ],
  "description": "You are playing a Flip Game with your friend.\nYou are given a string currentState that contains only '+' and '-'. You and your friend take turns to flip two consecutive \"++\" into \"--\". The game ends when a person can no longer make a move, and therefore the other person will be the winner.\nReturn true if the starting player can guarantee a win, and false otherwise.\n\u00a0\nExample 1:\n\nInput: currentState = \"++++\"\nOutput: true\nExplanation: The starting player can guarantee a win by flipping the middle \"++\" to become \"+--+\".\n\nExample 2:\n\nInput: currentState = \"+\"\nOutput: false\n\n\u00a0\nConstraints:\n\n1 <= currentState.length <= 60\ncurrentState[i] is either '+' or '-'.\n\n\u00a0\nFollow up: Derive your algorithm's runtime complexity.",
  "entry_point": "Solution().canWin",
  "starter_code": "class Solution:\n    def canWin(self, currentState: str) -> bool:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(currentState = \"+-+-+--\") == False\n    assert candidate(currentState = \"-+-\") == False\n    assert candidate(currentState = \"++--\") == True\n    assert candidate(currentState = \"++-++\") == False\n    assert candidate(currentState = \"++++\") == True\n    assert candidate(currentState = \"+++\") == True\n    assert candidate(currentState = \"+++++++\") == True\n    assert candidate(currentState = \"+\") == False\n    assert candidate(currentState = \"+++++\") == False\n    assert candidate(currentState = \"++++++\") == True\n    assert candidate(currentState = \"++++++++\") == True\n    assert candidate(currentState = \"+-++-++-\") == False\n    assert candidate(currentState = \"--++--\") == True\n    assert candidate(currentState = \"--+-+++++--\") == False\n    assert candidate(currentState = \"++++++++++++++++\") == True\n    assert candidate(currentState = \"+-+--++\") == True\n    assert candidate(currentState = \"-++++-\") == True\n    assert candidate(currentState = \"--++--++--\") == False\n    assert candidate(currentState = \"-++++-++++-\") == False\n    assert candidate(currentState = \"++++-++++\") == False\n    assert candidate(currentState = \"-++-++-\") == False\n    assert candidate(currentState = \"++++++++++\") == True\n    assert candidate(currentState = \"+-+-+--+++\") == True\n    assert candidate(currentState = \"++-++-++\") == True\n    assert candidate(currentState = \"-+++++-\") == False\n    assert candidate(currentState = \"+++++++++\") == False\n    assert candidate(currentState = \"++\") == True\n    assert candidate(currentState = \"++++-++++-++++\") == True\n    assert candidate(currentState = \"++--++--++--++\") == False\n    assert candidate(currentState = \"++++-++++-++++-++++-++++-++++\") == False\n    assert candidate(currentState = \"-++++++++++-++++++++\") == True\n    assert candidate(currentState = \"+++++++++++++--++++\") == False\n    assert candidate(currentState = \"--+++++--+++++--+++++--\") == False\n    assert candidate(currentState = \"++-++-++-++-++-++\") == False\n    assert candidate(currentState = \"+-++++-++++-+\") == False\n    assert candidate(currentState = \"++++++++++++++\") == True\n    assert candidate(currentState = \"++--++--++--++--++\") == True\n    assert candidate(currentState = \"--++++--++++--++++--++++--++++--++++\") == False\n    assert candidate(currentState = \"+++++--+++++--+++++--+++++--+++++--+++++--+++++--+++++--+++++\") == False\n    assert candidate(currentState = \"-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\") == False\n    assert candidate(currentState = \"--+++++-+++++-+++++-+++++-+++++-+++++-+++++--\") == False\n    assert candidate(currentState = \"++--++--++--\") == True\n    assert candidate(currentState = \"++-++-++-++-++-++-++-++-++-++-++-++\") == False\n    assert candidate(currentState = \"++++++-++++++-++++++-++++++-++++++\") == True\n    assert candidate(currentState = \"--++++++--\") == True\n    assert candidate(currentState = \"----------------------------------------------------------------------------------------\") == False\n    assert candidate(currentState = \"++++++--++++++--++++++--++++++--++++++\") == True\n    assert candidate(currentState = \"++--++--++--++--++--++--++--++--++--\") == True\n    assert candidate(currentState = \"++++-+--++++-+--++++-+--++++-+--++++\") == True\n    assert candidate(currentState = \"-+++++++++++++++++++++++++++\") == True\n    assert candidate(currentState = \"++++++++++++++++++++++++++++++++++\") == True\n    assert candidate(currentState = \"++++++--++++++\") == False\n    assert candidate(currentState = \"+++++--+++++--+++++--+++++--+++++--+++++--+++++\") == False\n    assert candidate(currentState = \"-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++\") == True\n    assert candidate(currentState = \"--+--+--+--+--+--+--+--+--+--+\") == False\n    assert candidate(currentState = \"-++-++-++-++-++-++-++-++\") == False\n    assert candidate(currentState = \"-+++++----+++++----+++++-\") == False\n    assert candidate(currentState = \"++++++-++++++\") == False\n    assert candidate(currentState = \"-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\") == False\n    assert candidate(currentState = \"+++++++++++++++++++++++++++++\") == False\n    assert candidate(currentState = \"-++-++++-++++-++++-++++-++-\") == False\n    assert candidate(currentState = \"-++++--++++--++++--++++--\") == False\n    assert candidate(currentState = \"++++++++++++++++++++++--++++++++\") == False\n    assert candidate(currentState = \"++--++--++--++--++--\") == True\n    assert candidate(currentState = \"-+--++-+--++-+--\") == False\n    assert candidate(currentState = \"+-+-+-++++-+-++++-+-++++-+-++++-+-++++\") == True\n    assert candidate(currentState = \"++++++++--++++++++--++++++++\") == True\n    assert candidate(currentState = \"-+-+-+-++++-+-++++\") == False\n    assert candidate(currentState = \"-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\") == False\n    assert candidate(currentState = \"++++++++-++++++++-++++++++-++++++++\") == False\n    assert candidate(currentState = \"++-++++-++++-++++-++\") == True\n    assert candidate(currentState = \"--+++++--+++++--\") == False\n    assert candidate(currentState = \"++++++----++++++\") == False\n    assert candidate(currentState = \"-+-+--++-+-+\") == True\n    assert candidate(currentState = \"-++-++-++-++-++-++-++\") == True\n    assert candidate(currentState = \"+++++----+++++----+++++\") == False\n    assert candidate(currentState = \"+++++----+++++----+++++----+++++\") == False\n    assert candidate(currentState = \"++++++++++++++++++++++++++++++\") == True\n    assert candidate(currentState = \"++--++--++--++--++--++\") == False\n    assert candidate(currentState = \"--------------------------------\") == False\n    assert candidate(currentState = \"--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++\") == True\n    assert candidate(currentState = \"++++++++++++++++++++++++++++++--------------------------------\") == True\n    assert candidate(currentState = \"++++++++++++++++++++++++++++++++\") == True\n    assert candidate(currentState = \"--++++++--+--++++--\") == True\n    assert candidate(currentState = \"++++++++++-+-++++++++++-+-++++++++++\") == True\n    assert candidate(currentState = \"++-++-++--++-++-++--++-++-++--++-++\") == True\n    assert candidate(currentState = \"-++++++-++++++-++++++-++++++-++++++\") == True\n    assert candidate(currentState = \"++++++-++++++-++++++\") == True\n    assert candidate(currentState = \"++++++++--++++++++\") == False\n    assert candidate(currentState = \"----++++++++++----++++++++++----++++++++++----\") == True\n    assert candidate(currentState = \"-++++++++++++++++++++++++++++++++++\") == True\n    assert candidate(currentState = \"-+-++-+-++-+-++-+-++-\") == False\n    assert candidate(currentState = \"-+-++-+-++-+-++-+-\") == True\n    assert candidate(currentState = \"+++++++++++++++\") == False\n    assert candidate(currentState = \"++-++-++-++-\") == False\n    assert candidate(currentState = \"++-++-++-++-++-++-++-++-++\") == True\n    assert candidate(currentState = \"-++-++-++-++-++-++-++-++-++-++-++-++-\") == False\n    assert candidate(currentState = \"------------------------------------------------------------\") == False\n    assert candidate(currentState = \"+++++-+++++-+++++-+++++-+++++-+++++\") == False\n    assert candidate(currentState = \"-+-++-+-++-\") == False\n    assert candidate(currentState = \"--++--++--++--++--++--++--++--++--++\") == True\n    assert candidate(currentState = \"--++++--++++--++++\") == True\n    assert candidate(currentState = \"+++++++++--+++++++++\") == False\n    assert candidate(currentState = \"++++++-++++++-++++++-++++++\") == False\n    assert candidate(currentState = \"--++--++++++--++++++--++++++--++--\") == True\n    assert candidate(currentState = \"------------------------------------\") == False\n    assert candidate(currentState = \"+-++-+-++-+-++-+-++-+-++-+-++-+-++-+-++-\") == False\n    assert candidate(currentState = \"-++-++-++-++-++-++-++-++-++-++-++-++\") == False\n    assert candidate(currentState = \"-+++++----+++++----+++++----+++++-\") == False\n    assert candidate(currentState = \"++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++\") == True\n    assert candidate(currentState = \"+++++++++-++++--++++--++++-++++++++\") == True\n    assert candidate(currentState = \"-+-+++-+++-\") == False\n    assert candidate(currentState = \"++++++++--++++++++--++++++++--++++++++\") == False\n    assert candidate(currentState = \"++++++++++--++++++++++--++++++++++\") == True\n    assert candidate(currentState = \"++++++---++++++---++++++---++++++---++++++\") == True\n    assert candidate(currentState = \"-++++-++++-++++-++++\") == False\n    assert candidate(currentState = \"-++++++++++-++++++++++\") == False\n    assert candidate(currentState = \"--++++++--++++++--++++++--\") == True\n    assert candidate(currentState = \"++-++-++-++-++-++-++\") == True\n    assert candidate(currentState = \"++-++-++-++\") == False\n    assert candidate(currentState = \"++++++++++++\") == True\n    assert candidate(currentState = \"++--++--++--++--++--++--++--++--\") == False\n    assert candidate(currentState = \"++-++-++-++-++-++-++-++-++-++-++-++-++\") == True\n    assert candidate(currentState = \"-++++++-++++++-++++++-\") == True\n    assert candidate(currentState = \"++++-++-++++-++-++++-++-++++-++-++++\") == True\n    assert candidate(currentState = \"++++++--++++++--++++++\") == True\n    assert candidate(currentState = \"-++++++++-++++++++-\") == False\n    assert candidate(currentState = \"+-+--++-+--++-\") == False\n    assert candidate(currentState = \"--++++++++--++++++++--++++++++--++++++++\") == False\n    assert candidate(currentState = \"+-++-+-++-+-++-+-++-+-++-+-++-\") == False\n    assert candidate(currentState = \"++-++++-++++-++++-++++-++\") == False\n    assert candidate(currentState = \"----------------------------------------------------------------\") == False\n    assert candidate(currentState = \"++++-++-++++-++-++++-++-++++-\") == True\n    assert candidate(currentState = \"-+++++++-++++++-\") == True\n    assert candidate(currentState = \"++++-++++-++++-++++\") == False\n    assert candidate(currentState = \"++++--++++--++++--++++\") == False\n    assert candidate(currentState = \"+++++-+++++-+++++-+++++\") == False\n",
  "test_cases": [
    "assert candidate(currentState = \"+-+-+--\") == False",
    "assert candidate(currentState = \"-+-\") == False",
    "assert candidate(currentState = \"++--\") == True",
    "assert candidate(currentState = \"++-++\") == False",
    "assert candidate(currentState = \"++++\") == True",
    "assert candidate(currentState = \"+++\") == True",
    "assert candidate(currentState = \"+++++++\") == True",
    "assert candidate(currentState = \"+\") == False",
    "assert candidate(currentState = \"+++++\") == False",
    "assert candidate(currentState = \"++++++\") == True",
    "assert candidate(currentState = \"++++++++\") == True",
    "assert candidate(currentState = \"+-++-++-\") == False",
    "assert candidate(currentState = \"--++--\") == True",
    "assert candidate(currentState = \"--+-+++++--\") == False",
    "assert candidate(currentState = \"++++++++++++++++\") == True",
    "assert candidate(currentState = \"+-+--++\") == True",
    "assert candidate(currentState = \"-++++-\") == True",
    "assert candidate(currentState = \"--++--++--\") == False",
    "assert candidate(currentState = \"-++++-++++-\") == False",
    "assert candidate(currentState = \"++++-++++\") == False",
    "assert candidate(currentState = \"-++-++-\") == False",
    "assert candidate(currentState = \"++++++++++\") == True",
    "assert candidate(currentState = \"+-+-+--+++\") == True",
    "assert candidate(currentState = \"++-++-++\") == True",
    "assert candidate(currentState = \"-+++++-\") == False",
    "assert candidate(currentState = \"+++++++++\") == False",
    "assert candidate(currentState = \"++\") == True",
    "assert candidate(currentState = \"++++-++++-++++\") == True",
    "assert candidate(currentState = \"++--++--++--++\") == False",
    "assert candidate(currentState = \"++++-++++-++++-++++-++++-++++\") == False",
    "assert candidate(currentState = \"-++++++++++-++++++++\") == True",
    "assert candidate(currentState = \"+++++++++++++--++++\") == False",
    "assert candidate(currentState = \"--+++++--+++++--+++++--\") == False",
    "assert candidate(currentState = \"++-++-++-++-++-++\") == False",
    "assert candidate(currentState = \"+-++++-++++-+\") == False",
    "assert candidate(currentState = \"++++++++++++++\") == True",
    "assert candidate(currentState = \"++--++--++--++--++\") == True",
    "assert candidate(currentState = \"--++++--++++--++++--++++--++++--++++\") == False",
    "assert candidate(currentState = \"+++++--+++++--+++++--+++++--+++++--+++++--+++++--+++++--+++++\") == False",
    "assert candidate(currentState = \"-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\") == False",
    "assert candidate(currentState = \"--+++++-+++++-+++++-+++++-+++++-+++++-+++++--\") == False",
    "assert candidate(currentState = \"++--++--++--\") == True",
    "assert candidate(currentState = \"++-++-++-++-++-++-++-++-++-++-++-++\") == False",
    "assert candidate(currentState = \"++++++-++++++-++++++-++++++-++++++\") == True",
    "assert candidate(currentState = \"--++++++--\") == True",
    "assert candidate(currentState = \"----------------------------------------------------------------------------------------\") == False",
    "assert candidate(currentState = \"++++++--++++++--++++++--++++++--++++++\") == True",
    "assert candidate(currentState = \"++--++--++--++--++--++--++--++--++--\") == True",
    "assert candidate(currentState = \"++++-+--++++-+--++++-+--++++-+--++++\") == True",
    "assert candidate(currentState = \"-+++++++++++++++++++++++++++\") == True",
    "assert candidate(currentState = \"++++++++++++++++++++++++++++++++++\") == True",
    "assert candidate(currentState = \"++++++--++++++\") == False",
    "assert candidate(currentState = \"+++++--+++++--+++++--+++++--+++++--+++++--+++++\") == False",
    "assert candidate(currentState = \"-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++\") == True",
    "assert candidate(currentState = \"--+--+--+--+--+--+--+--+--+--+\") == False",
    "assert candidate(currentState = \"-++-++-++-++-++-++-++-++\") == False",
    "assert candidate(currentState = \"-+++++----+++++----+++++-\") == False",
    "assert candidate(currentState = \"++++++-++++++\") == False",
    "assert candidate(currentState = \"-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\") == False",
    "assert candidate(currentState = \"+++++++++++++++++++++++++++++\") == False",
    "assert candidate(currentState = \"-++-++++-++++-++++-++++-++-\") == False",
    "assert candidate(currentState = \"-++++--++++--++++--++++--\") == False",
    "assert candidate(currentState = \"++++++++++++++++++++++--++++++++\") == False",
    "assert candidate(currentState = \"++--++--++--++--++--\") == True",
    "assert candidate(currentState = \"-+--++-+--++-+--\") == False",
    "assert candidate(currentState = \"+-+-+-++++-+-++++-+-++++-+-++++-+-++++\") == True",
    "assert candidate(currentState = \"++++++++--++++++++--++++++++\") == True",
    "assert candidate(currentState = \"-+-+-+-++++-+-++++\") == False",
    "assert candidate(currentState = \"-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\") == False",
    "assert candidate(currentState = \"++++++++-++++++++-++++++++-++++++++\") == False",
    "assert candidate(currentState = \"++-++++-++++-++++-++\") == True",
    "assert candidate(currentState = \"--+++++--+++++--\") == False",
    "assert candidate(currentState = \"++++++----++++++\") == False",
    "assert candidate(currentState = \"-+-+--++-+-+\") == True",
    "assert candidate(currentState = \"-++-++-++-++-++-++-++\") == True",
    "assert candidate(currentState = \"+++++----+++++----+++++\") == False",
    "assert candidate(currentState = \"+++++----+++++----+++++----+++++\") == False",
    "assert candidate(currentState = \"++++++++++++++++++++++++++++++\") == True",
    "assert candidate(currentState = \"++--++--++--++--++--++\") == False",
    "assert candidate(currentState = \"--------------------------------\") == False",
    "assert candidate(currentState = \"--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++--+-++\") == True",
    "assert candidate(currentState = \"++++++++++++++++++++++++++++++--------------------------------\") == True",
    "assert candidate(currentState = \"++++++++++++++++++++++++++++++++\") == True",
    "assert candidate(currentState = \"--++++++--+--++++--\") == True",
    "assert candidate(currentState = \"++++++++++-+-++++++++++-+-++++++++++\") == True",
    "assert candidate(currentState = \"++-++-++--++-++-++--++-++-++--++-++\") == True",
    "assert candidate(currentState = \"-++++++-++++++-++++++-++++++-++++++\") == True",
    "assert candidate(currentState = \"++++++-++++++-++++++\") == True",
    "assert candidate(currentState = \"++++++++--++++++++\") == False",
    "assert candidate(currentState = \"----++++++++++----++++++++++----++++++++++----\") == True",
    "assert candidate(currentState = \"-++++++++++++++++++++++++++++++++++\") == True",
    "assert candidate(currentState = \"-+-++-+-++-+-++-+-++-\") == False",
    "assert candidate(currentState = \"-+-++-+-++-+-++-+-\") == True",
    "assert candidate(currentState = \"+++++++++++++++\") == False",
    "assert candidate(currentState = \"++-++-++-++-\") == False",
    "assert candidate(currentState = \"++-++-++-++-++-++-++-++-++\") == True",
    "assert candidate(currentState = \"-++-++-++-++-++-++-++-++-++-++-++-++-\") == False",
    "assert candidate(currentState = \"------------------------------------------------------------\") == False",
    "assert candidate(currentState = \"+++++-+++++-+++++-+++++-+++++-+++++\") == False",
    "assert candidate(currentState = \"-+-++-+-++-\") == False",
    "assert candidate(currentState = \"--++--++--++--++--++--++--++--++--++\") == True",
    "assert candidate(currentState = \"--++++--++++--++++\") == True",
    "assert candidate(currentState = \"+++++++++--+++++++++\") == False",
    "assert candidate(currentState = \"++++++-++++++-++++++-++++++\") == False",
    "assert candidate(currentState = \"--++--++++++--++++++--++++++--++--\") == True",
    "assert candidate(currentState = \"------------------------------------\") == False",
    "assert candidate(currentState = \"+-++-+-++-+-++-+-++-+-++-+-++-+-++-+-++-\") == False",
    "assert candidate(currentState = \"-++-++-++-++-++-++-++-++-++-++-++-++\") == False",
    "assert candidate(currentState = \"-+++++----+++++----+++++----+++++-\") == False",
    "assert candidate(currentState = \"++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++-++\") == True",
    "assert candidate(currentState = \"+++++++++-++++--++++--++++-++++++++\") == True",
    "assert candidate(currentState = \"-+-+++-+++-\") == False",
    "assert candidate(currentState = \"++++++++--++++++++--++++++++--++++++++\") == False",
    "assert candidate(currentState = \"++++++++++--++++++++++--++++++++++\") == True",
    "assert candidate(currentState = \"++++++---++++++---++++++---++++++---++++++\") == True",
    "assert candidate(currentState = \"-++++-++++-++++-++++\") == False",
    "assert candidate(currentState = \"-++++++++++-++++++++++\") == False",
    "assert candidate(currentState = \"--++++++--++++++--++++++--\") == True",
    "assert candidate(currentState = \"++-++-++-++-++-++-++\") == True",
    "assert candidate(currentState = \"++-++-++-++\") == False",
    "assert candidate(currentState = \"++++++++++++\") == True",
    "assert candidate(currentState = \"++--++--++--++--++--++--++--++--\") == False",
    "assert candidate(currentState = \"++-++-++-++-++-++-++-++-++-++-++-++-++\") == True",
    "assert candidate(currentState = \"-++++++-++++++-++++++-\") == True",
    "assert candidate(currentState = \"++++-++-++++-++-++++-++-++++-++-++++\") == True",
    "assert candidate(currentState = \"++++++--++++++--++++++\") == True",
    "assert candidate(currentState = \"-++++++++-++++++++-\") == False",
    "assert candidate(currentState = \"+-+--++-+--++-\") == False",
    "assert candidate(currentState = \"--++++++++--++++++++--++++++++--++++++++\") == False",
    "assert candidate(currentState = \"+-++-+-++-+-++-+-++-+-++-+-++-\") == False",
    "assert candidate(currentState = \"++-++++-++++-++++-++++-++\") == False",
    "assert candidate(currentState = \"----------------------------------------------------------------\") == False",
    "assert candidate(currentState = \"++++-++-++++-++-++++-++-++++-\") == True",
    "assert candidate(currentState = \"-+++++++-++++++-\") == True",
    "assert candidate(currentState = \"++++-++++-++++-++++\") == False",
    "assert candidate(currentState = \"++++--++++--++++--++++\") == False",
    "assert candidate(currentState = \"+++++-+++++-+++++-+++++\") == False"
  ]
}