{
  "id": "dice-roll-simulation",
  "title": "Dice Roll Simulation",
  "difficulty": "Hard",
  "tags": [
    "Array",
    "Dynamic Programming"
  ],
  "description": "A die simulator generates a random number from 1 to 6 for each roll. You introduced a constraint to the generator such that it cannot roll the number i more than rollMax[i] (1-indexed) consecutive times.\nGiven an array of integers rollMax and an integer n, return the number of distinct sequences that can be obtained with exact n rolls. Since the answer may be too large, return it modulo 109 + 7.\nTwo sequences are considered different if at least one element differs from each other.\n\u00a0\nExample 1:\n\nInput: n = 2, rollMax = [1,1,2,2,2,3]\nOutput: 34\nExplanation: There will be 2 rolls of die, if there are no constraints on the die, there are 6 * 6 = 36 possible combinations. In this case, looking at rollMax array, the numbers 1 and 2 appear at most once consecutively, therefore sequences (1,1) and (2,2) cannot occur, so the final answer is 36-2 = 34.\n\nExample 2:\n\nInput: n = 2, rollMax = [1,1,1,1,1,1]\nOutput: 30\n\nExample 3:\n\nInput: n = 3, rollMax = [1,1,1,2,2,3]\nOutput: 181\n\n\u00a0\nConstraints:\n\n1 <= n <= 5000\nrollMax.length == 6\n1 <= rollMax[i] <= 15\n\n",
  "entry_point": "Solution().dieSimulator",
  "starter_code": "class Solution:\n    def dieSimulator(self, n: int, rollMax: List[int]) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(n = 5,rollMax = [2, 2, 2, 2, 2, 2]) == 7200\n    assert candidate(n = 1,rollMax = [1, 1, 1, 1, 1, 1]) == 6\n    assert candidate(n = 1,rollMax = [15, 15, 15, 15, 15, 15]) == 6\n    assert candidate(n = 10,rollMax = [2, 3, 4, 5, 6, 7]) == 58240426\n    assert candidate(n = 2,rollMax = [1, 1, 2, 2, 2, 3]) == 34\n    assert candidate(n = 2,rollMax = [1, 1, 1, 1, 1, 1]) == 30\n    assert candidate(n = 5,rollMax = [1, 2, 3, 4, 5, 6]) == 6919\n    assert candidate(n = 5,rollMax = [1, 1, 1, 1, 1, 1]) == 3750\n    assert candidate(n = 4,rollMax = [1, 2, 3, 4, 5, 6]) == 1188\n    assert candidate(n = 3,rollMax = [1, 1, 1, 2, 2, 3]) == 181\n    assert candidate(n = 50,rollMax = [5, 5, 5, 5, 5, 5]) == 808684040\n    assert candidate(n = 300,rollMax = [1, 1, 1, 15, 1, 15]) == 728503686\n    assert candidate(n = 150,rollMax = [1, 2, 2, 3, 3, 4]) == 917820088\n    assert candidate(n = 300,rollMax = [3, 3, 3, 3, 3, 3]) == 197968606\n    assert candidate(n = 25,rollMax = [15, 14, 13, 12, 11, 10]) == 470351288\n    assert candidate(n = 350,rollMax = [2, 3, 4, 5, 6, 7]) == 326686679\n    assert candidate(n = 100,rollMax = [5, 5, 5, 5, 5, 5]) == 505697887\n    assert candidate(n = 15,rollMax = [1, 1, 2, 2, 3, 3]) == 758892805\n    assert candidate(n = 4,rollMax = [3, 2, 1, 2, 3, 4]) == 1176\n    assert candidate(n = 150,rollMax = [5, 5, 5, 5, 5, 5]) == 488934088\n    assert candidate(n = 10,rollMax = [1, 1, 1, 2, 3, 4]) == 27915907\n    assert candidate(n = 50,rollMax = [2, 3, 4, 5, 6, 7]) == 197242731\n    assert candidate(n = 10,rollMax = [2, 3, 1, 1, 4, 5]) == 36308544\n    assert candidate(n = 50,rollMax = [3, 4, 5, 6, 7, 8]) == 753899520\n    assert candidate(n = 400,rollMax = [1, 2, 1, 2, 1, 2]) == 987298539\n    assert candidate(n = 200,rollMax = [2, 3, 4, 5, 6, 7]) == 221148447\n    assert candidate(n = 50,rollMax = [1, 2, 1, 2, 1, 2]) == 825497499\n    assert candidate(n = 50,rollMax = [1, 2, 3, 4, 5, 15]) == 992520282\n    assert candidate(n = 200,rollMax = [2, 2, 2, 2, 2, 2]) == 818530237\n    assert candidate(n = 10,rollMax = [1, 1, 1, 1, 1, 1]) == 11718750\n    assert candidate(n = 100,rollMax = [10, 10, 10, 10, 10, 10]) == 568370197\n    assert candidate(n = 30,rollMax = [1, 2, 1, 2, 1, 2]) == 679107530\n    assert candidate(n = 100,rollMax = [1, 1, 2, 2, 3, 3]) == 12398650\n    assert candidate(n = 100,rollMax = [1, 1, 1, 1, 1, 1]) == 776377743\n    assert candidate(n = 400,rollMax = [15, 14, 13, 12, 11, 10]) == 379975553\n    assert candidate(n = 20,rollMax = [5, 5, 5, 5, 5, 5]) == 703140572\n    assert candidate(n = 100,rollMax = [1, 1, 2, 2, 3, 3]) == 12398650\n    assert candidate(n = 20,rollMax = [2, 3, 4, 5, 6, 7]) == 412603689\n    assert candidate(n = 400,rollMax = [4, 4, 4, 4, 4, 4]) == 418009264\n    assert candidate(n = 150,rollMax = [7, 6, 5, 4, 3, 2]) == 3950632\n    assert candidate(n = 40,rollMax = [3, 1, 2, 4, 1, 3]) == 255974937\n",
  "test_cases": [
    "assert candidate(n = 5,rollMax = [2, 2, 2, 2, 2, 2]) == 7200",
    "assert candidate(n = 1,rollMax = [1, 1, 1, 1, 1, 1]) == 6",
    "assert candidate(n = 1,rollMax = [15, 15, 15, 15, 15, 15]) == 6",
    "assert candidate(n = 10,rollMax = [2, 3, 4, 5, 6, 7]) == 58240426",
    "assert candidate(n = 2,rollMax = [1, 1, 2, 2, 2, 3]) == 34",
    "assert candidate(n = 2,rollMax = [1, 1, 1, 1, 1, 1]) == 30",
    "assert candidate(n = 5,rollMax = [1, 2, 3, 4, 5, 6]) == 6919",
    "assert candidate(n = 5,rollMax = [1, 1, 1, 1, 1, 1]) == 3750",
    "assert candidate(n = 4,rollMax = [1, 2, 3, 4, 5, 6]) == 1188",
    "assert candidate(n = 3,rollMax = [1, 1, 1, 2, 2, 3]) == 181",
    "assert candidate(n = 50,rollMax = [5, 5, 5, 5, 5, 5]) == 808684040",
    "assert candidate(n = 300,rollMax = [1, 1, 1, 15, 1, 15]) == 728503686",
    "assert candidate(n = 150,rollMax = [1, 2, 2, 3, 3, 4]) == 917820088",
    "assert candidate(n = 300,rollMax = [3, 3, 3, 3, 3, 3]) == 197968606",
    "assert candidate(n = 25,rollMax = [15, 14, 13, 12, 11, 10]) == 470351288",
    "assert candidate(n = 350,rollMax = [2, 3, 4, 5, 6, 7]) == 326686679",
    "assert candidate(n = 100,rollMax = [5, 5, 5, 5, 5, 5]) == 505697887",
    "assert candidate(n = 15,rollMax = [1, 1, 2, 2, 3, 3]) == 758892805",
    "assert candidate(n = 4,rollMax = [3, 2, 1, 2, 3, 4]) == 1176",
    "assert candidate(n = 150,rollMax = [5, 5, 5, 5, 5, 5]) == 488934088",
    "assert candidate(n = 10,rollMax = [1, 1, 1, 2, 3, 4]) == 27915907",
    "assert candidate(n = 50,rollMax = [2, 3, 4, 5, 6, 7]) == 197242731",
    "assert candidate(n = 10,rollMax = [2, 3, 1, 1, 4, 5]) == 36308544",
    "assert candidate(n = 50,rollMax = [3, 4, 5, 6, 7, 8]) == 753899520",
    "assert candidate(n = 400,rollMax = [1, 2, 1, 2, 1, 2]) == 987298539",
    "assert candidate(n = 200,rollMax = [2, 3, 4, 5, 6, 7]) == 221148447",
    "assert candidate(n = 50,rollMax = [1, 2, 1, 2, 1, 2]) == 825497499",
    "assert candidate(n = 50,rollMax = [1, 2, 3, 4, 5, 15]) == 992520282",
    "assert candidate(n = 200,rollMax = [2, 2, 2, 2, 2, 2]) == 818530237",
    "assert candidate(n = 10,rollMax = [1, 1, 1, 1, 1, 1]) == 11718750",
    "assert candidate(n = 100,rollMax = [10, 10, 10, 10, 10, 10]) == 568370197",
    "assert candidate(n = 30,rollMax = [1, 2, 1, 2, 1, 2]) == 679107530",
    "assert candidate(n = 100,rollMax = [1, 1, 2, 2, 3, 3]) == 12398650",
    "assert candidate(n = 100,rollMax = [1, 1, 1, 1, 1, 1]) == 776377743",
    "assert candidate(n = 400,rollMax = [15, 14, 13, 12, 11, 10]) == 379975553",
    "assert candidate(n = 20,rollMax = [5, 5, 5, 5, 5, 5]) == 703140572",
    "assert candidate(n = 100,rollMax = [1, 1, 2, 2, 3, 3]) == 12398650",
    "assert candidate(n = 20,rollMax = [2, 3, 4, 5, 6, 7]) == 412603689",
    "assert candidate(n = 400,rollMax = [4, 4, 4, 4, 4, 4]) == 418009264",
    "assert candidate(n = 150,rollMax = [7, 6, 5, 4, 3, 2]) == 3950632",
    "assert candidate(n = 40,rollMax = [3, 1, 2, 4, 1, 3]) == 255974937"
  ]
}