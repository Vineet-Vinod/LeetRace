{
  "id": "lexicographically-smallest-beautiful-string",
  "title": "Lexicographically Smallest Beautiful String",
  "difficulty": "Hard",
  "tags": [
    "Greedy",
    "String"
  ],
  "description": "A string is beautiful if:\n\nIt consists of the first k letters of the English lowercase alphabet.\nIt does not contain any substring of length 2 or more which is a palindrome.\n\nYou are given a beautiful string s of length n and a positive integer k.\nReturn the lexicographically smallest string of length n, which is larger than s and is beautiful. If there is no such string, return an empty string.\nA string a is lexicographically larger than a string b (of the same length) if in the first position where a and b differ, a has a character strictly larger than the corresponding character in b.\n\nFor example, \"abcd\" is lexicographically larger than \"abcc\" because the first position they differ is at the fourth character, and d is greater than c.\n\n\u00a0\nExample 1:\n\nInput: s = \"abcz\", k = 26\nOutput: \"abda\"\nExplanation: The string \"abda\" is beautiful and lexicographically larger than the string \"abcz\".\nIt can be proven that there is no string that is lexicographically larger than the string \"abcz\", beautiful, and lexicographically smaller than the string \"abda\".\n\nExample 2:\n\nInput: s = \"dc\", k = 4\nOutput: \"\"\nExplanation: It can be proven that there is no string that is lexicographically larger than the string \"dc\" and is beautiful.\n\n\u00a0\nConstraints:\n\n1 <= n == s.length <= 105\n4 <= k <= 26\ns is a beautiful string.\n\n",
  "entry_point": "Solution().smallestBeautifulString",
  "starter_code": "class Solution:\n    def smallestBeautifulString(self, s: str, k: int) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcd\",k = 5) == \"abce\"\n    assert candidate(s = \"aabbcc\",k = 6) == \"aabbcd\"\n    assert candidate(s = \"zyx\",k = 26) == \"\"\n    assert candidate(s = \"abcz\",k = 26) == \"abda\"\n    assert candidate(s = \"aaa\",k = 4) == \"aab\"\n    assert candidate(s = \"dc\",k = 4) == \"\"\n    assert candidate(s = \"aab\",k = 3) == \"aac\"\n    assert candidate(s = \"abcd\",k = 4) == \"abda\"\n    assert candidate(s = \"xyz\",k = 26) == \"xza\"\n    assert candidate(s = \"zyx\",k = 3) == \"\"\n    assert candidate(s = \"aabb\",k = 4) == \"aabc\"\n    assert candidate(s = \"azzzz\",k = 26) == \"bacba\"\n    assert candidate(s = \"abcabcabcabc\",k = 3) == \"acbacbacbacb\"\n    assert candidate(s = \"abcabca\",k = 26) == \"abcabcd\"\n    assert candidate(s = \"aabababa\",k = 6) == \"aabababc\"\n    assert candidate(s = \"zzzzz\",k = 26) == \"\"\n    assert candidate(s = \"abcabcabcabc\",k = 26) == \"abcabcabcabd\"\n    assert candidate(s = \"zyxzyxzyxzyx\",k = 26) == \"\"\n    assert candidate(s = \"wxyz\",k = 26) == \"wxza\"\n    assert candidate(s = \"zzzzzzzzzz\",k = 26) == \"\"\n    assert candidate(s = \"mnopqrstuvw\",k = 21) == \"mnopqrsuabc\"\n    assert candidate(s = \"zyxwvutsr\",k = 19) == \"\"\n    assert candidate(s = \"abcdefg\",k = 7) == \"abcdega\"\n    assert candidate(s = \"abcdefghijklmnop\",k = 26) == \"abcdefghijklmnoq\"\n    assert candidate(s = \"mnopqr\",k = 18) == \"mnopra\"\n    assert candidate(s = \"lkjihgf\",k = 12) == \"lkjihgi\"\n    assert candidate(s = \"abcabc\",k = 3) == \"acbacb\"\n    assert candidate(s = \"abcdefghij\",k = 10) == \"abcdefghja\"\n    assert candidate(s = \"aabccba\",k = 15) == \"aabccbd\"\n    assert candidate(s = \"mnbvcxzlkjhgfdsapoiuytrewq\",k = 26) == \"mnbvcxzlkjhgfdsapoiuytrewr\"\n    assert candidate(s = \"ababababababab\",k = 3) == \"ababababababac\"\n    assert candidate(s = \"abcabcabcabcabc\",k = 3) == \"acbacbacbacbacb\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyza\",k = 26) == \"abcdefghijklmnopqrstuvwxyzb\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 20) == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrstabcabcabcabcab\"\n    assert candidate(s = \"abcdefghijklmnopqrstuv\",k = 21) == \"abcdefghijklmnopqrsuab\"\n    assert candidate(s = \"zzzzzz\",k = 4) == \"\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 26) == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyzab\"\n    assert candidate(s = \"abcdabcd\",k = 4) == \"abcdabda\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzz\",k = 26) == \"\"\n    assert candidate(s = \"abcaabcd\",k = 26) == \"abcaabce\"\n    assert candidate(s = \"mnopqrlmno\",k = 14) == \"mnopqrlnab\"\n    assert candidate(s = \"abcdcba\",k = 10) == \"abcdcbd\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxzz\",k = 26) == \"abcdefghijklmnopqrstuvwyab\"\n    assert candidate(s = \"abcdefghijk\",k = 12) == \"abcdefghijl\"\n    assert candidate(s = \"abcdefghijk\",k = 11) == \"abcdefghika\"\n    assert candidate(s = \"abba\",k = 26) == \"abbc\"\n    assert candidate(s = \"abababababab\",k = 26) == \"abababababac\"\n    assert candidate(s = \"aaaabbbbccccdddd\",k = 26) == \"aaaabbbbccccddde\"\n    assert candidate(s = \"abcabcabc\",k = 3) == \"acbacbacb\"\n    assert candidate(s = \"abcdcba\",k = 26) == \"abcdcbd\"\n    assert candidate(s = \"abcdexyz\",k = 26) == \"abcdexza\"\n    assert candidate(s = \"pqrs\",k = 18) == \"prab\"\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnm\",k = 26) == \"qwertyuiopasdfghjklzxcvbno\"\n    assert candidate(s = \"xyzabc\",k = 26) == \"xyzabd\"\n    assert candidate(s = \"abacabadabacaba\",k = 26) == \"abacabadabacabc\"\n    assert candidate(s = \"aabbccdd\",k = 6) == \"aabbccde\"\n    assert candidate(s = \"zzzz\",k = 4) == \"\"\n    assert candidate(s = \"aabbaabbaabb\",k = 6) == \"aabbaabbaabc\"\n    assert candidate(s = \"abcde\",k = 5) == \"abcea\"\n    assert candidate(s = \"mnopqrstuvw\",k = 22) == \"mnopqrstvab\"\n    assert candidate(s = \"abcdexyzabcd\",k = 26) == \"abcdexyzabce\"\n    assert candidate(s = \"abacabacabacaba\",k = 3) == \"abacabacabacabc\"\n    assert candidate(s = \"abacabadabc\",k = 26) == \"abacabadabd\"\n    assert candidate(s = \"xyzxyzxyzxyz\",k = 26) == \"xzabcabcabca\"\n    assert candidate(s = \"abcbabcba\",k = 3) == \"abcbacbac\"\n    assert candidate(s = \"abcdefghij\",k = 26) == \"abcdefghik\"\n    assert candidate(s = \"abac\",k = 4) == \"abad\"\n    assert candidate(s = \"abcabcabc\",k = 26) == \"abcabcabd\"\n    assert candidate(s = \"abcba\",k = 3) == \"acbac\"\n    assert candidate(s = \"abcdefghi\",k = 10) == \"abcdefghj\"\n    assert candidate(s = \"aabbaa\",k = 6) == \"aabbac\"\n    assert candidate(s = \"abcdefghi\",k = 9) == \"abcdefgia\"\n    assert candidate(s = \"zyxcba\",k = 6) == \"zyxcbd\"\n    assert candidate(s = \"mnopqrstuvwxyzz\",k = 26) == \"mnopqrstuvwxzab\"\n    assert candidate(s = \"zzzzzzzzz\",k = 26) == \"\"\n    assert candidate(s = \"aabbccddeeffgg\",k = 6) == \"aabbccddefabca\"\n    assert candidate(s = \"abacabadabacaba\",k = 15) == \"abacabadabacabc\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxy\",k = 26) == \"abcdefghijklmnopqrstuvwxz\"\n    assert candidate(s = \"abcdabc\",k = 26) == \"abcdabd\"\n    assert candidate(s = \"fedcba\",k = 6) == \"fedcbd\"\n    assert candidate(s = \"aabbccddeeffgg\",k = 10) == \"aabbccddeeffgh\"\n    assert candidate(s = \"mnopqrstu\",k = 20) == \"mnopqrtab\"\n    assert candidate(s = \"abcdefg\",k = 8) == \"abcdefh\"\n    assert candidate(s = \"abababababab\",k = 2) == \"baababababab\"\n    assert candidate(s = \"abcddcba\",k = 20) == \"abcddcbd\"\n    assert candidate(s = \"abacaba\",k = 7) == \"abacabc\"\n    assert candidate(s = \"abacabadabacaba\",k = 3) == \"abacabadabacabc\"\n    assert candidate(s = \"abcdefghijklmnop\",k = 20) == \"abcdefghijklmnoq\"\n    assert candidate(s = \"aabababacababaca\",k = 26) == \"aabababacababacb\"\n    assert candidate(s = \"zzyyxxwwvvuuttssrrqqppoonnmmllkkjjiihhaaggeeffddccbb\",k = 26) == \"zzyyxxwwvvuuttssrrqqppoonnmmllkkjjiihhaaggeeffddccbd\"\n    assert candidate(s = \"abacabad\",k = 4) == \"abacabca\"\n    assert candidate(s = \"acb\",k = 3) == \"bac\"\n    assert candidate(s = \"zyxzyxzyx\",k = 26) == \"\"\n    assert candidate(s = \"aabbccddeeff\",k = 26) == \"aabbccddeefg\"\n    assert candidate(s = \"abcbac\",k = 26) == \"abcbad\"\n    assert candidate(s = \"abcdefghijklmnop\",k = 16) == \"abcdefghijklmnpa\"\n    assert candidate(s = \"abcabcabcabc\",k = 6) == \"abcabcabcabd\"\n    assert candidate(s = \"abacaba\",k = 26) == \"abacabc\"\n    assert candidate(s = \"abacbacbac\",k = 5) == \"abacbacbad\"\n    assert candidate(s = \"abcdcba\",k = 5) == \"abcdcbd\"\n    assert candidate(s = \"abcdefgabcdefg\",k = 26) == \"abcdefgabcdefh\"\n    assert candidate(s = \"abcdabcdabcd\",k = 4) == \"abcdabcdabda\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\",k = 26) == \"zyxwvutsrqponmlkjihgfedcbd\"\n",
  "test_cases": [
    "assert candidate(s = \"abcd\",k = 5) == \"abce\"",
    "assert candidate(s = \"aabbcc\",k = 6) == \"aabbcd\"",
    "assert candidate(s = \"zyx\",k = 26) == \"\"",
    "assert candidate(s = \"abcz\",k = 26) == \"abda\"",
    "assert candidate(s = \"aaa\",k = 4) == \"aab\"",
    "assert candidate(s = \"dc\",k = 4) == \"\"",
    "assert candidate(s = \"aab\",k = 3) == \"aac\"",
    "assert candidate(s = \"abcd\",k = 4) == \"abda\"",
    "assert candidate(s = \"xyz\",k = 26) == \"xza\"",
    "assert candidate(s = \"zyx\",k = 3) == \"\"",
    "assert candidate(s = \"aabb\",k = 4) == \"aabc\"",
    "assert candidate(s = \"azzzz\",k = 26) == \"bacba\"",
    "assert candidate(s = \"abcabcabcabc\",k = 3) == \"acbacbacbacb\"",
    "assert candidate(s = \"abcabca\",k = 26) == \"abcabcd\"",
    "assert candidate(s = \"aabababa\",k = 6) == \"aabababc\"",
    "assert candidate(s = \"zzzzz\",k = 26) == \"\"",
    "assert candidate(s = \"abcabcabcabc\",k = 26) == \"abcabcabcabd\"",
    "assert candidate(s = \"zyxzyxzyxzyx\",k = 26) == \"\"",
    "assert candidate(s = \"wxyz\",k = 26) == \"wxza\"",
    "assert candidate(s = \"zzzzzzzzzz\",k = 26) == \"\"",
    "assert candidate(s = \"mnopqrstuvw\",k = 21) == \"mnopqrsuabc\"",
    "assert candidate(s = \"zyxwvutsr\",k = 19) == \"\"",
    "assert candidate(s = \"abcdefg\",k = 7) == \"abcdega\"",
    "assert candidate(s = \"abcdefghijklmnop\",k = 26) == \"abcdefghijklmnoq\"",
    "assert candidate(s = \"mnopqr\",k = 18) == \"mnopra\"",
    "assert candidate(s = \"lkjihgf\",k = 12) == \"lkjihgi\"",
    "assert candidate(s = \"abcabc\",k = 3) == \"acbacb\"",
    "assert candidate(s = \"abcdefghij\",k = 10) == \"abcdefghja\"",
    "assert candidate(s = \"aabccba\",k = 15) == \"aabccbd\"",
    "assert candidate(s = \"mnbvcxzlkjhgfdsapoiuytrewq\",k = 26) == \"mnbvcxzlkjhgfdsapoiuytrewr\"",
    "assert candidate(s = \"ababababababab\",k = 3) == \"ababababababac\"",
    "assert candidate(s = \"abcabcabcabcabc\",k = 3) == \"acbacbacbacbacb\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyza\",k = 26) == \"abcdefghijklmnopqrstuvwxyzb\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 20) == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrstabcabcabcabcab\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuv\",k = 21) == \"abcdefghijklmnopqrsuab\"",
    "assert candidate(s = \"zzzzzz\",k = 4) == \"\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 26) == \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyzab\"",
    "assert candidate(s = \"abcdabcd\",k = 4) == \"abcdabda\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzz\",k = 26) == \"\"",
    "assert candidate(s = \"abcaabcd\",k = 26) == \"abcaabce\"",
    "assert candidate(s = \"mnopqrlmno\",k = 14) == \"mnopqrlnab\"",
    "assert candidate(s = \"abcdcba\",k = 10) == \"abcdcbd\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxzz\",k = 26) == \"abcdefghijklmnopqrstuvwyab\"",
    "assert candidate(s = \"abcdefghijk\",k = 12) == \"abcdefghijl\"",
    "assert candidate(s = \"abcdefghijk\",k = 11) == \"abcdefghika\"",
    "assert candidate(s = \"abba\",k = 26) == \"abbc\"",
    "assert candidate(s = \"abababababab\",k = 26) == \"abababababac\"",
    "assert candidate(s = \"aaaabbbbccccdddd\",k = 26) == \"aaaabbbbccccddde\"",
    "assert candidate(s = \"abcabcabc\",k = 3) == \"acbacbacb\"",
    "assert candidate(s = \"abcdcba\",k = 26) == \"abcdcbd\"",
    "assert candidate(s = \"abcdexyz\",k = 26) == \"abcdexza\"",
    "assert candidate(s = \"pqrs\",k = 18) == \"prab\"",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnm\",k = 26) == \"qwertyuiopasdfghjklzxcvbno\"",
    "assert candidate(s = \"xyzabc\",k = 26) == \"xyzabd\"",
    "assert candidate(s = \"abacabadabacaba\",k = 26) == \"abacabadabacabc\"",
    "assert candidate(s = \"aabbccdd\",k = 6) == \"aabbccde\"",
    "assert candidate(s = \"zzzz\",k = 4) == \"\"",
    "assert candidate(s = \"aabbaabbaabb\",k = 6) == \"aabbaabbaabc\"",
    "assert candidate(s = \"abcde\",k = 5) == \"abcea\"",
    "assert candidate(s = \"mnopqrstuvw\",k = 22) == \"mnopqrstvab\"",
    "assert candidate(s = \"abcdexyzabcd\",k = 26) == \"abcdexyzabce\"",
    "assert candidate(s = \"abacabacabacaba\",k = 3) == \"abacabacabacabc\"",
    "assert candidate(s = \"abacabadabc\",k = 26) == \"abacabadabd\"",
    "assert candidate(s = \"xyzxyzxyzxyz\",k = 26) == \"xzabcabcabca\"",
    "assert candidate(s = \"abcbabcba\",k = 3) == \"abcbacbac\"",
    "assert candidate(s = \"abcdefghij\",k = 26) == \"abcdefghik\"",
    "assert candidate(s = \"abac\",k = 4) == \"abad\"",
    "assert candidate(s = \"abcabcabc\",k = 26) == \"abcabcabd\"",
    "assert candidate(s = \"abcba\",k = 3) == \"acbac\"",
    "assert candidate(s = \"abcdefghi\",k = 10) == \"abcdefghj\"",
    "assert candidate(s = \"aabbaa\",k = 6) == \"aabbac\"",
    "assert candidate(s = \"abcdefghi\",k = 9) == \"abcdefgia\"",
    "assert candidate(s = \"zyxcba\",k = 6) == \"zyxcbd\"",
    "assert candidate(s = \"mnopqrstuvwxyzz\",k = 26) == \"mnopqrstuvwxzab\"",
    "assert candidate(s = \"zzzzzzzzz\",k = 26) == \"\"",
    "assert candidate(s = \"aabbccddeeffgg\",k = 6) == \"aabbccddefabca\"",
    "assert candidate(s = \"abacabadabacaba\",k = 15) == \"abacabadabacabc\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxy\",k = 26) == \"abcdefghijklmnopqrstuvwxz\"",
    "assert candidate(s = \"abcdabc\",k = 26) == \"abcdabd\"",
    "assert candidate(s = \"fedcba\",k = 6) == \"fedcbd\"",
    "assert candidate(s = \"aabbccddeeffgg\",k = 10) == \"aabbccddeeffgh\"",
    "assert candidate(s = \"mnopqrstu\",k = 20) == \"mnopqrtab\"",
    "assert candidate(s = \"abcdefg\",k = 8) == \"abcdefh\"",
    "assert candidate(s = \"abababababab\",k = 2) == \"baababababab\"",
    "assert candidate(s = \"abcddcba\",k = 20) == \"abcddcbd\"",
    "assert candidate(s = \"abacaba\",k = 7) == \"abacabc\"",
    "assert candidate(s = \"abacabadabacaba\",k = 3) == \"abacabadabacabc\"",
    "assert candidate(s = \"abcdefghijklmnop\",k = 20) == \"abcdefghijklmnoq\"",
    "assert candidate(s = \"aabababacababaca\",k = 26) == \"aabababacababacb\"",
    "assert candidate(s = \"zzyyxxwwvvuuttssrrqqppoonnmmllkkjjiihhaaggeeffddccbb\",k = 26) == \"zzyyxxwwvvuuttssrrqqppoonnmmllkkjjiihhaaggeeffddccbd\"",
    "assert candidate(s = \"abacabad\",k = 4) == \"abacabca\"",
    "assert candidate(s = \"acb\",k = 3) == \"bac\"",
    "assert candidate(s = \"zyxzyxzyx\",k = 26) == \"\"",
    "assert candidate(s = \"aabbccddeeff\",k = 26) == \"aabbccddeefg\"",
    "assert candidate(s = \"abcbac\",k = 26) == \"abcbad\"",
    "assert candidate(s = \"abcdefghijklmnop\",k = 16) == \"abcdefghijklmnpa\"",
    "assert candidate(s = \"abcabcabcabc\",k = 6) == \"abcabcabcabd\"",
    "assert candidate(s = \"abacaba\",k = 26) == \"abacabc\"",
    "assert candidate(s = \"abacbacbac\",k = 5) == \"abacbacbad\"",
    "assert candidate(s = \"abcdcba\",k = 5) == \"abcdcbd\"",
    "assert candidate(s = \"abcdefgabcdefg\",k = 26) == \"abcdefgabcdefh\"",
    "assert candidate(s = \"abcdabcdabcd\",k = 4) == \"abcdabcdabda\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\",k = 26) == \"zyxwvutsrqponmlkjihgfedcbd\""
  ]
}