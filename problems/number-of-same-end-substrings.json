{
  "id": "number-of-same-end-substrings",
  "title": "Number Of Same End Substrings",
  "difficulty": "Medium",
  "tags": [
    "Array",
    "Hash Table",
    "String",
    "Counting",
    "Prefix Sum"
  ],
  "description": "You are given a 0-indexed string s, and a 2D array of integers queries, where queries[i] = [li, ri] indicates a substring of s starting from the index li and ending at the index ri (both inclusive), i.e. s[li..ri].\nReturn an array ans where ans[i] is the number of same-end substrings of queries[i].\nA 0-indexed string t of length n is called same-end if it has the same character at both of its ends, i.e., t[0] == t[n - 1].\nA substring is a contiguous non-empty sequence of characters within a string.\n\u00a0\nExample 1:\n\nInput: s = \"abcaab\", queries = [[0,0],[1,4],[2,5],[0,5]]\nOutput: [1,5,5,10]\nExplanation: Here is the same-end substrings of each query:\n1st query: s[0..0] is \"a\" which has 1 same-end substring: \"a\".\n2nd query: s[1..4] is \"bcaa\" which has 5 same-end substrings: \"bcaa\", \"bcaa\", \"bcaa\", \"bcaa\", \"bcaa\".\n3rd query: s[2..5] is \"caab\" which has 5 same-end substrings: \"caab\", \"caab\", \"caab\", \"caab\", \"caab\".\n4th query: s[0..5] is \"abcaab\" which has 10 same-end substrings: \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\", \"abcaab\".\n\nExample 2:\n\nInput: s = \"abcd\", queries = [[0,3]]\nOutput: [4]\nExplanation: The only query is s[0..3] which is \"abcd\". It has 4 same-end substrings: \"abcd\", \"abcd\", \"abcd\", \"abcd\".\n\n\u00a0\nConstraints:\n\n2 <= s.length <= 3 * 104\ns consists only of lowercase English letters.\n1 <= queries.length <= 3 * 104\nqueries[i] = [li, ri]\n0 <= li <= ri < s.length\n\n",
  "entry_point": "Solution().sameEndSubstringCount",
  "starter_code": "class Solution:\n    def sameEndSubstringCount(self, s: str, queries: List[List[int]]) -> List[int]:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcaab\",queries = [[0, 0], [1, 4], [2, 5], [0, 5]]) == [1, 5, 5, 10]\n    assert candidate(s = \"abcabcabc\",queries = [[0, 2], [3, 5], [6, 8], [0, 8]]) == [3, 3, 3, 18]\n    assert candidate(s = \"xyzxyz\",queries = [[0, 2], [3, 5], [0, 5]]) == [3, 3, 9]\n    assert candidate(s = \"aabbcc\",queries = [[0, 2], [3, 5], [0, 5]]) == [4, 4, 9]\n    assert candidate(s = \"xyz\",queries = [[0, 0], [0, 1], [0, 2]]) == [1, 2, 3]\n    assert candidate(s = \"xyzxyzxyz\",queries = [[0, 0], [1, 1], [2, 2], [0, 2], [3, 5], [6, 8], [0, 8]]) == [1, 1, 1, 3, 3, 3, 18]\n    assert candidate(s = \"abcabc\",queries = [[0, 5], [1, 4], [2, 3]]) == [9, 5, 2]\n    assert candidate(s = \"aaaa\",queries = [[0, 0], [0, 1], [0, 2], [0, 3]]) == [1, 3, 6, 10]\n    assert candidate(s = \"abcd\",queries = [[0, 3]]) == [4]\n    assert candidate(s = \"abcdefg\",queries = [[0, 6], [1, 5], [2, 4]]) == [7, 5, 3]\n    assert candidate(s = \"aaaa\",queries = [[0, 3], [1, 2], [2, 2]]) == [10, 3, 1]\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [25, 30], [30, 35], [35, 40], [40, 45], [45, 50], [0, 50]]) == [9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 459]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [26, 51], [0, 51], [10, 20], [15, 35], [20, 40], [40, 51]]) == [26, 26, 78, 11, 21, 21, 12]\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",queries = [[0, 50], [1, 49], [2, 48], [3, 47], [4, 46]]) == [1326, 1225, 1128, 1035, 946]\n    assert candidate(s = \"mississippi\",queries = [[0, 4], [1, 3], [4, 5], [2, 10], [0, 10]]) == [7, 4, 2, 19, 24]\n    assert candidate(s = \"aaaaaaa\",queries = [[0, 6], [1, 5], [2, 4], [0, 3], [3, 6], [0, 4], [4, 6]]) == [28, 15, 6, 10, 10, 15, 6]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 0], [1, 1], [2, 2], [25, 25], [0, 25], [1, 24], [2, 23], [3, 22], [4, 21], [5, 20], [6, 19], [7, 18], [8, 17], [9, 16], [10, 15], [11, 14], [12, 13]]) == [1, 1, 1, 1, 26, 24, 22, 20, 18, 16, 14, 12, 10, 8, 6, 4, 2]\n    assert candidate(s = \"zzzzzzzzzzzzzz\",queries = [[0, 5], [6, 11], [0, 11], [5, 10], [0, 13], [1, 12]]) == [21, 21, 78, 21, 105, 78]\n    assert candidate(s = \"ababababababab\",queries = [[0, 1], [2, 3], [4, 5], [6, 7], [8, 9], [10, 11], [0, 11], [1, 10], [2, 9]]) == [2, 2, 2, 2, 2, 2, 42, 30, 20]\n    assert candidate(s = \"abcdabcdabcdabcd\",queries = [[0, 3], [4, 7], [8, 11], [12, 15], [0, 15], [1, 14], [2, 13], [3, 12]]) == [4, 4, 4, 4, 40, 32, 24, 18]\n    assert candidate(s = \"abacabadabacaba\",queries = [[0, 5], [1, 10], [5, 13], [0, 14], [3, 7], [8, 11]]) == [10, 23, 18, 50, 6, 5]\n    assert candidate(s = \"abcdefgabcdefgabcdefgabcdefgabcdefgabcdefgabcdefgabcdefg\",queries = [[0, 47], [1, 46], [2, 45], [3, 44], [4, 43], [5, 42], [6, 41], [7, 40], [8, 39]]) == [189, 175, 161, 147, 135, 123, 111, 100, 90]\n    assert candidate(s = \"abracadabra\",queries = [[0, 10], [1, 8], [2, 7], [3, 6], [4, 5], [0, 5], [5, 10]]) == [23, 12, 9, 5, 2, 9, 9]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyza\",queries = [[0, 25], [1, 24], [2, 23], [3, 22], [4, 21], [5, 20], [6, 19], [7, 18], [8, 17]]) == [26, 24, 22, 20, 18, 16, 14, 12, 10]\n    assert candidate(s = \"abacabadabacaba\",queries = [[0, 10], [3, 12], [5, 8], [7, 14], [0, 14], [1, 13], [2, 11]]) == [29, 22, 5, 15, 50, 35, 22]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [5, 20], [10, 15], [0, 10], [15, 25], [5, 10]]) == [26, 16, 6, 11, 11, 6]\n    assert candidate(s = \"aabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabb\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [25, 30], [30, 35], [35, 40], [40, 45], [45, 50], [0, 50]]) == [13, 12, 13, 12, 13, 12, 13, 12, 13, 12, 676]\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",queries = [[0, 30], [5, 25], [10, 20], [15, 30], [0, 15], [20, 30]]) == [496, 231, 66, 136, 136, 66]\n    assert candidate(s = \"aaaaaaaaaa\",queries = [[0, 0], [1, 1], [2, 2], [0, 2], [1, 3], [0, 3], [0, 4], [0, 5], [0, 6], [0, 7], [0, 8], [0, 9]]) == [1, 1, 1, 6, 6, 10, 15, 21, 28, 36, 45, 55]\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [0, 25]]) == [21, 21, 21, 21, 21, 351]\n    assert candidate(s = \"abacabadabacaba\",queries = [[0, 14], [2, 10], [5, 7], [8, 12], [0, 6]]) == [50, 20, 3, 8, 14]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [0, 12], [13, 25], [0, 5], [20, 25], [10, 15], [5, 10], [15, 20]]) == [26, 13, 13, 6, 6, 6, 6, 6]\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbbbcccccccccc\",queries = [[0, 9], [10, 19], [20, 29], [0, 29], [5, 24], [15, 25]]) == [55, 55, 55, 165, 85, 36]\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzz\",queries = [[0, 0], [1, 1], [2, 2], [0, 5], [5, 10], [0, 14]]) == [1, 1, 1, 21, 21, 120]\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",queries = [[0, 49], [1, 24], [25, 49], [0, 24], [25, 49], [0, 49]]) == [75, 35, 37, 37, 37, 75]\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",queries = [[0, 1], [2, 3], [4, 5], [24, 25], [0, 25], [1, 24], [2, 23], [3, 22], [4, 21], [5, 20], [6, 19], [7, 18], [8, 17], [9, 16], [10, 15], [11, 14], [12, 13], [0, 19], [1, 18], [2, 17], [3, 16], [4, 15], [5, 14], [6, 13], [7, 12], [8, 11], [9, 10]]) == [3, 3, 3, 3, 39, 35, 33, 29, 27, 23, 21, 17, 15, 11, 9, 5, 3, 30, 26, 24, 20, 18, 14, 12, 8, 6, 2]\n    assert candidate(s = \"aaaabbbbcccc\",queries = [[0, 3], [4, 7], [8, 11], [0, 11], [1, 10], [2, 9]]) == [10, 10, 10, 30, 22, 16]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 0], [1, 1], [25, 25], [0, 25], [5, 15], [10, 20], [15, 25]]) == [1, 1, 1, 26, 11, 11, 11]\n    assert candidate(s = \"ababababab\",queries = [[0, 0], [1, 1], [2, 2], [0, 9], [1, 8], [2, 7], [3, 6], [4, 5]]) == [1, 1, 1, 30, 20, 12, 6, 2]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [1, 24], [2, 23], [3, 22], [4, 21]]) == [26, 24, 22, 20, 18]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [0, 12], [12, 25], [5, 15], [10, 20], [0, 20], [20, 25]]) == [26, 13, 14, 11, 11, 21, 6]\n    assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiii\",queries = [[0, 3], [4, 7], [8, 11], [12, 15], [16, 19], [20, 23], [24, 27], [28, 31], [0, 31]]) == [10, 10, 10, 10, 10, 10, 10, 10, 80]\n    assert candidate(s = \"aaaaabbbbbaaaa\",queries = [[0, 11], [0, 4], [5, 9], [10, 11], [0, 5], [5, 10], [0, 9], [1, 8], [2, 7], [3, 6]]) == [43, 15, 15, 3, 16, 16, 30, 20, 12, 6]\n    assert candidate(s = \"abcabcabcabc\",queries = [[0, 11], [1, 10], [2, 9], [3, 8], [4, 7], [5, 6]]) == [30, 22, 15, 9, 5, 2]\n    assert candidate(s = \"abacabadabacaba\",queries = [[0, 14], [1, 13], [2, 12], [0, 7], [7, 14], [3, 11], [4, 10], [0, 10]]) == [50, 35, 28, 15, 15, 17, 14, 29]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [26, 51], [0, 51], [13, 25], [28, 40], [10, 30]]) == [26, 26, 78, 13, 13, 21]\n    assert candidate(s = \"abacabadabacaba\",queries = [[0, 14], [1, 3], [2, 12], [5, 10], [0, 7], [8, 14], [0, 1], [1, 2], [2, 3]]) == [50, 3, 28, 10, 15, 14, 2, 2, 2]\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [0, 0], [25, 25], [0, 10], [10, 20], [20, 25]]) == [26, 1, 1, 11, 11, 6]\n    assert candidate(s = \"aaaaaaa\",queries = [[0, 6], [1, 5], [2, 4], [0, 3], [3, 6], [0, 1], [5, 6]]) == [28, 15, 6, 10, 10, 3, 3]\n    assert candidate(s = \"bbaabbaabb\",queries = [[0, 9], [1, 8], [2, 7], [3, 6], [4, 5], [0, 5], [5, 9]]) == [31, 20, 13, 6, 3, 13, 9]\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiop\",queries = [[0, 9], [10, 19], [20, 29], [0, 19], [10, 29], [0, 29], [5, 15]]) == [10, 10, 10, 20, 20, 34, 11]\n    assert candidate(s = \"aabbaabbaabb\",queries = [[0, 11], [1, 5], [6, 10], [0, 4], [7, 11], [3, 7]]) == [42, 9, 9, 9, 9, 9]\n    assert candidate(s = \"abcabcabcabc\",queries = [[0, 2], [3, 5], [6, 8], [9, 11], [0, 11], [1, 10]]) == [3, 3, 3, 3, 30, 22]\n    assert candidate(s = \"abacabacabacabacabacaba\",queries = [[0, 0], [1, 1], [2, 2], [0, 2], [3, 5], [6, 8], [0, 8], [9, 11], [12, 14], [15, 17], [18, 20], [0, 20]]) == [1, 1, 1, 4, 3, 4, 21, 3, 4, 3, 4, 96]\n    assert candidate(s = \"abracadabra\",queries = [[0, 10], [1, 5], [5, 9], [0, 4], [6, 10], [2, 8], [0, 8]]) == [23, 6, 6, 6, 6, 10, 16]\n    assert candidate(s = \"abacabadabacabaabacabadabacaba\",queries = [[0, 7], [8, 14], [15, 21], [22, 28], [0, 28], [7, 21]]) == [15, 14, 14, 11, 169, 50]\n    assert candidate(s = \"aaaaaaaabbbbbbbbcccccccc\",queries = [[0, 7], [8, 15], [16, 23], [0, 15], [8, 23], [0, 23]]) == [36, 36, 36, 72, 72, 108]\n    assert candidate(s = \"aaaaabbbbbcccccddddd\",queries = [[0, 4], [5, 9], [10, 14], [15, 19], [0, 9], [5, 14], [10, 19], [0, 14], [5, 19], [0, 19]]) == [15, 15, 15, 15, 30, 30, 30, 45, 45, 60]\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabc\",queries = [[0, 26], [1, 25], [2, 24], [3, 23], [4, 22], [5, 21], [6, 20], [7, 19], [8, 18], [9, 17], [10, 16], [11, 15], [12, 14], [13, 13]]) == [135, 117, 100, 84, 70, 57, 45, 35, 26, 18, 12, 7, 3, 1]\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabc\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [25, 30], [30, 35], [0, 35]]) == [9, 9, 9, 9, 9, 9, 9, 234]\n    assert candidate(s = \"ababababab\",queries = [[0, 9], [1, 8], [2, 7], [3, 6], [4, 5]]) == [30, 20, 12, 6, 2]\n    assert candidate(s = \"aaaaabbbbbcccccdddddeeeee\",queries = [[0, 4], [5, 9], [10, 14], [15, 19], [20, 24], [0, 24]]) == [15, 15, 15, 15, 15, 75]\n",
  "test_cases": [
    "assert candidate(s = \"abcaab\",queries = [[0, 0], [1, 4], [2, 5], [0, 5]]) == [1, 5, 5, 10]",
    "assert candidate(s = \"abcabcabc\",queries = [[0, 2], [3, 5], [6, 8], [0, 8]]) == [3, 3, 3, 18]",
    "assert candidate(s = \"xyzxyz\",queries = [[0, 2], [3, 5], [0, 5]]) == [3, 3, 9]",
    "assert candidate(s = \"aabbcc\",queries = [[0, 2], [3, 5], [0, 5]]) == [4, 4, 9]",
    "assert candidate(s = \"xyz\",queries = [[0, 0], [0, 1], [0, 2]]) == [1, 2, 3]",
    "assert candidate(s = \"xyzxyzxyz\",queries = [[0, 0], [1, 1], [2, 2], [0, 2], [3, 5], [6, 8], [0, 8]]) == [1, 1, 1, 3, 3, 3, 18]",
    "assert candidate(s = \"abcabc\",queries = [[0, 5], [1, 4], [2, 3]]) == [9, 5, 2]",
    "assert candidate(s = \"aaaa\",queries = [[0, 0], [0, 1], [0, 2], [0, 3]]) == [1, 3, 6, 10]",
    "assert candidate(s = \"abcd\",queries = [[0, 3]]) == [4]",
    "assert candidate(s = \"abcdefg\",queries = [[0, 6], [1, 5], [2, 4]]) == [7, 5, 3]",
    "assert candidate(s = \"aaaa\",queries = [[0, 3], [1, 2], [2, 2]]) == [10, 3, 1]",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [25, 30], [30, 35], [35, 40], [40, 45], [45, 50], [0, 50]]) == [9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 459]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [26, 51], [0, 51], [10, 20], [15, 35], [20, 40], [40, 51]]) == [26, 26, 78, 11, 21, 21, 12]",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",queries = [[0, 50], [1, 49], [2, 48], [3, 47], [4, 46]]) == [1326, 1225, 1128, 1035, 946]",
    "assert candidate(s = \"mississippi\",queries = [[0, 4], [1, 3], [4, 5], [2, 10], [0, 10]]) == [7, 4, 2, 19, 24]",
    "assert candidate(s = \"aaaaaaa\",queries = [[0, 6], [1, 5], [2, 4], [0, 3], [3, 6], [0, 4], [4, 6]]) == [28, 15, 6, 10, 10, 15, 6]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 0], [1, 1], [2, 2], [25, 25], [0, 25], [1, 24], [2, 23], [3, 22], [4, 21], [5, 20], [6, 19], [7, 18], [8, 17], [9, 16], [10, 15], [11, 14], [12, 13]]) == [1, 1, 1, 1, 26, 24, 22, 20, 18, 16, 14, 12, 10, 8, 6, 4, 2]",
    "assert candidate(s = \"zzzzzzzzzzzzzz\",queries = [[0, 5], [6, 11], [0, 11], [5, 10], [0, 13], [1, 12]]) == [21, 21, 78, 21, 105, 78]",
    "assert candidate(s = \"ababababababab\",queries = [[0, 1], [2, 3], [4, 5], [6, 7], [8, 9], [10, 11], [0, 11], [1, 10], [2, 9]]) == [2, 2, 2, 2, 2, 2, 42, 30, 20]",
    "assert candidate(s = \"abcdabcdabcdabcd\",queries = [[0, 3], [4, 7], [8, 11], [12, 15], [0, 15], [1, 14], [2, 13], [3, 12]]) == [4, 4, 4, 4, 40, 32, 24, 18]",
    "assert candidate(s = \"abacabadabacaba\",queries = [[0, 5], [1, 10], [5, 13], [0, 14], [3, 7], [8, 11]]) == [10, 23, 18, 50, 6, 5]",
    "assert candidate(s = \"abcdefgabcdefgabcdefgabcdefgabcdefgabcdefgabcdefgabcdefg\",queries = [[0, 47], [1, 46], [2, 45], [3, 44], [4, 43], [5, 42], [6, 41], [7, 40], [8, 39]]) == [189, 175, 161, 147, 135, 123, 111, 100, 90]",
    "assert candidate(s = \"abracadabra\",queries = [[0, 10], [1, 8], [2, 7], [3, 6], [4, 5], [0, 5], [5, 10]]) == [23, 12, 9, 5, 2, 9, 9]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyza\",queries = [[0, 25], [1, 24], [2, 23], [3, 22], [4, 21], [5, 20], [6, 19], [7, 18], [8, 17]]) == [26, 24, 22, 20, 18, 16, 14, 12, 10]",
    "assert candidate(s = \"abacabadabacaba\",queries = [[0, 10], [3, 12], [5, 8], [7, 14], [0, 14], [1, 13], [2, 11]]) == [29, 22, 5, 15, 50, 35, 22]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [5, 20], [10, 15], [0, 10], [15, 25], [5, 10]]) == [26, 16, 6, 11, 11, 6]",
    "assert candidate(s = \"aabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabbaabb\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [25, 30], [30, 35], [35, 40], [40, 45], [45, 50], [0, 50]]) == [13, 12, 13, 12, 13, 12, 13, 12, 13, 12, 676]",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",queries = [[0, 30], [5, 25], [10, 20], [15, 30], [0, 15], [20, 30]]) == [496, 231, 66, 136, 136, 66]",
    "assert candidate(s = \"aaaaaaaaaa\",queries = [[0, 0], [1, 1], [2, 2], [0, 2], [1, 3], [0, 3], [0, 4], [0, 5], [0, 6], [0, 7], [0, 8], [0, 9]]) == [1, 1, 1, 6, 6, 10, 15, 21, 28, 36, 45, 55]",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [0, 25]]) == [21, 21, 21, 21, 21, 351]",
    "assert candidate(s = \"abacabadabacaba\",queries = [[0, 14], [2, 10], [5, 7], [8, 12], [0, 6]]) == [50, 20, 3, 8, 14]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [0, 12], [13, 25], [0, 5], [20, 25], [10, 15], [5, 10], [15, 20]]) == [26, 13, 13, 6, 6, 6, 6, 6]",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbbbcccccccccc\",queries = [[0, 9], [10, 19], [20, 29], [0, 29], [5, 24], [15, 25]]) == [55, 55, 55, 165, 85, 36]",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzz\",queries = [[0, 0], [1, 1], [2, 2], [0, 5], [5, 10], [0, 14]]) == [1, 1, 1, 21, 21, 120]",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",queries = [[0, 49], [1, 24], [25, 49], [0, 24], [25, 49], [0, 49]]) == [75, 35, 37, 37, 37, 75]",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",queries = [[0, 1], [2, 3], [4, 5], [24, 25], [0, 25], [1, 24], [2, 23], [3, 22], [4, 21], [5, 20], [6, 19], [7, 18], [8, 17], [9, 16], [10, 15], [11, 14], [12, 13], [0, 19], [1, 18], [2, 17], [3, 16], [4, 15], [5, 14], [6, 13], [7, 12], [8, 11], [9, 10]]) == [3, 3, 3, 3, 39, 35, 33, 29, 27, 23, 21, 17, 15, 11, 9, 5, 3, 30, 26, 24, 20, 18, 14, 12, 8, 6, 2]",
    "assert candidate(s = \"aaaabbbbcccc\",queries = [[0, 3], [4, 7], [8, 11], [0, 11], [1, 10], [2, 9]]) == [10, 10, 10, 30, 22, 16]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 0], [1, 1], [25, 25], [0, 25], [5, 15], [10, 20], [15, 25]]) == [1, 1, 1, 26, 11, 11, 11]",
    "assert candidate(s = \"ababababab\",queries = [[0, 0], [1, 1], [2, 2], [0, 9], [1, 8], [2, 7], [3, 6], [4, 5]]) == [1, 1, 1, 30, 20, 12, 6, 2]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [1, 24], [2, 23], [3, 22], [4, 21]]) == [26, 24, 22, 20, 18]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [0, 12], [12, 25], [5, 15], [10, 20], [0, 20], [20, 25]]) == [26, 13, 14, 11, 11, 21, 6]",
    "assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiii\",queries = [[0, 3], [4, 7], [8, 11], [12, 15], [16, 19], [20, 23], [24, 27], [28, 31], [0, 31]]) == [10, 10, 10, 10, 10, 10, 10, 10, 80]",
    "assert candidate(s = \"aaaaabbbbbaaaa\",queries = [[0, 11], [0, 4], [5, 9], [10, 11], [0, 5], [5, 10], [0, 9], [1, 8], [2, 7], [3, 6]]) == [43, 15, 15, 3, 16, 16, 30, 20, 12, 6]",
    "assert candidate(s = \"abcabcabcabc\",queries = [[0, 11], [1, 10], [2, 9], [3, 8], [4, 7], [5, 6]]) == [30, 22, 15, 9, 5, 2]",
    "assert candidate(s = \"abacabadabacaba\",queries = [[0, 14], [1, 13], [2, 12], [0, 7], [7, 14], [3, 11], [4, 10], [0, 10]]) == [50, 35, 28, 15, 15, 17, 14, 29]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [26, 51], [0, 51], [13, 25], [28, 40], [10, 30]]) == [26, 26, 78, 13, 13, 21]",
    "assert candidate(s = \"abacabadabacaba\",queries = [[0, 14], [1, 3], [2, 12], [5, 10], [0, 7], [8, 14], [0, 1], [1, 2], [2, 3]]) == [50, 3, 28, 10, 15, 14, 2, 2, 2]",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",queries = [[0, 25], [0, 0], [25, 25], [0, 10], [10, 20], [20, 25]]) == [26, 1, 1, 11, 11, 6]",
    "assert candidate(s = \"aaaaaaa\",queries = [[0, 6], [1, 5], [2, 4], [0, 3], [3, 6], [0, 1], [5, 6]]) == [28, 15, 6, 10, 10, 3, 3]",
    "assert candidate(s = \"bbaabbaabb\",queries = [[0, 9], [1, 8], [2, 7], [3, 6], [4, 5], [0, 5], [5, 9]]) == [31, 20, 13, 6, 3, 13, 9]",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiop\",queries = [[0, 9], [10, 19], [20, 29], [0, 19], [10, 29], [0, 29], [5, 15]]) == [10, 10, 10, 20, 20, 34, 11]",
    "assert candidate(s = \"aabbaabbaabb\",queries = [[0, 11], [1, 5], [6, 10], [0, 4], [7, 11], [3, 7]]) == [42, 9, 9, 9, 9, 9]",
    "assert candidate(s = \"abcabcabcabc\",queries = [[0, 2], [3, 5], [6, 8], [9, 11], [0, 11], [1, 10]]) == [3, 3, 3, 3, 30, 22]",
    "assert candidate(s = \"abacabacabacabacabacaba\",queries = [[0, 0], [1, 1], [2, 2], [0, 2], [3, 5], [6, 8], [0, 8], [9, 11], [12, 14], [15, 17], [18, 20], [0, 20]]) == [1, 1, 1, 4, 3, 4, 21, 3, 4, 3, 4, 96]",
    "assert candidate(s = \"abracadabra\",queries = [[0, 10], [1, 5], [5, 9], [0, 4], [6, 10], [2, 8], [0, 8]]) == [23, 6, 6, 6, 6, 10, 16]",
    "assert candidate(s = \"abacabadabacabaabacabadabacaba\",queries = [[0, 7], [8, 14], [15, 21], [22, 28], [0, 28], [7, 21]]) == [15, 14, 14, 11, 169, 50]",
    "assert candidate(s = \"aaaaaaaabbbbbbbbcccccccc\",queries = [[0, 7], [8, 15], [16, 23], [0, 15], [8, 23], [0, 23]]) == [36, 36, 36, 72, 72, 108]",
    "assert candidate(s = \"aaaaabbbbbcccccddddd\",queries = [[0, 4], [5, 9], [10, 14], [15, 19], [0, 9], [5, 14], [10, 19], [0, 14], [5, 19], [0, 19]]) == [15, 15, 15, 15, 30, 30, 30, 45, 45, 60]",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabc\",queries = [[0, 26], [1, 25], [2, 24], [3, 23], [4, 22], [5, 21], [6, 20], [7, 19], [8, 18], [9, 17], [10, 16], [11, 15], [12, 14], [13, 13]]) == [135, 117, 100, 84, 70, 57, 45, 35, 26, 18, 12, 7, 3, 1]",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabc\",queries = [[0, 5], [5, 10], [10, 15], [15, 20], [20, 25], [25, 30], [30, 35], [0, 35]]) == [9, 9, 9, 9, 9, 9, 9, 234]",
    "assert candidate(s = \"ababababab\",queries = [[0, 9], [1, 8], [2, 7], [3, 6], [4, 5]]) == [30, 20, 12, 6, 2]",
    "assert candidate(s = \"aaaaabbbbbcccccdddddeeeee\",queries = [[0, 4], [5, 9], [10, 14], [15, 19], [20, 24], [0, 24]]) == [15, 15, 15, 15, 15, 75]"
  ]
}