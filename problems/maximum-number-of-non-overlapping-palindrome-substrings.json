{
  "id": "maximum-number-of-non-overlapping-palindrome-substrings",
  "title": "Maximum Number Of Non Overlapping Palindrome Substrings",
  "difficulty": "Hard",
  "tags": [
    "Greedy",
    "Two Pointers",
    "String",
    "Dynamic Programming"
  ],
  "description": "You are given a string s and a positive integer k.\nSelect a set of non-overlapping substrings from the string s that satisfy the following conditions:\n\nThe length of each substring is at least k.\nEach substring is a palindrome.\n\nReturn the maximum number of substrings in an optimal selection.\nA substring is a contiguous sequence of characters within a string.\n\u00a0\nExample 1:\n\nInput: s = \"abaccdbbd\", k = 3\nOutput: 2\nExplanation: We can select the substrings underlined in s = \"abaccdbbd\". Both \"aba\" and \"dbbd\" are palindromes and have a length of at least k = 3.\nIt can be shown that we cannot find a selection with more than two valid substrings.\n\nExample 2:\n\nInput: s = \"adbcda\", k = 2\nOutput: 0\nExplanation: There is no palindrome substring of length at least 2 in the string.\n\n\u00a0\nConstraints:\n\n1 <= k <= s.length <= 2000\ns consists of lowercase English letters.\n\n",
  "entry_point": "Solution().maxPalindromes",
  "starter_code": "class Solution:\n    def maxPalindromes(self, s: str, k: int) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"racecar\",k = 2) == 1\n    assert candidate(s = \"mnoonm\",k = 2) == 1\n    assert candidate(s = \"zzzzzz\",k = 1) == 6\n    assert candidate(s = \"abcde\",k = 3) == 0\n    assert candidate(s = \"abcdeedcba\",k = 2) == 1\n    assert candidate(s = \"zz\",k = 1) == 2\n    assert candidate(s = \"adbcda\",k = 2) == 0\n    assert candidate(s = \"\",k = 1) == 0\n    assert candidate(s = \"abcde\",k = 1) == 5\n    assert candidate(s = \"aaaaa\",k = 2) == 2\n    assert candidate(s = \"racecar\",k = 3) == 1\n    assert candidate(s = \"abbaeaeabba\",k = 3) == 3\n    assert candidate(s = \"abbaabba\",k = 3) == 2\n    assert candidate(s = \"noonhighnoon\",k = 4) == 2\n    assert candidate(s = \"abacdfgdcaba\",k = 3) == 2\n    assert candidate(s = \"aaaa\",k = 2) == 2\n    assert candidate(s = \"a\",k = 1) == 1\n    assert candidate(s = \"abcdedcba\",k = 5) == 1\n    assert candidate(s = \"racecarannakayak\",k = 3) == 3\n    assert candidate(s = \"abcba\",k = 5) == 1\n    assert candidate(s = \"abaccdbbd\",k = 3) == 2\n    assert candidate(s = \"abbaeae\",k = 2) == 2\n    assert candidate(s = \"z\",k = 1) == 1\n    assert candidate(s = \"aaabaaaabaaaa\",k = 5) == 2\n    assert candidate(s = \"levellevellevel\",k = 5) == 3\n    assert candidate(s = \"abcabcabcabc\",k = 3) == 0\n    assert candidate(s = \"ababababa\",k = 3) == 3\n    assert candidate(s = \"abcbaabccba\",k = 3) == 2\n    assert candidate(s = \"level\",k = 5) == 1\n    assert candidate(s = \"xyxxyxyxyx\",k = 1) == 10\n    assert candidate(s = \"aabbaaabbbaaaa\",k = 2) == 6\n    assert candidate(s = \"ababababababab\",k = 2) == 4\n    assert candidate(s = \"rotorreferredder\",k = 4) == 3\n    assert candidate(s = \"popopopopopop\",k = 3) == 4\n    assert candidate(s = \"abaaaaba\",k = 4) == 1\n    assert candidate(s = \"xyxzyzyzyxzyx\",k = 3) == 3\n    assert candidate(s = \"madamimadam\",k = 2) == 3\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaa\",k = 10) == 1\n    assert candidate(s = \"abbaabbaabba\",k = 4) == 3\n    assert candidate(s = \"aabbccddeeff\",k = 2) == 6\n    assert candidate(s = \"rotor\",k = 5) == 1\n    assert candidate(s = \"abcddcbaabcddcba\",k = 6) == 2\n    assert candidate(s = \"palindromemordnilap\",k = 6) == 1\n    assert candidate(s = \"aabbccddeeefffggghhhiii\",k = 4) == 0\n    assert candidate(s = \"xyxzyzyzxzyxzyx\",k = 3) == 3\n    assert candidate(s = \"aaaaaaaabaaaa\",k = 5) == 2\n    assert candidate(s = \"levelracecaraabba\",k = 4) == 3\n    assert candidate(s = \"racecarannakayak\",k = 5) == 2\n    assert candidate(s = \"abccbaabccba\",k = 3) == 2\n    assert candidate(s = \"abcabcabcabcabcabcabc\",k = 3) == 0\n    assert candidate(s = \"abcdedcbaedcbba\",k = 5) == 1\n    assert candidate(s = \"noonnoonnoon\",k = 3) == 3\n    assert candidate(s = \"abbaaccddccaaabbbcccdd\",k = 3) == 5\n    assert candidate(s = \"abcbabcba\",k = 5) == 1\n    assert candidate(s = \"aabbabbaaabbabba\",k = 4) == 3\n    assert candidate(s = \"abbaaccddccbaabba\",k = 3) == 3\n    assert candidate(s = \"abbaacccbaaabbcc\",k = 3) == 3\n    assert candidate(s = \"civiccivic\",k = 4) == 2\n    assert candidate(s = \"aaabaaaacaaaaaa\",k = 3) == 4\n    assert candidate(s = \"abracadabra\",k = 3) == 1\n    assert candidate(s = \"abcdcbaabcdcba\",k = 5) == 2\n    assert candidate(s = \"xyzyzyzyzyzyzyzy\",k = 2) == 5\n    assert candidate(s = \"madamracecarlevel\",k = 5) == 3\n    assert candidate(s = \"xyxzyzyzyzxzyzyx\",k = 3) == 5\n    assert candidate(s = \"bananaabacaxxx\",k = 3) == 3\n    assert candidate(s = \"noonnoonnoon\",k = 4) == 3\n    assert candidate(s = \"abcdefghij\",k = 3) == 0\n    assert candidate(s = \"zzzzyyyyxxxx\",k = 4) == 3\n    assert candidate(s = \"aaaabbbbccccdddd\",k = 4) == 4\n    assert candidate(s = \"civicracecardeified\",k = 3) == 3\n    assert candidate(s = \"aabbccddeeffgg\",k = 2) == 7\n    assert candidate(s = \"madamimadam\",k = 5) == 2\n    assert candidate(s = \"aaaabaaaabaaaaabaaabaaa\",k = 2) == 9\n    assert candidate(s = \"racecar\",k = 6) == 1\n    assert candidate(s = \"xyxxyxyxyxyx\",k = 2) == 4\n    assert candidate(s = \"abcbabcba\",k = 3) == 2\n    assert candidate(s = \"abcabcabcabc\",k = 1) == 12\n    assert candidate(s = \"abcdefgfedcba\",k = 7) == 1\n    assert candidate(s = \"mamadadadadammadam\",k = 3) == 5\n    assert candidate(s = \"madamimadam\",k = 3) == 3\n    assert candidate(s = \"babaddabba\",k = 3) == 2\n    assert candidate(s = \"aabbabaaaabbabaab\",k = 3) == 4\n    assert candidate(s = \"babbbabbbab\",k = 3) == 3\n    assert candidate(s = \"aabaaaabbbaaa\",k = 3) == 4\n    assert candidate(s = \"aabbaabbaaabbbaabbaab\",k = 3) == 4\n    assert candidate(s = \"abccbaabc\",k = 4) == 1\n    assert candidate(s = \"abracadabra\",k = 5) == 0\n    assert candidate(s = \"abbaabbaabba\",k = 2) == 5\n    assert candidate(s = \"aaaaaabbbbbbaaaaaabbbbb\",k = 5) == 4\n    assert candidate(s = \"abcbaabababaabcba\",k = 3) == 4\n    assert candidate(s = \"abcabcabc\",k = 2) == 0\n    assert candidate(s = \"abccbaabcabcabcabcba\",k = 5) == 2\n    assert candidate(s = \"abccbaabcba\",k = 5) == 2\n    assert candidate(s = \"mississippi\",k = 3) == 2\n    assert candidate(s = \"abbaabbabbaabb\",k = 2) == 6\n    assert candidate(s = \"abcdefedcba\",k = 5) == 1\n    assert candidate(s = \"abcdefghihgfedcba\",k = 7) == 1\n    assert candidate(s = \"noonmoonnoonmoon\",k = 4) == 2\n    assert candidate(s = \"abcdefedcbafedcbabcdef\",k = 5) == 2\n    assert candidate(s = \"abbaabba\",k = 2) == 3\n    assert candidate(s = \"deeeeinedede\",k = 4) == 2\n    assert candidate(s = \"abcdedcba\",k = 4) == 1\n    assert candidate(s = \"aabbccddeeeffgg\",k = 2) == 7\n    assert candidate(s = \"abcdedcbaabacdfgdcaba\",k = 5) == 1\n    assert candidate(s = \"zzzzyyyxxxwwvvuuttssrrqqppoonnmmlkkjjiihhggffeeddccbbaaa\",k = 4) == 1\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 2) == 26\n    assert candidate(s = \"aaaaabbbaaaaa\",k = 4) == 3\n    assert candidate(s = \"abacabadabacaba\",k = 4) == 2\n    assert candidate(s = \"madamimadam\",k = 4) == 2\n",
  "test_cases": [
    "assert candidate(s = \"racecar\",k = 2) == 1",
    "assert candidate(s = \"mnoonm\",k = 2) == 1",
    "assert candidate(s = \"zzzzzz\",k = 1) == 6",
    "assert candidate(s = \"abcde\",k = 3) == 0",
    "assert candidate(s = \"abcdeedcba\",k = 2) == 1",
    "assert candidate(s = \"zz\",k = 1) == 2",
    "assert candidate(s = \"adbcda\",k = 2) == 0",
    "assert candidate(s = \"\",k = 1) == 0",
    "assert candidate(s = \"abcde\",k = 1) == 5",
    "assert candidate(s = \"aaaaa\",k = 2) == 2",
    "assert candidate(s = \"racecar\",k = 3) == 1",
    "assert candidate(s = \"abbaeaeabba\",k = 3) == 3",
    "assert candidate(s = \"abbaabba\",k = 3) == 2",
    "assert candidate(s = \"noonhighnoon\",k = 4) == 2",
    "assert candidate(s = \"abacdfgdcaba\",k = 3) == 2",
    "assert candidate(s = \"aaaa\",k = 2) == 2",
    "assert candidate(s = \"a\",k = 1) == 1",
    "assert candidate(s = \"abcdedcba\",k = 5) == 1",
    "assert candidate(s = \"racecarannakayak\",k = 3) == 3",
    "assert candidate(s = \"abcba\",k = 5) == 1",
    "assert candidate(s = \"abaccdbbd\",k = 3) == 2",
    "assert candidate(s = \"abbaeae\",k = 2) == 2",
    "assert candidate(s = \"z\",k = 1) == 1",
    "assert candidate(s = \"aaabaaaabaaaa\",k = 5) == 2",
    "assert candidate(s = \"levellevellevel\",k = 5) == 3",
    "assert candidate(s = \"abcabcabcabc\",k = 3) == 0",
    "assert candidate(s = \"ababababa\",k = 3) == 3",
    "assert candidate(s = \"abcbaabccba\",k = 3) == 2",
    "assert candidate(s = \"level\",k = 5) == 1",
    "assert candidate(s = \"xyxxyxyxyx\",k = 1) == 10",
    "assert candidate(s = \"aabbaaabbbaaaa\",k = 2) == 6",
    "assert candidate(s = \"ababababababab\",k = 2) == 4",
    "assert candidate(s = \"rotorreferredder\",k = 4) == 3",
    "assert candidate(s = \"popopopopopop\",k = 3) == 4",
    "assert candidate(s = \"abaaaaba\",k = 4) == 1",
    "assert candidate(s = \"xyxzyzyzyxzyx\",k = 3) == 3",
    "assert candidate(s = \"madamimadam\",k = 2) == 3",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaa\",k = 10) == 1",
    "assert candidate(s = \"abbaabbaabba\",k = 4) == 3",
    "assert candidate(s = \"aabbccddeeff\",k = 2) == 6",
    "assert candidate(s = \"rotor\",k = 5) == 1",
    "assert candidate(s = \"abcddcbaabcddcba\",k = 6) == 2",
    "assert candidate(s = \"palindromemordnilap\",k = 6) == 1",
    "assert candidate(s = \"aabbccddeeefffggghhhiii\",k = 4) == 0",
    "assert candidate(s = \"xyxzyzyzxzyxzyx\",k = 3) == 3",
    "assert candidate(s = \"aaaaaaaabaaaa\",k = 5) == 2",
    "assert candidate(s = \"levelracecaraabba\",k = 4) == 3",
    "assert candidate(s = \"racecarannakayak\",k = 5) == 2",
    "assert candidate(s = \"abccbaabccba\",k = 3) == 2",
    "assert candidate(s = \"abcabcabcabcabcabcabc\",k = 3) == 0",
    "assert candidate(s = \"abcdedcbaedcbba\",k = 5) == 1",
    "assert candidate(s = \"noonnoonnoon\",k = 3) == 3",
    "assert candidate(s = \"abbaaccddccaaabbbcccdd\",k = 3) == 5",
    "assert candidate(s = \"abcbabcba\",k = 5) == 1",
    "assert candidate(s = \"aabbabbaaabbabba\",k = 4) == 3",
    "assert candidate(s = \"abbaaccddccbaabba\",k = 3) == 3",
    "assert candidate(s = \"abbaacccbaaabbcc\",k = 3) == 3",
    "assert candidate(s = \"civiccivic\",k = 4) == 2",
    "assert candidate(s = \"aaabaaaacaaaaaa\",k = 3) == 4",
    "assert candidate(s = \"abracadabra\",k = 3) == 1",
    "assert candidate(s = \"abcdcbaabcdcba\",k = 5) == 2",
    "assert candidate(s = \"xyzyzyzyzyzyzyzy\",k = 2) == 5",
    "assert candidate(s = \"madamracecarlevel\",k = 5) == 3",
    "assert candidate(s = \"xyxzyzyzyzxzyzyx\",k = 3) == 5",
    "assert candidate(s = \"bananaabacaxxx\",k = 3) == 3",
    "assert candidate(s = \"noonnoonnoon\",k = 4) == 3",
    "assert candidate(s = \"abcdefghij\",k = 3) == 0",
    "assert candidate(s = \"zzzzyyyyxxxx\",k = 4) == 3",
    "assert candidate(s = \"aaaabbbbccccdddd\",k = 4) == 4",
    "assert candidate(s = \"civicracecardeified\",k = 3) == 3",
    "assert candidate(s = \"aabbccddeeffgg\",k = 2) == 7",
    "assert candidate(s = \"madamimadam\",k = 5) == 2",
    "assert candidate(s = \"aaaabaaaabaaaaabaaabaaa\",k = 2) == 9",
    "assert candidate(s = \"racecar\",k = 6) == 1",
    "assert candidate(s = \"xyxxyxyxyxyx\",k = 2) == 4",
    "assert candidate(s = \"abcbabcba\",k = 3) == 2",
    "assert candidate(s = \"abcabcabcabc\",k = 1) == 12",
    "assert candidate(s = \"abcdefgfedcba\",k = 7) == 1",
    "assert candidate(s = \"mamadadadadammadam\",k = 3) == 5",
    "assert candidate(s = \"madamimadam\",k = 3) == 3",
    "assert candidate(s = \"babaddabba\",k = 3) == 2",
    "assert candidate(s = \"aabbabaaaabbabaab\",k = 3) == 4",
    "assert candidate(s = \"babbbabbbab\",k = 3) == 3",
    "assert candidate(s = \"aabaaaabbbaaa\",k = 3) == 4",
    "assert candidate(s = \"aabbaabbaaabbbaabbaab\",k = 3) == 4",
    "assert candidate(s = \"abccbaabc\",k = 4) == 1",
    "assert candidate(s = \"abracadabra\",k = 5) == 0",
    "assert candidate(s = \"abbaabbaabba\",k = 2) == 5",
    "assert candidate(s = \"aaaaaabbbbbbaaaaaabbbbb\",k = 5) == 4",
    "assert candidate(s = \"abcbaabababaabcba\",k = 3) == 4",
    "assert candidate(s = \"abcabcabc\",k = 2) == 0",
    "assert candidate(s = \"abccbaabcabcabcabcba\",k = 5) == 2",
    "assert candidate(s = \"abccbaabcba\",k = 5) == 2",
    "assert candidate(s = \"mississippi\",k = 3) == 2",
    "assert candidate(s = \"abbaabbabbaabb\",k = 2) == 6",
    "assert candidate(s = \"abcdefedcba\",k = 5) == 1",
    "assert candidate(s = \"abcdefghihgfedcba\",k = 7) == 1",
    "assert candidate(s = \"noonmoonnoonmoon\",k = 4) == 2",
    "assert candidate(s = \"abcdefedcbafedcbabcdef\",k = 5) == 2",
    "assert candidate(s = \"abbaabba\",k = 2) == 3",
    "assert candidate(s = \"deeeeinedede\",k = 4) == 2",
    "assert candidate(s = \"abcdedcba\",k = 4) == 1",
    "assert candidate(s = \"aabbccddeeeffgg\",k = 2) == 7",
    "assert candidate(s = \"abcdedcbaabacdfgdcaba\",k = 5) == 1",
    "assert candidate(s = \"zzzzyyyxxxwwvvuuttssrrqqppoonnmmlkkjjiihhggffeeddccbbaaa\",k = 4) == 1",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",k = 2) == 26",
    "assert candidate(s = \"aaaaabbbaaaaa\",k = 4) == 3",
    "assert candidate(s = \"abacabadabacaba\",k = 4) == 2",
    "assert candidate(s = \"madamimadam\",k = 4) == 2"
  ]
}