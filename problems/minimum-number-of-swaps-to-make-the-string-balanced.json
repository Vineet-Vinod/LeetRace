{
  "id": "minimum-number-of-swaps-to-make-the-string-balanced",
  "title": "Minimum Number Of Swaps To Make The String Balanced",
  "difficulty": "Medium",
  "tags": [
    "Stack",
    "Greedy",
    "Two Pointers",
    "String"
  ],
  "description": "You are given a 0-indexed string s of even length n. The string consists of exactly n / 2 opening brackets '[' and n / 2 closing brackets ']'.\nA string is called balanced if and only if:\n\nIt is the empty string, or\nIt can be written as AB, where both A and B are balanced strings, or\nIt can be written as [C], where C is a balanced string.\n\nYou may swap the brackets at any two indices any number of times.\nReturn the minimum number of swaps to make s balanced.\n\u00a0\nExample 1:\n\nInput: s = \"][][\"\nOutput: 1\nExplanation: You can make the string balanced by swapping index 0 with index 3.\nThe resulting string is \"[[]]\".\n\nExample 2:\n\nInput: s = \"]]][[[\"\nOutput: 2\nExplanation: You can do the following to make the string balanced:\n- Swap index 0 with index 4. s = \"[]][][\".\n- Swap index 1 with index 5. s = \"[[][]]\".\nThe resulting string is \"[[][]]\".\n\nExample 3:\n\nInput: s = \"[]\"\nOutput: 0\nExplanation: The string is already balanced.\n\n\u00a0\nConstraints:\n\nn == s.length\n2 <= n <= 106\nn is even.\ns[i] is either '[' or ']'.\nThe number of opening brackets '[' equals n / 2, and the number of closing brackets ']' equals n / 2.\n\n",
  "entry_point": "Solution().minSwaps",
  "starter_code": "class Solution:\n    def minSwaps(self, s: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"[]][[]\") == 1\n    assert candidate(s = \"[[[[]]]]\") == 0\n    assert candidate(s = \"]][[[]]]\") == 0\n    assert candidate(s = \"][][\") == 1\n    assert candidate(s = \"]]][[][[\") == 2\n    assert candidate(s = \"]]]][[[[\") == 2\n    assert candidate(s = \"][[]][\") == 1\n    assert candidate(s = \"[][][][]\") == 0\n    assert candidate(s = \"[[[]]]\") == 0\n    assert candidate(s = \"[[[]]][[]]\") == 0\n    assert candidate(s = \"]][[][][\") == 1\n    assert candidate(s = \"]]][[[\") == 2\n    assert candidate(s = \"[][]\") == 0\n    assert candidate(s = \"[]\") == 0\n    assert candidate(s = \"]][[\") == 1\n    assert candidate(s = \"]]][[[[[[]]]]]\") == 1\n    assert candidate(s = \"]][[[]\") == 1\n    assert candidate(s = \"[[]][]\") == 0\n    assert candidate(s = \"][[][]\") == 1\n    assert candidate(s = \"[[[][]]]\") == 0\n    assert candidate(s = \"]]]]][[[[[[[]]]]]]\") == 1\n    assert candidate(s = \"]]]]][[[[[][][]]]]]][[[[[][][]]]]]\") == 0\n    assert candidate(s = \"[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]\") == 1\n    assert candidate(s = \"][]]]][[[[[]][[]]]\") == 1\n    assert candidate(s = \"]][[[[[[[[[[]]]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]\") == 1\n    assert candidate(s = \"]][[[]]]]][[[[[]]]\") == 1\n    assert candidate(s = \"]]][[][[[[[]]]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[[[[[][][][]]]]]]][[[[[[[[[][][][]]]]]]][[[[[[[[[][][][]]]]]]]\") == 4\n    assert candidate(s = \"]]][[[[]]]][[[[[]]]]][[[[]]]]\") == 0\n    assert candidate(s = \"]]][[[][]]][[[[[[[]]]]]][][][[]][[\") == 2\n    assert candidate(s = \"]][[[]]][][[[[[[[[]]]]]][][[\") == 2\n    assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[]]]]]]]]\") == 0\n    assert candidate(s = \"]]]]][[[[[[]]][]]]\") == 1\n    assert candidate(s = \"]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[\") == 1\n    assert candidate(s = \"[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]\") == 0\n    assert candidate(s = \"]][[[]]][][[[]]]\") == 0\n    assert candidate(s = \"]]]]]]]]][[[[[[[[[[\") == 5\n    assert candidate(s = \"[[][]]]][[[][][[]][][[]][[]]\") == 1\n    assert candidate(s = \"[[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]]\") == 0\n    assert candidate(s = \"]][[[][]]][[[[]]]\") == 1\n    assert candidate(s = \"]][[[][]]][[[[[[[]]]]]]\") == 1\n    assert candidate(s = \"]]][[[][]][[[\") == 2\n    assert candidate(s = \"]]][[[[[[[[[[[][]]]]]]]]][[[[[[[[[][]]]]]]]]][[[[[[[[[][]]]]]]]]]\") == 1\n    assert candidate(s = \"[[[[]]]]][[[[]]]]\") == 0\n    assert candidate(s = \"[[[[[[]]]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[[]]]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[[]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[][]]]]]]][[[[[][]]]]][[[[[][]]]]]\") == 0\n    assert candidate(s = \"]]][[]]][[[[][[\") == 3\n    assert candidate(s = \"]][[][][][[][]][[]][[\") == 2\n    assert candidate(s = \"]]][[[[]][]][][[][]][][[[]][]][][[[]]]\") == 1\n    assert candidate(s = \"[][][][][][][][][][][][][][][][][][][][][][][][]\") == 0\n    assert candidate(s = \"]][[[]][[]][[[]]]\") == 1\n    assert candidate(s = \"[[[[[[[[]]]]]]]][[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]\") == 0\n    assert candidate(s = \"]]]]]][[[[[[\") == 3\n    assert candidate(s = \"]]]][[[[[][]]][]][[[[[]]]]]\") == 1\n    assert candidate(s = \"]]]]][[[[[]]]]\") == 1\n    assert candidate(s = \"]]][[[[[[[]]]]][[[[[[]]]]]]][[[[\") == 3\n    assert candidate(s = \"]]]]][[[[[]]]][[\") == 2\n    assert candidate(s = \"]]][[[[[[[[[[[][][]][[]][]]]]]]][[[[[[[[[][][]][[]][]]]]]]][[[[[[[[[][][]][[]][]]]]]]][[[[[[[[[][]]]]]]]]]\") == 3\n    assert candidate(s = \"]]][[[[[[[[[[[][][]]]]]]][[[[[[[[[][][]]]]]]][[[[[[[[[][][]]]]]]][[[[[[[[[][]]]]]]]]]\") == 4\n    assert candidate(s = \"]][[[[[[[]]]]]]][[[[[]]]]]\") == 0\n    assert candidate(s = \"]]][[[]][[[[]]]][]]]]][][[[[]]]]\") == 0\n    assert candidate(s = \"]]][[[[]]][][[[]]]\") == 1\n    assert candidate(s = \"]]][[[[[[[]]]]][[[[\") == 3\n    assert candidate(s = \"]][[[[[][]]]]]][[[[[][]]]]]][[[[[][]]]]][[\") == 1\n    assert candidate(s = \"]]][[[[[[[]]]]]]\") == 1\n    assert candidate(s = \"]]][[[]][][[[]]]]\") == 0\n    assert candidate(s = \"]][[[][]]][[\") == 1\n    assert candidate(s = \"]][[[[[[[[[[]]]]]]]]][[[[[[[[[[[]]]]]]]]]][[[[[[[[[[[]]]]]]]]]]]\") == 1\n    assert candidate(s = \"]][[[]]][][[\") == 1\n    assert candidate(s = \"]]][[[[[]][[]]]]][[[[[]][[]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[]]]]]]][[[]]]\") == 0\n    assert candidate(s = \"]]][[[]]][[[]]]]][[[[[]]]]\") == 1\n    assert candidate(s = \"]]][[[][]][[[[[[[]]]]]][]\") == 1\n    assert candidate(s = \"]]]]][[[[[[]]]]][[[[]]]]\") == 1\n    assert candidate(s = \"]][[[[[][]]]]]][[[[[[[]]]]]][[[[[]]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[]]]][]][[[[]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[[[[[][][]][[]][]]]][][[[[[[[[][][]][[]][]]]][][[[[[[[[][][]][[]][]]]][][[[[[[[[][]]]]]]]]]\") == 6\n    assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[[]]]]]]][[[[[]]]]]]]]]]\") == 0\n    assert candidate(s = \"]]][[[]]]][[[[\") == 2\n    assert candidate(s = \"]]]][][][[[[\") == 2\n    assert candidate(s = \"]][[[[[[]]]]]][[[]]\") == 1\n    assert candidate(s = \"]][[[[[][]]]]]][[\") == 1\n    assert candidate(s = \"]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[][]]]]]]\") == 1\n    assert candidate(s = \"]][[[]][[[]][]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[][][]]]]]]][[[[[][][]]]]][[[[[][][]]]]]\") == 0\n    assert candidate(s = \"]]][[[[[[[]]]]][[[[[[]]]]]]\") == 1\n    assert candidate(s = \"]]][[[[]][]]\") == 1\n    assert candidate(s = \"]]][[[[[[[]]]]]]]]][[[[[[[[[]]]]]]]]]\") == 0\n",
  "test_cases": [
    "assert candidate(s = \"[]][[]\") == 1",
    "assert candidate(s = \"[[[[]]]]\") == 0",
    "assert candidate(s = \"]][[[]]]\") == 0",
    "assert candidate(s = \"][][\") == 1",
    "assert candidate(s = \"]]][[][[\") == 2",
    "assert candidate(s = \"]]]][[[[\") == 2",
    "assert candidate(s = \"][[]][\") == 1",
    "assert candidate(s = \"[][][][]\") == 0",
    "assert candidate(s = \"[[[]]]\") == 0",
    "assert candidate(s = \"[[[]]][[]]\") == 0",
    "assert candidate(s = \"]][[][][\") == 1",
    "assert candidate(s = \"]]][[[\") == 2",
    "assert candidate(s = \"[][]\") == 0",
    "assert candidate(s = \"[]\") == 0",
    "assert candidate(s = \"]][[\") == 1",
    "assert candidate(s = \"]]][[[[[[]]]]]\") == 1",
    "assert candidate(s = \"]][[[]\") == 1",
    "assert candidate(s = \"[[]][]\") == 0",
    "assert candidate(s = \"][[][]\") == 1",
    "assert candidate(s = \"[[[][]]]\") == 0",
    "assert candidate(s = \"]]]]][[[[[[[]]]]]]\") == 1",
    "assert candidate(s = \"]]]]][[[[[][][]]]]]][[[[[][][]]]]]\") == 0",
    "assert candidate(s = \"[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]\") == 1",
    "assert candidate(s = \"][]]]][[[[[]][[]]]\") == 1",
    "assert candidate(s = \"]][[[[[[[[[[]]]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]][[[[[[[]]]]]]\") == 1",
    "assert candidate(s = \"]][[[]]]]][[[[[]]]\") == 1",
    "assert candidate(s = \"]]][[][[[[[]]]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[[[[[][][][]]]]]]][[[[[[[[[][][][]]]]]]][[[[[[[[[][][][]]]]]]]\") == 4",
    "assert candidate(s = \"]]][[[[]]]][[[[[]]]]][[[[]]]]\") == 0",
    "assert candidate(s = \"]]][[[][]]][[[[[[[]]]]]][][][[]][[\") == 2",
    "assert candidate(s = \"]][[[]]][][[[[[[[[]]]]]][][[\") == 2",
    "assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[]]]]]]]]\") == 0",
    "assert candidate(s = \"]]]]][[[[[[]]][]]]\") == 1",
    "assert candidate(s = \"]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[\") == 1",
    "assert candidate(s = \"[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]\") == 0",
    "assert candidate(s = \"]][[[]]][][[[]]]\") == 0",
    "assert candidate(s = \"]]]]]]]]][[[[[[[[[[\") == 5",
    "assert candidate(s = \"[[][]]]][[[][][[]][][[]][[]]\") == 1",
    "assert candidate(s = \"[[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]][[]]\") == 0",
    "assert candidate(s = \"]][[[][]]][[[[]]]\") == 1",
    "assert candidate(s = \"]][[[][]]][[[[[[[]]]]]]\") == 1",
    "assert candidate(s = \"]]][[[][]][[[\") == 2",
    "assert candidate(s = \"]]][[[[[[[[[[[][]]]]]]]]][[[[[[[[[][]]]]]]]]][[[[[[[[[][]]]]]]]]]\") == 1",
    "assert candidate(s = \"[[[[]]]]][[[[]]]]\") == 0",
    "assert candidate(s = \"[[[[[[]]]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[[]]]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[[]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[][]]]]]]][[[[[][]]]]][[[[[][]]]]]\") == 0",
    "assert candidate(s = \"]]][[]]][[[[][[\") == 3",
    "assert candidate(s = \"]][[][][][[][]][[]][[\") == 2",
    "assert candidate(s = \"]]][[[[]][]][][[][]][][[[]][]][][[[]]]\") == 1",
    "assert candidate(s = \"[][][][][][][][][][][][][][][][][][][][][][][][]\") == 0",
    "assert candidate(s = \"]][[[]][[]][[[]]]\") == 1",
    "assert candidate(s = \"[[[[[[[[]]]]]]]][[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]\") == 0",
    "assert candidate(s = \"]]]]]][[[[[[\") == 3",
    "assert candidate(s = \"]]]][[[[[][]]][]][[[[[]]]]]\") == 1",
    "assert candidate(s = \"]]]]][[[[[]]]]\") == 1",
    "assert candidate(s = \"]]][[[[[[[]]]]][[[[[[]]]]]]][[[[\") == 3",
    "assert candidate(s = \"]]]]][[[[[]]]][[\") == 2",
    "assert candidate(s = \"]]][[[[[[[[[[[][][]][[]][]]]]]]][[[[[[[[[][][]][[]][]]]]]]][[[[[[[[[][][]][[]][]]]]]]][[[[[[[[[][]]]]]]]]]\") == 3",
    "assert candidate(s = \"]]][[[[[[[[[[[][][]]]]]]][[[[[[[[[][][]]]]]]][[[[[[[[[][][]]]]]]][[[[[[[[[][]]]]]]]]]\") == 4",
    "assert candidate(s = \"]][[[[[[[]]]]]]][[[[[]]]]]\") == 0",
    "assert candidate(s = \"]]][[[]][[[[]]]][]]]]][][[[[]]]]\") == 0",
    "assert candidate(s = \"]]][[[[]]][][[[]]]\") == 1",
    "assert candidate(s = \"]]][[[[[[[]]]]][[[[\") == 3",
    "assert candidate(s = \"]][[[[[][]]]]]][[[[[][]]]]]][[[[[][]]]]][[\") == 1",
    "assert candidate(s = \"]]][[[[[[[]]]]]]\") == 1",
    "assert candidate(s = \"]]][[[]][][[[]]]]\") == 0",
    "assert candidate(s = \"]][[[][]]][[\") == 1",
    "assert candidate(s = \"]][[[[[[[[[[]]]]]]]]][[[[[[[[[[[]]]]]]]]]][[[[[[[[[[[]]]]]]]]]]]\") == 1",
    "assert candidate(s = \"]][[[]]][][[\") == 1",
    "assert candidate(s = \"]]][[[[[]][[]]]]][[[[[]][[]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[]]]]]]][[[]]]\") == 0",
    "assert candidate(s = \"]]][[[]]][[[]]]]][[[[[]]]]\") == 1",
    "assert candidate(s = \"]]][[[][]][[[[[[[]]]]]][]\") == 1",
    "assert candidate(s = \"]]]]][[[[[[]]]]][[[[]]]]\") == 1",
    "assert candidate(s = \"]][[[[[][]]]]]][[[[[[[]]]]]][[[[[]]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[]]]][]][[[[]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[[[[[][][]][[]][]]]][][[[[[[[[][][]][[]][]]]][][[[[[[[[][][]][[]][]]]][][[[[[[[[][]]]]]]]]]\") == 6",
    "assert candidate(s = \"]]][[[[[[[]]]]]]][[[[[]]]]]][[[[[]]]]]]][[[[[]]]]]]]]]]\") == 0",
    "assert candidate(s = \"]]][[[]]]][[[[\") == 2",
    "assert candidate(s = \"]]]][][][[[[\") == 2",
    "assert candidate(s = \"]][[[[[[]]]]]][[[]]\") == 1",
    "assert candidate(s = \"]][[[[[][]]]]]][[\") == 1",
    "assert candidate(s = \"]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]][[[[[]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[][]]]]]]\") == 1",
    "assert candidate(s = \"]][[[]][[[]][]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[][][]]]]]]][[[[[][][]]]]][[[[[][][]]]]]\") == 0",
    "assert candidate(s = \"]]][[[[[[[]]]]][[[[[[]]]]]]\") == 1",
    "assert candidate(s = \"]]][[[[]][]]\") == 1",
    "assert candidate(s = \"]]][[[[[[[]]]]]]]]][[[[[[[[[]]]]]]]]]\") == 0"
  ]
}