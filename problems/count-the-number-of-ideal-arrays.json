{
  "id": "count-the-number-of-ideal-arrays",
  "title": "Count The Number Of Ideal Arrays",
  "difficulty": "Hard",
  "tags": [
    "Math",
    "Dynamic Programming",
    "Combinatorics",
    "Number Theory"
  ],
  "description": "You are given two integers n and maxValue, which are used to describe an ideal array.\nA 0-indexed integer array arr of length n is considered ideal if the following conditions hold:\n\nEvery arr[i] is a value from 1 to maxValue, for 0 <= i < n.\nEvery arr[i] is divisible by arr[i - 1], for 0 < i < n.\n\nReturn the number of distinct ideal arrays of length n. Since the answer may be very large, return it modulo 109 + 7.\n\u00a0\nExample 1:\n\nInput: n = 2, maxValue = 5\nOutput: 10\nExplanation: The following are the possible ideal arrays:\n- Arrays starting with the value 1 (5 arrays): [1,1], [1,2], [1,3], [1,4], [1,5]\n- Arrays starting with the value 2 (2 arrays): [2,2], [2,4]\n- Arrays starting with the value 3 (1 array): [3,3]\n- Arrays starting with the value 4 (1 array): [4,4]\n- Arrays starting with the value 5 (1 array): [5,5]\nThere are a total of 5 + 2 + 1 + 1 + 1 = 10 distinct ideal arrays.\n\nExample 2:\n\nInput: n = 5, maxValue = 3\nOutput: 11\nExplanation: The following are the possible ideal arrays:\n- Arrays starting with the value 1 (9 arrays): \n   - With no other distinct values (1 array): [1,1,1,1,1] \n   - With 2nd distinct value 2 (4 arrays): [1,1,1,1,2], [1,1,1,2,2], [1,1,2,2,2], [1,2,2,2,2]\n   - With 2nd distinct value 3 (4 arrays): [1,1,1,1,3], [1,1,1,3,3], [1,1,3,3,3], [1,3,3,3,3]\n- Arrays starting with the value 2 (1 array): [2,2,2,2,2]\n- Arrays starting with the value 3 (1 array): [3,3,3,3,3]\nThere are a total of 9 + 1 + 1 = 11 distinct ideal arrays.\n\n\u00a0\nConstraints:\n\n2 <= n <= 104\n1 <= maxValue <= 104\n\n",
  "entry_point": "Solution().idealArrays",
  "starter_code": "class Solution:\n    def idealArrays(self, n: int, maxValue: int) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(n = 7,maxValue = 7) == 106\n    assert candidate(n = 2,maxValue = 5) == 10\n    assert candidate(n = 3,maxValue = 7) == 28\n    assert candidate(n = 3,maxValue = 6) == 25\n    assert candidate(n = 6,maxValue = 12) == 327\n    assert candidate(n = 10,maxValue = 5) == 86\n    assert candidate(n = 4,maxValue = 4) == 19\n    assert candidate(n = 10,maxValue = 10) == 571\n    assert candidate(n = 4,maxValue = 7) == 43\n    assert candidate(n = 3,maxValue = 2) == 4\n    assert candidate(n = 10000,maxValue = 10000) == 22940607\n    assert candidate(n = 4,maxValue = 10) == 89\n    assert candidate(n = 5,maxValue = 3) == 11\n    assert candidate(n = 2000,maxValue = 10) == 347343994\n    assert candidate(n = 15,maxValue = 10) == 1431\n    assert candidate(n = 7,maxValue = 20) == 1191\n    assert candidate(n = 8000,maxValue = 8000) == 106406983\n    assert candidate(n = 8,maxValue = 16) == 1115\n    assert candidate(n = 6000,maxValue = 6000) == 883250062\n    assert candidate(n = 2000,maxValue = 5000) == 716352377\n    assert candidate(n = 10000,maxValue = 1) == 1\n    assert candidate(n = 100,maxValue = 50) == 604383896\n    assert candidate(n = 1000,maxValue = 4) == 502501\n    assert candidate(n = 9,maxValue = 5) == 73\n    assert candidate(n = 7,maxValue = 15) == 575\n    assert candidate(n = 10,maxValue = 20) == 3176\n    assert candidate(n = 2000,maxValue = 1000) == 534638579\n    assert candidate(n = 10,maxValue = 15) == 1341\n    assert candidate(n = 50,maxValue = 20) == 519126\n    assert candidate(n = 8,maxValue = 3) == 17\n    assert candidate(n = 20,maxValue = 2) == 21\n    assert candidate(n = 6,maxValue = 3) == 13\n    assert candidate(n = 100,maxValue = 3) == 201\n    assert candidate(n = 10000,maxValue = 5000) == 22892639\n    assert candidate(n = 9999,maxValue = 10000) == 667133522\n    assert candidate(n = 6000,maxValue = 3000) == 80648523\n    assert candidate(n = 3000,maxValue = 3000) == 806624302\n    assert candidate(n = 2000,maxValue = 2000) == 585712681\n    assert candidate(n = 3,maxValue = 1) == 1\n    assert candidate(n = 5000,maxValue = 5) == 12517501\n    assert candidate(n = 5000,maxValue = 2000) == 802769368\n    assert candidate(n = 1000,maxValue = 2000) == 228299266\n    assert candidate(n = 8,maxValue = 20) == 1707\n    assert candidate(n = 50,maxValue = 25) == 1630451\n    assert candidate(n = 100,maxValue = 2) == 101\n    assert candidate(n = 5,maxValue = 1) == 1\n    assert candidate(n = 6,maxValue = 8) == 138\n    assert candidate(n = 5,maxValue = 9999) == 6309016\n    assert candidate(n = 100,maxValue = 5) == 5351\n    assert candidate(n = 500,maxValue = 3) == 1001\n    assert candidate(n = 2000,maxValue = 50) == 74895101\n    assert candidate(n = 100,maxValue = 100) == 959337187\n    assert candidate(n = 5,maxValue = 100) == 7537\n    assert candidate(n = 100,maxValue = 10) == 202201\n    assert candidate(n = 9,maxValue = 9) == 373\n    assert candidate(n = 5000,maxValue = 20) == 436322284\n    assert candidate(n = 2000,maxValue = 10000) == 239341549\n    assert candidate(n = 20,maxValue = 50) == 388980\n    assert candidate(n = 10000,maxValue = 500) == 397370814\n    assert candidate(n = 1000,maxValue = 1000) == 91997497\n    assert candidate(n = 7500,maxValue = 7500) == 143340271\n    assert candidate(n = 25,maxValue = 30) == 153176\n    assert candidate(n = 500,maxValue = 500) == 652553975\n    assert candidate(n = 5000,maxValue = 100) == 853200627\n    assert candidate(n = 5000,maxValue = 5000) == 144035088\n    assert candidate(n = 1000,maxValue = 100) == 607180637\n    assert candidate(n = 50,maxValue = 100) == 268368886\n    assert candidate(n = 10000,maxValue = 100) == 200548806\n    assert candidate(n = 10,maxValue = 100) == 105568\n    assert candidate(n = 2,maxValue = 10000) == 93668\n    assert candidate(n = 10,maxValue = 10000) == 466423769\n    assert candidate(n = 1000,maxValue = 10000) == 888200964\n    assert candidate(n = 15,maxValue = 15) == 3711\n    assert candidate(n = 3000,maxValue = 6000) == 321990518\n    assert candidate(n = 8,maxValue = 2) == 9\n    assert candidate(n = 30,maxValue = 30) == 290436\n    assert candidate(n = 1000,maxValue = 10) == 170172001\n    assert candidate(n = 7500,maxValue = 10000) == 430119293\n    assert candidate(n = 8000,maxValue = 9000) == 358648747\n    assert candidate(n = 7500,maxValue = 5000) == 777616479\n",
  "test_cases": [
    "assert candidate(n = 7,maxValue = 7) == 106",
    "assert candidate(n = 2,maxValue = 5) == 10",
    "assert candidate(n = 3,maxValue = 7) == 28",
    "assert candidate(n = 3,maxValue = 6) == 25",
    "assert candidate(n = 6,maxValue = 12) == 327",
    "assert candidate(n = 10,maxValue = 5) == 86",
    "assert candidate(n = 4,maxValue = 4) == 19",
    "assert candidate(n = 10,maxValue = 10) == 571",
    "assert candidate(n = 4,maxValue = 7) == 43",
    "assert candidate(n = 3,maxValue = 2) == 4",
    "assert candidate(n = 10000,maxValue = 10000) == 22940607",
    "assert candidate(n = 4,maxValue = 10) == 89",
    "assert candidate(n = 5,maxValue = 3) == 11",
    "assert candidate(n = 2000,maxValue = 10) == 347343994",
    "assert candidate(n = 15,maxValue = 10) == 1431",
    "assert candidate(n = 7,maxValue = 20) == 1191",
    "assert candidate(n = 8000,maxValue = 8000) == 106406983",
    "assert candidate(n = 8,maxValue = 16) == 1115",
    "assert candidate(n = 6000,maxValue = 6000) == 883250062",
    "assert candidate(n = 2000,maxValue = 5000) == 716352377",
    "assert candidate(n = 10000,maxValue = 1) == 1",
    "assert candidate(n = 100,maxValue = 50) == 604383896",
    "assert candidate(n = 1000,maxValue = 4) == 502501",
    "assert candidate(n = 9,maxValue = 5) == 73",
    "assert candidate(n = 7,maxValue = 15) == 575",
    "assert candidate(n = 10,maxValue = 20) == 3176",
    "assert candidate(n = 2000,maxValue = 1000) == 534638579",
    "assert candidate(n = 10,maxValue = 15) == 1341",
    "assert candidate(n = 50,maxValue = 20) == 519126",
    "assert candidate(n = 8,maxValue = 3) == 17",
    "assert candidate(n = 20,maxValue = 2) == 21",
    "assert candidate(n = 6,maxValue = 3) == 13",
    "assert candidate(n = 100,maxValue = 3) == 201",
    "assert candidate(n = 10000,maxValue = 5000) == 22892639",
    "assert candidate(n = 9999,maxValue = 10000) == 667133522",
    "assert candidate(n = 6000,maxValue = 3000) == 80648523",
    "assert candidate(n = 3000,maxValue = 3000) == 806624302",
    "assert candidate(n = 2000,maxValue = 2000) == 585712681",
    "assert candidate(n = 3,maxValue = 1) == 1",
    "assert candidate(n = 5000,maxValue = 5) == 12517501",
    "assert candidate(n = 5000,maxValue = 2000) == 802769368",
    "assert candidate(n = 1000,maxValue = 2000) == 228299266",
    "assert candidate(n = 8,maxValue = 20) == 1707",
    "assert candidate(n = 50,maxValue = 25) == 1630451",
    "assert candidate(n = 100,maxValue = 2) == 101",
    "assert candidate(n = 5,maxValue = 1) == 1",
    "assert candidate(n = 6,maxValue = 8) == 138",
    "assert candidate(n = 5,maxValue = 9999) == 6309016",
    "assert candidate(n = 100,maxValue = 5) == 5351",
    "assert candidate(n = 500,maxValue = 3) == 1001",
    "assert candidate(n = 2000,maxValue = 50) == 74895101",
    "assert candidate(n = 100,maxValue = 100) == 959337187",
    "assert candidate(n = 5,maxValue = 100) == 7537",
    "assert candidate(n = 100,maxValue = 10) == 202201",
    "assert candidate(n = 9,maxValue = 9) == 373",
    "assert candidate(n = 5000,maxValue = 20) == 436322284",
    "assert candidate(n = 2000,maxValue = 10000) == 239341549",
    "assert candidate(n = 20,maxValue = 50) == 388980",
    "assert candidate(n = 10000,maxValue = 500) == 397370814",
    "assert candidate(n = 1000,maxValue = 1000) == 91997497",
    "assert candidate(n = 7500,maxValue = 7500) == 143340271",
    "assert candidate(n = 25,maxValue = 30) == 153176",
    "assert candidate(n = 500,maxValue = 500) == 652553975",
    "assert candidate(n = 5000,maxValue = 100) == 853200627",
    "assert candidate(n = 5000,maxValue = 5000) == 144035088",
    "assert candidate(n = 1000,maxValue = 100) == 607180637",
    "assert candidate(n = 50,maxValue = 100) == 268368886",
    "assert candidate(n = 10000,maxValue = 100) == 200548806",
    "assert candidate(n = 10,maxValue = 100) == 105568",
    "assert candidate(n = 2,maxValue = 10000) == 93668",
    "assert candidate(n = 10,maxValue = 10000) == 466423769",
    "assert candidate(n = 1000,maxValue = 10000) == 888200964",
    "assert candidate(n = 15,maxValue = 15) == 3711",
    "assert candidate(n = 3000,maxValue = 6000) == 321990518",
    "assert candidate(n = 8,maxValue = 2) == 9",
    "assert candidate(n = 30,maxValue = 30) == 290436",
    "assert candidate(n = 1000,maxValue = 10) == 170172001",
    "assert candidate(n = 7500,maxValue = 10000) == 430119293",
    "assert candidate(n = 8000,maxValue = 9000) == 358648747",
    "assert candidate(n = 7500,maxValue = 5000) == 777616479"
  ]
}