{
  "id": "substrings-that-begin-and-end-with-the-same-letter",
  "title": "Substrings That Begin And End With The Same Letter",
  "difficulty": "Medium",
  "tags": [
    "Hash Table",
    "Math",
    "String",
    "Counting",
    "Prefix Sum"
  ],
  "description": "You are given a 0-indexed string s consisting of only lowercase English letters. Return the number of substrings in s that begin and end with the same character.\nA substring is a contiguous non-empty sequence of characters within a string.\n\u00a0\nExample 1:\n\nInput: s = \"abcba\"\nOutput: 7\nExplanation:\nThe substrings of length 1 that start and end with the same letter are: \"a\", \"b\", \"c\", \"b\", and \"a\".\nThe substring of length 3 that starts and ends with the same letter is: \"bcb\".\nThe substring of length 5 that starts and ends with the same letter is: \"abcba\".\n\nExample 2:\n\nInput: s = \"abacad\"\nOutput: 9\nExplanation:\nThe substrings of length 1 that start and end with the same letter are: \"a\", \"b\", \"a\", \"c\", \"a\", and \"d\".\nThe substrings of length 3 that start and end with the same letter are: \"aba\" and \"aca\".\nThe substring of length 5 that starts and ends with the same letter is: \"abaca\".\n\nExample 3:\n\nInput: s = \"a\"\nOutput: 1\nExplanation:\nThe substring of length 1 that starts and ends with the same letter is: \"a\".\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 105\ns consists only of lowercase English letters.\n\n",
  "entry_point": "Solution().numberOfSubstrings",
  "starter_code": "class Solution:\n    def numberOfSubstrings(self, s: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"zxyxzyxzyxz\") == 26\n    assert candidate(s = \"abcba\") == 7\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == 26\n    assert candidate(s = \"abaacababa\") == 28\n    assert candidate(s = \"abababab\") == 20\n    assert candidate(s = \"aaaaa\") == 15\n    assert candidate(s = \"a\") == 1\n    assert candidate(s = \"aabcaabxcaabcxaabcaabc\") == 88\n    assert candidate(s = \"abcabcabc\") == 18\n    assert candidate(s = \"ababababab\") == 30\n    assert candidate(s = \"aaa\") == 6\n    assert candidate(s = \"zzz\") == 6\n    assert candidate(s = \"abba\") == 6\n    assert candidate(s = \"aaaabbbbcccc\") == 30\n    assert candidate(s = \"zzzzzzzzzz\") == 55\n    assert candidate(s = \"banana\") == 10\n    assert candidate(s = \"abacad\") == 9\n    assert candidate(s = \"aaabaaa\") == 22\n    assert candidate(s = \"mississippi\") == 24\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 78\n    assert candidate(s = \"xyzzyx\") == 9\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 26\n    assert candidate(s = \"abcdefg\") == 7\n    assert candidate(s = \"rhythms\") == 8\n    assert candidate(s = \"zzyxwwxyzzzxxzzzywxyz\") == 76\n    assert candidate(s = \"abcdabcdabcdabcdabcd\") == 60\n    assert candidate(s = \"madam\") == 7\n    assert candidate(s = \"abacaxbacab\") == 25\n    assert candidate(s = \"deified\") == 10\n    assert candidate(s = \"abacabadabacabadabacabad\") == 111\n    assert candidate(s = \"aabbaabbaabbaabbaabb\") == 110\n    assert candidate(s = \"repaper\") == 10\n    assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzz\") == 125\n    assert candidate(s = \"aabbaa\") == 13\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\") == 820\n    assert candidate(s = \"aabbbaabbbaabbbaabbb\") == 114\n    assert candidate(s = \"kayak\") == 7\n    assert candidate(s = \"nootnootnootnootnootnoot\") == 120\n    assert candidate(s = \"abacabadabacaba\") == 50\n    assert candidate(s = \"abbaabbaabbaabba\") == 72\n    assert candidate(s = \"abracadabra\") == 23\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\") == 165\n    assert candidate(s = \"thefactisthatthefactisthat\") == 71\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == 78\n    assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzz\") == 104\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == 210\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\") == 220\n    assert candidate(s = \"abcdabcabc\") == 19\n    assert candidate(s = \"aaaaaaaaaa\") == 55\n    assert candidate(s = \"rotor\") == 7\n    assert candidate(s = \"abbaabbaabbaabbaabba\") == 110\n    assert candidate(s = \"racecar\") == 10\n    assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzz\") == 117\n    assert candidate(s = \"abcdeedcbaabcdeedcba\") == 50\n    assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzz\") == 110\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmnbvcxzlkjhgfdsapoiuytrewq\") == 76\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 78\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghij\") == 60\n    assert candidate(s = \"noon\") == 6\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzz\") == 85\n    assert candidate(s = \"xyzxyzxyzxyzxyzxyzxyzxyzxyzxyz\") == 165\n    assert candidate(s = \"reviled\") == 8\n    assert candidate(s = \"xyzzyxzyxzyxzyxzyxzyx\") == 84\n    assert candidate(s = \"pneumonoultramicroscopicsilicovolcanoconiosis\") == 131\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiop\") == 46\n    assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 92\n    assert candidate(s = \"abcdeffedcba\") == 18\n    assert candidate(s = \"redder\") == 9\n    assert candidate(s = \"reviver\") == 10\n    assert candidate(s = \"xyzxyzxyzxyzxyz\") == 45\n    assert candidate(s = \"nflibpnflibpnflibp\") == 36\n    assert candidate(s = \"abcabcabcabcabc\") == 45\n    assert candidate(s = \"aaaaabbbbbccccdddddeeeee\") == 70\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 2346\n    assert candidate(s = \"level\") == 7\n    assert candidate(s = \"abccbaabccbaabccbaabccbaabccba\") == 165\n    assert candidate(s = \"racecarcarcar\") == 31\n    assert candidate(s = \"refer\") == 7\n",
  "test_cases": [
    "assert candidate(s = \"zxyxzyxzyxz\") == 26",
    "assert candidate(s = \"abcba\") == 7",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == 26",
    "assert candidate(s = \"abaacababa\") == 28",
    "assert candidate(s = \"abababab\") == 20",
    "assert candidate(s = \"aaaaa\") == 15",
    "assert candidate(s = \"a\") == 1",
    "assert candidate(s = \"aabcaabxcaabcxaabcaabc\") == 88",
    "assert candidate(s = \"abcabcabc\") == 18",
    "assert candidate(s = \"ababababab\") == 30",
    "assert candidate(s = \"aaa\") == 6",
    "assert candidate(s = \"zzz\") == 6",
    "assert candidate(s = \"abba\") == 6",
    "assert candidate(s = \"aaaabbbbcccc\") == 30",
    "assert candidate(s = \"zzzzzzzzzz\") == 55",
    "assert candidate(s = \"banana\") == 10",
    "assert candidate(s = \"abacad\") == 9",
    "assert candidate(s = \"aaabaaa\") == 22",
    "assert candidate(s = \"mississippi\") == 24",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 78",
    "assert candidate(s = \"xyzzyx\") == 9",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 26",
    "assert candidate(s = \"abcdefg\") == 7",
    "assert candidate(s = \"rhythms\") == 8",
    "assert candidate(s = \"zzyxwwxyzzzxxzzzywxyz\") == 76",
    "assert candidate(s = \"abcdabcdabcdabcdabcd\") == 60",
    "assert candidate(s = \"madam\") == 7",
    "assert candidate(s = \"abacaxbacab\") == 25",
    "assert candidate(s = \"deified\") == 10",
    "assert candidate(s = \"abacabadabacabadabacabad\") == 111",
    "assert candidate(s = \"aabbaabbaabbaabbaabb\") == 110",
    "assert candidate(s = \"repaper\") == 10",
    "assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzz\") == 125",
    "assert candidate(s = \"aabbaa\") == 13",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\") == 820",
    "assert candidate(s = \"aabbbaabbbaabbbaabbb\") == 114",
    "assert candidate(s = \"kayak\") == 7",
    "assert candidate(s = \"nootnootnootnootnootnoot\") == 120",
    "assert candidate(s = \"abacabadabacaba\") == 50",
    "assert candidate(s = \"abbaabbaabbaabba\") == 72",
    "assert candidate(s = \"abracadabra\") == 23",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\") == 165",
    "assert candidate(s = \"thefactisthatthefactisthat\") == 71",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == 78",
    "assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzz\") == 104",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == 210",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\") == 220",
    "assert candidate(s = \"abcdabcabc\") == 19",
    "assert candidate(s = \"aaaaaaaaaa\") == 55",
    "assert candidate(s = \"rotor\") == 7",
    "assert candidate(s = \"abbaabbaabbaabbaabba\") == 110",
    "assert candidate(s = \"racecar\") == 10",
    "assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzz\") == 117",
    "assert candidate(s = \"abcdeedcbaabcdeedcba\") == 50",
    "assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzz\") == 110",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmnbvcxzlkjhgfdsapoiuytrewq\") == 76",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 78",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghij\") == 60",
    "assert candidate(s = \"noon\") == 6",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzz\") == 85",
    "assert candidate(s = \"xyzxyzxyzxyzxyzxyzxyzxyzxyzxyz\") == 165",
    "assert candidate(s = \"reviled\") == 8",
    "assert candidate(s = \"xyzzyxzyxzyxzyxzyxzyx\") == 84",
    "assert candidate(s = \"pneumonoultramicroscopicsilicovolcanoconiosis\") == 131",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiop\") == 46",
    "assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 92",
    "assert candidate(s = \"abcdeffedcba\") == 18",
    "assert candidate(s = \"redder\") == 9",
    "assert candidate(s = \"reviver\") == 10",
    "assert candidate(s = \"xyzxyzxyzxyzxyz\") == 45",
    "assert candidate(s = \"nflibpnflibpnflibp\") == 36",
    "assert candidate(s = \"abcabcabcabcabc\") == 45",
    "assert candidate(s = \"aaaaabbbbbccccdddddeeeee\") == 70",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 2346",
    "assert candidate(s = \"level\") == 7",
    "assert candidate(s = \"abccbaabccbaabccbaabccbaabccba\") == 165",
    "assert candidate(s = \"racecarcarcar\") == 31",
    "assert candidate(s = \"refer\") == 7"
  ]
}