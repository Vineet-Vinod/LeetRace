{
  "id": "remove-duplicate-letters",
  "title": "Remove Duplicate Letters",
  "difficulty": "Medium",
  "tags": [
    "Stack",
    "Greedy",
    "String",
    "Monotonic Stack"
  ],
  "description": "Given a string s, remove duplicate letters so that every letter appears once and only once. You must make sure your result is the smallest in lexicographical order among all possible results.\n\u00a0\nExample 1:\n\nInput: s = \"bcabc\"\nOutput: \"abc\"\n\nExample 2:\n\nInput: s = \"cbacdcbc\"\nOutput: \"acdb\"\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 104\ns consists of lowercase English letters.\n\n\u00a0\nNote: This question is the same as 1081: https://leetcode.com/problems/smallest-subsequence-of-distinct-characters/\n",
  "entry_point": "Solution().removeDuplicateLetters",
  "starter_code": "class Solution:\n    def removeDuplicateLetters(self, s: str) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"rumeblidofervobenly\") == \"rumbidfevonly\"\n    assert candidate(s = \"thesqtitxyetpxooxlqskyae\") == \"heitpoxlqskya\"\n    assert candidate(s = \"thesqquishs\") == \"tequihs\"\n    assert candidate(s = \"a\") == \"a\"\n    assert candidate(s = \"russell\") == \"rusel\"\n    assert candidate(s = \"cbacdcbc\") == \"acdb\"\n    assert candidate(s = \"zyxzyzzyxzy\") == \"xyz\"\n    assert candidate(s = \"xyz\") == \"xyz\"\n    assert candidate(s = \"leetcode\") == \"letcod\"\n    assert candidate(s = \"abacbabcabacbacbacbabcaba\") == \"abc\"\n    assert candidate(s = \"zyxzyxzyxzyxzyx\") == \"xyz\"\n    assert candidate(s = \"banana\") == \"ban\"\n    assert candidate(s = \"zyxzyxzyx\") == \"xyz\"\n    assert candidate(s = \"abcd\") == \"abcd\"\n    assert candidate(s = \"bcabc\") == \"abc\"\n    assert candidate(s = \"bbaaccaabb\") == \"acb\"\n    assert candidate(s = \"ecbacba\") == \"eacb\"\n    assert candidate(s = \"aabbcc\") == \"abc\"\n    assert candidate(s = \"abacb\") == \"abc\"\n    assert candidate(s = \"sphnsdczdcphqvh\") == \"hnsczdpqv\"\n    assert candidate(s = \"xyzzyx\") == \"xyz\"\n    assert candidate(s = \"eliminate\") == \"elimnat\"\n    assert candidate(s = \"bcaacbcbabcbabcbbbcabcabcb\") == \"abc\"\n    assert candidate(s = \"cccbba\") == \"cba\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == \"zyxwvutsrqponmlkjihgfedcba\"\n    assert candidate(s = \"ababcabcabc\") == \"abc\"\n    assert candidate(s = \"vvvvvvvvvvvvvvvvvvvvvvvvvv\") == \"v\"\n    assert candidate(s = \"xyzzyxwvutsrqponmlkjihgfedcbazyxzyxwvutsrqponmlkjihgfedcba\") == \"axzywvutsrqponmlkjihgfedcb\"\n    assert candidate(s = \"eleven\") == \"elvn\"\n    assert candidate(s = \"abcabcabcabc\") == \"abc\"\n    assert candidate(s = \"mississsipissippi\") == \"mips\"\n    assert candidate(s = \"kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk\") == \"k\"\n    assert candidate(s = \"thisisaverycomplicatedstringwithmultiplesamecharacters\") == \"averycodingwhmulpst\"\n    assert candidate(s = \"abcdabcdabcd\") == \"abcd\"\n    assert candidate(s = \"vkgdffubqyfvcl\") == \"kgdfubqyvcl\"\n    assert candidate(s = \"zyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxy\") == \"xyz\"\n    assert candidate(s = \"thisisareallylongstringwithsomerepeatedcharacters\") == \"aelyginwhompdcrts\"\n    assert candidate(s = \"aaaaabbbbccccdddd\") == \"abcd\"\n    assert candidate(s = \"abcdabc\") == \"abcd\"\n    assert candidate(s = \"abcdefghxyzzyxwvutsrqponmlkjihgfedcba\") == \"abcdefghxyzwvutsrqponmlkji\"\n    assert candidate(s = \"abcdcbadef\") == \"abcdef\"\n    assert candidate(s = \"elqodmxonqkdio\") == \"eldmxnqkio\"\n    assert candidate(s = \"rclcar\") == \"clar\"\n    assert candidate(s = \"aaabbbccc\") == \"abc\"\n    assert candidate(s = \"abcdefghifghijklmnopqrstuvwxyz\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"zabaxyzc\") == \"abxyzc\"\n    assert candidate(s = \"zyxzyxzyxzyxcba\") == \"xyzcba\"\n    assert candidate(s = \"abababababababab\") == \"ab\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"dedededededededed\") == \"de\"\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmzxcvbnmlkjhgfdsapoiuytrewq\") == \"abmzxcvnlkjhgfdspoiuytrewq\"\n    assert candidate(s = \"abcdabcdabcdabcd\") == \"abcd\"\n    assert candidate(s = \"limits\") == \"limts\"\n    assert candidate(s = \"abcdzyxwvutsrqponmlkjihgfedcba\") == \"abcdzyxwvutsrqponmlkjihgfe\"\n    assert candidate(s = \"zyzzyzxzyzy\") == \"xyz\"\n    assert candidate(s = \"aabbbccddeeefffggghhhiiijjjkkkllmmmnnnooopppqqrrssttuuvvwwxxyyzz\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"zzyyxxwwvvttsrqqponnmlkkjjiihggffeeddccbbaa\") == \"zyxwvtsrqponmlkjihgfedcba\"\n    assert candidate(s = \"rsvwzxcvbnmasdfghjklpoiuytrewq\") == \"rsvwzxcbnmadfghjklpoiuyteq\"\n    assert candidate(s = \"abacabadabacaba\") == \"abcd\"\n    assert candidate(s = \"rquyaedetziwq\") == \"rquyadetziw\"\n    assert candidate(s = \"dabdc\") == \"abdc\"\n    assert candidate(s = \"pppippiiqipqqipiqipiiiiii\") == \"ipq\"\n    assert candidate(s = \"abacbabc\") == \"abc\"\n    assert candidate(s = \"abcdexyzabcdexyz\") == \"abcdexyz\"\n    assert candidate(s = \"abcdexyzvwxycba\") == \"abcdexyzvw\"\n    assert candidate(s = \"eccbbbbdec\") == \"bdec\"\n    assert candidate(s = \"axbxa\") == \"abx\"\n    assert candidate(s = \"rhythm\") == \"rhytm\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"cbacdcbcxd\") == \"abcxd\"\n    assert candidate(s = \"pppqqqrrrssstttuuuvvvwwwxxxxyyyyzzzz\") == \"pqrstuvwxyz\"\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"z\"\n    assert candidate(s = \"elgoog\") == \"elgo\"\n    assert candidate(s = \"abcdacdabcde\") == \"abcde\"\n    assert candidate(s = \"cdadabcc\") == \"adbc\"\n    assert candidate(s = \"abcdxyzzyxwvutsrqponmlkjihgfedcba\") == \"abcdxyzwvutsrqponmlkjihgfe\"\n    assert candidate(s = \"nincompoop\") == \"incmop\"\n    assert candidate(s = \"zzzzyyyxxxwwvvuuttssrrqqppoonnmmllkkiijjhhhgggffffeeeedddccccbbbaaa\") == \"zyxwvutsrqponmlkijhgfedcba\"\n    assert candidate(s = \"leetcodeloveleetcode\") == \"cdelovt\"\n    assert candidate(s = \"abcdefghijabcdejk\") == \"abcdefghijk\"\n    assert candidate(s = \"abcdedcba\") == \"abcde\"\n    assert candidate(s = \"aabbbccc\") == \"abc\"\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmzyxcvbnmlkjhgfdsapoiuytrewq\") == \"abmzxcvnlkjhgfdspoiuytrewq\"\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == \"abmqwertyuiopsdfghjklzxcvn\"\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzyxwvutsrqponmlkjihgfedcba\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"poiuytrewqlkjhgfdsazxcvbnmqwertyuioplkjhgfdsazxcvbnm\") == \"abmqwertyuioplkjhgfdszxcvn\"\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmnbvcxzlkjhgfdsapoiuytrewq\") == \"abmnvcxzlkjhgfdspoiuytrewq\"\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == \"abcdefghijklmnopqrstuvwxyz\"\n    assert candidate(s = \"abacabadabcabc\") == \"abcd\"\n    assert candidate(s = \"abacbdcba\") == \"abcd\"\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\") == \"a\"\n    assert candidate(s = \"mississippi\") == \"misp\"\n    assert candidate(s = \"abcdexyzzyxwvtsrqponmlkjihgfe\") == \"abcdexyzwvtsrqponmlkjihgf\"\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcbazyxwvutsrqponmlkjihgfedcba\") == \"azyxwvutsrqponmlkjihgfedcb\"\n    assert candidate(s = \"aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeefffffffff\") == \"abcdef\"\n    assert candidate(s = \"ababababababababababababababababababab\") == \"ab\"\n    assert candidate(s = \"zyxzyxzyxzyx\") == \"xyz\"\n    assert candidate(s = \"razonator\") == \"azntor\"\n",
  "test_cases": [
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"rumeblidofervobenly\") == \"rumbidfevonly\"",
    "assert candidate(s = \"thesqtitxyetpxooxlqskyae\") == \"heitpoxlqskya\"",
    "assert candidate(s = \"thesqquishs\") == \"tequihs\"",
    "assert candidate(s = \"a\") == \"a\"",
    "assert candidate(s = \"russell\") == \"rusel\"",
    "assert candidate(s = \"cbacdcbc\") == \"acdb\"",
    "assert candidate(s = \"zyxzyzzyxzy\") == \"xyz\"",
    "assert candidate(s = \"xyz\") == \"xyz\"",
    "assert candidate(s = \"leetcode\") == \"letcod\"",
    "assert candidate(s = \"abacbabcabacbacbacbabcaba\") == \"abc\"",
    "assert candidate(s = \"zyxzyxzyxzyxzyx\") == \"xyz\"",
    "assert candidate(s = \"banana\") == \"ban\"",
    "assert candidate(s = \"zyxzyxzyx\") == \"xyz\"",
    "assert candidate(s = \"abcd\") == \"abcd\"",
    "assert candidate(s = \"bcabc\") == \"abc\"",
    "assert candidate(s = \"bbaaccaabb\") == \"acb\"",
    "assert candidate(s = \"ecbacba\") == \"eacb\"",
    "assert candidate(s = \"aabbcc\") == \"abc\"",
    "assert candidate(s = \"abacb\") == \"abc\"",
    "assert candidate(s = \"sphnsdczdcphqvh\") == \"hnsczdpqv\"",
    "assert candidate(s = \"xyzzyx\") == \"xyz\"",
    "assert candidate(s = \"eliminate\") == \"elimnat\"",
    "assert candidate(s = \"bcaacbcbabcbabcbbbcabcabcb\") == \"abc\"",
    "assert candidate(s = \"cccbba\") == \"cba\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == \"zyxwvutsrqponmlkjihgfedcba\"",
    "assert candidate(s = \"ababcabcabc\") == \"abc\"",
    "assert candidate(s = \"vvvvvvvvvvvvvvvvvvvvvvvvvv\") == \"v\"",
    "assert candidate(s = \"xyzzyxwvutsrqponmlkjihgfedcbazyxzyxwvutsrqponmlkjihgfedcba\") == \"axzywvutsrqponmlkjihgfedcb\"",
    "assert candidate(s = \"eleven\") == \"elvn\"",
    "assert candidate(s = \"abcabcabcabc\") == \"abc\"",
    "assert candidate(s = \"mississsipissippi\") == \"mips\"",
    "assert candidate(s = \"kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk\") == \"k\"",
    "assert candidate(s = \"thisisaverycomplicatedstringwithmultiplesamecharacters\") == \"averycodingwhmulpst\"",
    "assert candidate(s = \"abcdabcdabcd\") == \"abcd\"",
    "assert candidate(s = \"vkgdffubqyfvcl\") == \"kgdfubqyvcl\"",
    "assert candidate(s = \"zyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxyzyxy\") == \"xyz\"",
    "assert candidate(s = \"thisisareallylongstringwithsomerepeatedcharacters\") == \"aelyginwhompdcrts\"",
    "assert candidate(s = \"aaaaabbbbccccdddd\") == \"abcd\"",
    "assert candidate(s = \"abcdabc\") == \"abcd\"",
    "assert candidate(s = \"abcdefghxyzzyxwvutsrqponmlkjihgfedcba\") == \"abcdefghxyzwvutsrqponmlkji\"",
    "assert candidate(s = \"abcdcbadef\") == \"abcdef\"",
    "assert candidate(s = \"elqodmxonqkdio\") == \"eldmxnqkio\"",
    "assert candidate(s = \"rclcar\") == \"clar\"",
    "assert candidate(s = \"aaabbbccc\") == \"abc\"",
    "assert candidate(s = \"abcdefghifghijklmnopqrstuvwxyz\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"zabaxyzc\") == \"abxyzc\"",
    "assert candidate(s = \"zyxzyxzyxzyxcba\") == \"xyzcba\"",
    "assert candidate(s = \"abababababababab\") == \"ab\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"dedededededededed\") == \"de\"",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmzxcvbnmlkjhgfdsapoiuytrewq\") == \"abmzxcvnlkjhgfdspoiuytrewq\"",
    "assert candidate(s = \"abcdabcdabcdabcd\") == \"abcd\"",
    "assert candidate(s = \"limits\") == \"limts\"",
    "assert candidate(s = \"abcdzyxwvutsrqponmlkjihgfedcba\") == \"abcdzyxwvutsrqponmlkjihgfe\"",
    "assert candidate(s = \"zyzzyzxzyzy\") == \"xyz\"",
    "assert candidate(s = \"aabbbccddeeefffggghhhiiijjjkkkllmmmnnnooopppqqrrssttuuvvwwxxyyzz\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"zzyyxxwwvvttsrqqponnmlkkjjiihggffeeddccbbaa\") == \"zyxwvtsrqponmlkjihgfedcba\"",
    "assert candidate(s = \"rsvwzxcvbnmasdfghjklpoiuytrewq\") == \"rsvwzxcbnmadfghjklpoiuyteq\"",
    "assert candidate(s = \"abacabadabacaba\") == \"abcd\"",
    "assert candidate(s = \"rquyaedetziwq\") == \"rquyadetziw\"",
    "assert candidate(s = \"dabdc\") == \"abdc\"",
    "assert candidate(s = \"pppippiiqipqqipiqipiiiiii\") == \"ipq\"",
    "assert candidate(s = \"abacbabc\") == \"abc\"",
    "assert candidate(s = \"abcdexyzabcdexyz\") == \"abcdexyz\"",
    "assert candidate(s = \"abcdexyzvwxycba\") == \"abcdexyzvw\"",
    "assert candidate(s = \"eccbbbbdec\") == \"bdec\"",
    "assert candidate(s = \"axbxa\") == \"abx\"",
    "assert candidate(s = \"rhythm\") == \"rhytm\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"cbacdcbcxd\") == \"abcxd\"",
    "assert candidate(s = \"pppqqqrrrssstttuuuvvvwwwxxxxyyyyzzzz\") == \"pqrstuvwxyz\"",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == \"z\"",
    "assert candidate(s = \"elgoog\") == \"elgo\"",
    "assert candidate(s = \"abcdacdabcde\") == \"abcde\"",
    "assert candidate(s = \"cdadabcc\") == \"adbc\"",
    "assert candidate(s = \"abcdxyzzyxwvutsrqponmlkjihgfedcba\") == \"abcdxyzwvutsrqponmlkjihgfe\"",
    "assert candidate(s = \"nincompoop\") == \"incmop\"",
    "assert candidate(s = \"zzzzyyyxxxwwvvuuttssrrqqppoonnmmllkkiijjhhhgggffffeeeedddccccbbbaaa\") == \"zyxwvutsrqponmlkijhgfedcba\"",
    "assert candidate(s = \"leetcodeloveleetcode\") == \"cdelovt\"",
    "assert candidate(s = \"abcdefghijabcdejk\") == \"abcdefghijk\"",
    "assert candidate(s = \"abcdedcba\") == \"abcde\"",
    "assert candidate(s = \"aabbbccc\") == \"abc\"",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmzyxcvbnmlkjhgfdsapoiuytrewq\") == \"abmzxcvnlkjhgfdspoiuytrewq\"",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == \"abmqwertyuiopsdfghjklzxcvn\"",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzyxwvutsrqponmlkjihgfedcba\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"poiuytrewqlkjhgfdsazxcvbnmqwertyuioplkjhgfdsazxcvbnm\") == \"abmqwertyuioplkjhgfdszxcvn\"",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmnbvcxzlkjhgfdsapoiuytrewq\") == \"abmnvcxzlkjhgfdspoiuytrewq\"",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == \"abcdefghijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"abacabadabcabc\") == \"abcd\"",
    "assert candidate(s = \"abacbdcba\") == \"abcd\"",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\") == \"a\"",
    "assert candidate(s = \"mississippi\") == \"misp\"",
    "assert candidate(s = \"abcdexyzzyxwvtsrqponmlkjihgfe\") == \"abcdexyzwvtsrqponmlkjihgf\"",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcbazyxwvutsrqponmlkjihgfedcba\") == \"azyxwvutsrqponmlkjihgfedcb\"",
    "assert candidate(s = \"aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeefffffffff\") == \"abcdef\"",
    "assert candidate(s = \"ababababababababababababababababababab\") == \"ab\"",
    "assert candidate(s = \"zyxzyxzyxzyx\") == \"xyz\"",
    "assert candidate(s = \"razonator\") == \"azntor\""
  ]
}