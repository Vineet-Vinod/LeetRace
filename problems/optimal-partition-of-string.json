{
  "id": "optimal-partition-of-string",
  "title": "Optimal Partition Of String",
  "difficulty": "Medium",
  "tags": [
    "Greedy",
    "Hash Table",
    "String"
  ],
  "description": "Given a string s, partition the string into one or more substrings such that the characters in each substring are unique. That is, no letter appears in a single substring more than once.\nReturn the minimum number of substrings in such a partition.\nNote that each character should belong to exactly one substring in a partition.\n\u00a0\nExample 1:\n\nInput: s = \"abacaba\"\nOutput: 4\nExplanation:\nTwo possible partitions are (\"a\",\"ba\",\"cab\",\"a\") and (\"ab\",\"a\",\"ca\",\"ba\").\nIt can be shown that 4 is the minimum number of substrings needed.\n\nExample 2:\n\nInput: s = \"ssssss\"\nOutput: 6\nExplanation:\nThe only valid partition is (\"s\",\"s\",\"s\",\"s\",\"s\",\"s\").\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 105\ns consists of only English lowercase letters.\n\n",
  "entry_point": "Solution().partitionString",
  "starter_code": "class Solution:\n    def partitionString(self, s: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcdefg\") == 1\n    assert candidate(s = \"abac\") == 2\n    assert candidate(s = \"abcdabcdeabcdefabcdefg\") == 4\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 44\n    assert candidate(s = \"abababab\") == 4\n    assert candidate(s = \"aaaaa\") == 5\n    assert candidate(s = \"a\") == 1\n    assert candidate(s = \"optimal\") == 1\n    assert candidate(s = \"abcabcabc\") == 3\n    assert candidate(s = \"ssssss\") == 6\n    assert candidate(s = \"abcabcabcabc\") == 4\n    assert candidate(s = \"ab\") == 1\n    assert candidate(s = \"partition\") == 2\n    assert candidate(s = \"racecar\") == 2\n    assert candidate(s = \"xyzxyzxyz\") == 3\n    assert candidate(s = \"abcadef\") == 2\n    assert candidate(s = \"banana\") == 3\n    assert candidate(s = \"abc\") == 1\n    assert candidate(s = \"pqrspqrspqrs\") == 3\n    assert candidate(s = \"aabbccddeeff\") == 7\n    assert candidate(s = \"abcdeabcde\") == 2\n    assert candidate(s = \"aabbcc\") == 4\n    assert candidate(s = \"unique\") == 2\n    assert candidate(s = \"characters\") == 2\n    assert candidate(s = \"aaaaaaaaa\") == 9\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 27\n    assert candidate(s = \"abacaba\") == 4\n    assert candidate(s = \"abca\") == 2\n    assert candidate(s = \"zxyxzyxz\") == 3\n    assert candidate(s = \"xyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzxy\") == 40\n    assert candidate(s = \"abcdeabcdeabcdeabcdeabcde\") == 5\n    assert candidate(s = \"xyxxyxyxyxxyxyxyxyxyx\") == 12\n    assert candidate(s = \"repeatrepeatrepeatrepeatrepeat\") == 10\n    assert candidate(s = \"uniquecharacterswithoutrepeating\") == 6\n    assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd\") == 23\n    assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 24\n    assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 72\n    assert candidate(s = \"abacabadabacabad\") == 8\n    assert candidate(s = \"aaaaabbbbbccccdddd\") == 15\n    assert candidate(s = \"abcdabcdeabcdabcdef\") == 4\n    assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiiiiiijjjjjjkkkkkkklllllllmmmmmmmnnnnnnnooooooooppppppppqqqqqqqqrrrrrrrrssssssssttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxxyyyyyyyyzzzzzzzz\") == 145\n    assert candidate(s = \"longerstringwithoutrepeats\") == 5\n    assert candidate(s = \"abcba\") == 2\n    assert candidate(s = \"mississippimississippimississippi\") == 15\n    assert candidate(s = \"aaaaabbbbbcccccdddddeeeeeeaaaaabbbbbcccccdddddeeeeeeaaaaabbbbbcccccdddddeeeeeeaaaaabbbbbcccccdddddeeeeee\") == 85\n    assert candidate(s = \"aaaaabbbbbcccccdddddeeeee\") == 21\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 30\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == 16\n    assert candidate(s = \"abracadabraabracadabraabracadabra\") == 15\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffffgggggggghhhhhhhh\") == 59\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzz\") == 29\n    assert candidate(s = \"noon\") == 2\n    assert candidate(s = \"abcabcabcabcabcabc\") == 6\n    assert candidate(s = \"thisisaverylongstringthatwilltestthealgorithm\") == 9\n    assert candidate(s = \"hellohellohellohellohellohello\") == 12\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzzzzzzzzzzzzzzzzzzzzzzz\") == 24\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == 4\n    assert candidate(s = \"abcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcba\") == 20\n    assert candidate(s = \"abacdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == 3\n    assert candidate(s = \"abacaxbabax\") == 5\n    assert candidate(s = \"aaaaaaaabbbbbbbbccccccccddddddddeeeeeeee\") == 36\n    assert candidate(s = \"nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn\") == 40\n    assert candidate(s = \"abababababababababab\") == 10\n    assert candidate(s = \"abacabadabacaba\") == 8\n    assert candidate(s = \"abacabadabacabadabacabadabacabadabacabadabacabadabacabadabacabadabacabad\") == 36\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 3\n    assert candidate(s = \"thecuriouscaseofjeffersonraisethetrapdoor\") == 8\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabcdefghijklmnopqrstuvwxyz\") == 28\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 70\n    assert candidate(s = \"aaaaabbbbbccccddddeeeeffffgggg\") == 24\n    assert candidate(s = \"xyzzysabcabcabcabcabcabcabcabc\") == 9\n    assert candidate(s = \"abcdefghijklaaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\") == 38\n    assert candidate(s = \"abracadabraabracadabra\") == 10\n    assert candidate(s = \"ababcbabcab\") == 5\n    assert candidate(s = \"abacabadabacabadabacabadabacabadabacabadabacabadabacabad\") == 28\n    assert candidate(s = \"mnopqrstuvwxyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 61\n    assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 36\n    assert candidate(s = \"aabbccddeeffaabbccddeeff\") == 13\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 1\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 40\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == 1\n    assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcdabcd\") == 9\n    assert candidate(s = \"thisisanexamplestringthatneedstobepartitionedproperly\") == 9\n    assert candidate(s = \"abacabadabacabaeabacabaf\") == 12\n    assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 60\n    assert candidate(s = \"aabcbcbcbaabcabcbcbcba\") == 10\n    assert candidate(s = \"mnopqrsmnopqrsmnopqrsmnopqrs\") == 4\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == 2\n    assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcd\") == 8\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 5\n    assert candidate(s = \"aaaaaabbcccddeeeeffffgggghhhhiiiijjjjkkkkllllmmmmnnnnoooo\") == 43\n    assert candidate(s = \"abcabcabcabcabcabcabcabc\") == 8\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 2\n    assert candidate(s = \"abcdabcdaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 29\n    assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 48\n    assert candidate(s = \"ppppqqqqrrrrssssttttuuuuvvvvwwwwxxxxxyyyyzzzz\") == 35\n    assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 29\n    assert candidate(s = \"xyzzxyzzxyzzxyzzxyzzxyzz\") == 12\n    assert candidate(s = \"mississippi\") == 5\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzz\") == 43\n    assert candidate(s = \"abcabcabcabcabc\") == 5\n    assert candidate(s = \"aaaaabbbbbbbaaaabbbbbbbaaaabbbbbbbaaaabbbbb\") == 36\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 50\n",
  "test_cases": [
    "assert candidate(s = \"abcdefg\") == 1",
    "assert candidate(s = \"abac\") == 2",
    "assert candidate(s = \"abcdabcdeabcdefabcdefg\") == 4",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 44",
    "assert candidate(s = \"abababab\") == 4",
    "assert candidate(s = \"aaaaa\") == 5",
    "assert candidate(s = \"a\") == 1",
    "assert candidate(s = \"optimal\") == 1",
    "assert candidate(s = \"abcabcabc\") == 3",
    "assert candidate(s = \"ssssss\") == 6",
    "assert candidate(s = \"abcabcabcabc\") == 4",
    "assert candidate(s = \"ab\") == 1",
    "assert candidate(s = \"partition\") == 2",
    "assert candidate(s = \"racecar\") == 2",
    "assert candidate(s = \"xyzxyzxyz\") == 3",
    "assert candidate(s = \"abcadef\") == 2",
    "assert candidate(s = \"banana\") == 3",
    "assert candidate(s = \"abc\") == 1",
    "assert candidate(s = \"pqrspqrspqrs\") == 3",
    "assert candidate(s = \"aabbccddeeff\") == 7",
    "assert candidate(s = \"abcdeabcde\") == 2",
    "assert candidate(s = \"aabbcc\") == 4",
    "assert candidate(s = \"unique\") == 2",
    "assert candidate(s = \"characters\") == 2",
    "assert candidate(s = \"aaaaaaaaa\") == 9",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 27",
    "assert candidate(s = \"abacaba\") == 4",
    "assert candidate(s = \"abca\") == 2",
    "assert candidate(s = \"zxyxzyxz\") == 3",
    "assert candidate(s = \"xyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzxy\") == 40",
    "assert candidate(s = \"abcdeabcdeabcdeabcdeabcde\") == 5",
    "assert candidate(s = \"xyxxyxyxyxxyxyxyxyxyx\") == 12",
    "assert candidate(s = \"repeatrepeatrepeatrepeatrepeat\") == 10",
    "assert candidate(s = \"uniquecharacterswithoutrepeating\") == 6",
    "assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd\") == 23",
    "assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 24",
    "assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 72",
    "assert candidate(s = \"abacabadabacabad\") == 8",
    "assert candidate(s = \"aaaaabbbbbccccdddd\") == 15",
    "assert candidate(s = \"abcdabcdeabcdabcdef\") == 4",
    "assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiiiiiijjjjjjkkkkkkklllllllmmmmmmmnnnnnnnooooooooppppppppqqqqqqqqrrrrrrrrssssssssttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxxyyyyyyyyzzzzzzzz\") == 145",
    "assert candidate(s = \"longerstringwithoutrepeats\") == 5",
    "assert candidate(s = \"abcba\") == 2",
    "assert candidate(s = \"mississippimississippimississippi\") == 15",
    "assert candidate(s = \"aaaaabbbbbcccccdddddeeeeeeaaaaabbbbbcccccdddddeeeeeeaaaaabbbbbcccccdddddeeeeeeaaaaabbbbbcccccdddddeeeeee\") == 85",
    "assert candidate(s = \"aaaaabbbbbcccccdddddeeeee\") == 21",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 30",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == 16",
    "assert candidate(s = \"abracadabraabracadabraabracadabra\") == 15",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffffgggggggghhhhhhhh\") == 59",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzz\") == 29",
    "assert candidate(s = \"noon\") == 2",
    "assert candidate(s = \"abcabcabcabcabcabc\") == 6",
    "assert candidate(s = \"thisisaverylongstringthatwilltestthealgorithm\") == 9",
    "assert candidate(s = \"hellohellohellohellohellohello\") == 12",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzzzzzzzzzzzzzzzzzzzzzzz\") == 24",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == 4",
    "assert candidate(s = \"abcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcbaabcdedcba\") == 20",
    "assert candidate(s = \"abacdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == 3",
    "assert candidate(s = \"abacaxbabax\") == 5",
    "assert candidate(s = \"aaaaaaaabbbbbbbbccccccccddddddddeeeeeeee\") == 36",
    "assert candidate(s = \"nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn\") == 40",
    "assert candidate(s = \"abababababababababab\") == 10",
    "assert candidate(s = \"abacabadabacaba\") == 8",
    "assert candidate(s = \"abacabadabacabadabacabadabacabadabacabadabacabadabacabadabacabadabacabad\") == 36",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 3",
    "assert candidate(s = \"thecuriouscaseofjeffersonraisethetrapdoor\") == 8",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabcdefghijklmnopqrstuvwxyz\") == 28",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 70",
    "assert candidate(s = \"aaaaabbbbbccccddddeeeeffffgggg\") == 24",
    "assert candidate(s = \"xyzzysabcabcabcabcabcabcabcabc\") == 9",
    "assert candidate(s = \"abcdefghijklaaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\") == 38",
    "assert candidate(s = \"abracadabraabracadabra\") == 10",
    "assert candidate(s = \"ababcbabcab\") == 5",
    "assert candidate(s = \"abacabadabacabadabacabadabacabadabacabadabacabadabacabad\") == 28",
    "assert candidate(s = \"mnopqrstuvwxyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 61",
    "assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 36",
    "assert candidate(s = \"aabbccddeeffaabbccddeeff\") == 13",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 1",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 40",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == 1",
    "assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcdabcd\") == 9",
    "assert candidate(s = \"thisisanexamplestringthatneedstobepartitionedproperly\") == 9",
    "assert candidate(s = \"abacabadabacabaeabacabaf\") == 12",
    "assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 60",
    "assert candidate(s = \"aabcbcbcbaabcabcbcbcba\") == 10",
    "assert candidate(s = \"mnopqrsmnopqrsmnopqrsmnopqrs\") == 4",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnm\") == 2",
    "assert candidate(s = \"abcdabcdabcdabcdabcdabcdabcdabcd\") == 8",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 5",
    "assert candidate(s = \"aaaaaabbcccddeeeeffffgggghhhhiiiijjjjkkkkllllmmmmnnnnoooo\") == 43",
    "assert candidate(s = \"abcabcabcabcabcabcabcabc\") == 8",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 2",
    "assert candidate(s = \"abcdabcdaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 29",
    "assert candidate(s = \"abacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabafabacabadabacabaeabacabaf\") == 48",
    "assert candidate(s = \"ppppqqqqrrrrssssttttuuuuvvvvwwwwxxxxxyyyyzzzz\") == 35",
    "assert candidate(s = \"aabbaabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 29",
    "assert candidate(s = \"xyzzxyzzxyzzxyzzxyzzxyzz\") == 12",
    "assert candidate(s = \"mississippi\") == 5",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzz\") == 43",
    "assert candidate(s = \"abcabcabcabcabc\") == 5",
    "assert candidate(s = \"aaaaabbbbbbbaaaabbbbbbbaaaabbbbbbbaaaabbbbb\") == 36",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 50"
  ]
}