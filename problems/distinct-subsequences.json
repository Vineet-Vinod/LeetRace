{
  "id": "distinct-subsequences",
  "title": "Distinct Subsequences",
  "difficulty": "Hard",
  "tags": [
    "String",
    "Dynamic Programming"
  ],
  "description": "Given two strings s and t, return the number of distinct subsequences of s which equals t.\nThe test cases are generated so that the answer fits on a 32-bit signed integer.\n\u00a0\nExample 1:\n\nInput: s = \"rabbbit\", t = \"rabbit\"\nOutput: 3\nExplanation:\nAs shown below, there are 3 ways you can generate \"rabbit\" from s.\nrabbbit\nrabbbit\nrabbbit\n\nExample 2:\n\nInput: s = \"babgbag\", t = \"bag\"\nOutput: 5\nExplanation:\nAs shown below, there are 5 ways you can generate \"bag\" from s.\nbabgbag\nbabgbag\nbabgbag\nbabgbag\nbabgbag\n\u00a0\nConstraints:\n\n1 <= s.length, t.length <= 1000\ns and t consist of English letters.\n\n",
  "entry_point": "Solution().numDistinct",
  "starter_code": "class Solution:\n    def numDistinct(self, s: str, t: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abc\",t = \"abcd\") == 0\n    assert candidate(s = \"abcd\",t = \"abcd\") == 1\n    assert candidate(s = \"rabbbit\",t = \"rabbit\") == 3\n    assert candidate(s = \"aaa\",t = \"a\") == 3\n    assert candidate(s = \"\",t = \"abc\") == 0\n    assert candidate(s = \"mississippi\",t = \"isip\") == 16\n    assert candidate(s = \"aaaaa\",t = \"aa\") == 10\n    assert candidate(s = \"abcde\",t = \"ae\") == 1\n    assert candidate(s = \"abcde\",t = \"\") == 1\n    assert candidate(s = \"abcd\",t = \"ab\") == 1\n    assert candidate(s = \"a\",t = \"a\") == 1\n    assert candidate(s = \"abcdabcabc\",t = \"abc\") == 10\n    assert candidate(s = \"babgbag\",t = \"bag\") == 5\n    assert candidate(s = \"abc\",t = \"abc\") == 1\n    assert candidate(s = \"pppp\",t = \"p\") == 4\n    assert candidate(s = \"abab\",t = \"aba\") == 1\n    assert candidate(s = \"\",t = \"\") == 1\n    assert candidate(s = \"leetcodeisgood\",t = \"code\") == 1\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",t = \"acegikmoqsuwy\") == 1\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\",t = \"zzz\") == 1140\n    assert candidate(s = \"dynamicprogramming\",t = \"dpm\") == 2\n    assert candidate(s = \"ababababab\",t = \"abab\") == 35\n    assert candidate(s = \"abcdabcdabcd\",t = \"abcd\") == 15\n    assert candidate(s = \"abcdabcdabcdabcd\",t = \"abcd\") == 35\n    assert candidate(s = \"zzzzzzzzzz\",t = \"zzzz\") == 210\n    assert candidate(s = \"aaaabbbbccccdddd\",t = \"abcd\") == 256\n    assert candidate(s = \"abracadabra\",t = \"abrac\") == 1\n    assert candidate(s = \"abcdefgabcdefgabcdefgabcdefgabcdefg\",t = \"abcdefg\") == 330\n    assert candidate(s = \"abcabcabcabcabcabcabcabc\",t = \"abcabc\") == 924\n    assert candidate(s = \"ababcabcabc\",t = \"abc\") == 19\n    assert candidate(s = \"abcdefghikjlmnopqrstuvwxyz\",t = \"xyz\") == 1\n    assert candidate(s = \"abcabcabcabc\",t = \"abc\") == 20\n    assert candidate(s = \"abcbabc\",t = \"abc\") == 5\n    assert candidate(s = \"xyzxyzxyz\",t = \"xyzyx\") == 1\n    assert candidate(s = \"aabbbccc\",t = \"abc\") == 18\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",t = \"zzzzzzzzzz\") == 64512240\n    assert candidate(s = \"xyzxyzxyzxyz\",t = \"xyz\") == 20\n    assert candidate(s = \"aabbccddeeffgg\",t = \"aabbcc\") == 1\n    assert candidate(s = \"abcdeabcdeabcde\",t = \"abc\") == 10\n    assert candidate(s = \"xyzzxyzzxyzzxyzz\",t = \"xyz\") == 40\n    assert candidate(s = \"xxyxyxyxyxyxyxyx\",t = \"xyx\") == 112\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",t = \"abc\") == 8\n    assert candidate(s = \"xyxxyxyxyx\",t = \"xyx\") == 27\n    assert candidate(s = \"mississippi\",t = \"issi\") == 15\n    assert candidate(s = \"pneumonoultramicroscopicsilicovolcanoconiosis\",t = \"pneumo\") == 23\n    assert candidate(s = \"pppppppppppp\",t = \"pppp\") == 495\n    assert candidate(s = \"aaaaabaaaaabaabaaabaababab\",t = \"aab\") == 686\n    assert candidate(s = \"abcdefg\",t = \"xyz\") == 0\n    assert candidate(s = \"rabbbitrabbbitrabbbit\",t = \"rabbit\") == 126\n    assert candidate(s = \"leetcodeleetcode\",t = \"leet\") == 12\n    assert candidate(s = \"xyzxyzxyzxyz\",t = \"xyzxyz\") == 28\n    assert candidate(s = \"abcdefghijk\",t = \"acegi\") == 1\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",t = \"abcdefghijklmnopqrstuvwxyz\") == 67108864\n    assert candidate(s = \"aabbccddeeffgg\",t = \"abcde\") == 32\n    assert candidate(s = \"longerstringexample\",t = \"long\") == 3\n    assert candidate(s = \"abracadabra\",t = \"abra\") == 9\n    assert candidate(s = \"xxyyzzxxxyyzz\",t = \"xyxz\") == 24\n    assert candidate(s = \"pppppppp\",t = \"pp\") == 28\n    assert candidate(s = \"attatchmentattach\",t = \"attach\") == 32\n    assert candidate(s = \"abcdefghijabcdefghij\",t = \"abcde\") == 6\n    assert candidate(s = \"abcdabcdeabcdeabcd\",t = \"abcd\") == 35\n    assert candidate(s = \"abcdefghij\",t = \"abcdefghijk\") == 0\n    assert candidate(s = \"zzzzzzzzzz\",t = \"zz\") == 45\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",t = \"zzzzzzzzzz\") == 14782231840815648\n    assert candidate(s = \"ppppppppp\",t = \"ppp\") == 84\n    assert candidate(s = \"abcdefghij\",t = \"j\") == 1\n    assert candidate(s = \"abcdabcdabcdabcdabcd\",t = \"abcd\") == 70\n    assert candidate(s = \"repeatedsequence\",t = \"seq\") == 1\n    assert candidate(s = \"aaaaaaaaaaaaaab\",t = \"aaab\") == 364\n    assert candidate(s = \"aabbaabbaabbaabbaabb\",t = \"aabb\") == 415\n    assert candidate(s = \"mixedcharacters\",t = \"mix\") == 1\n    assert candidate(s = \"abababababab\",t = \"ababab\") == 84\n    assert candidate(s = \"abcabcabcabc\",t = \"abcabc\") == 28\n    assert candidate(s = \"aaaaaaabbaaaaa\",t = \"aaaaaab\") == 14\n    assert candidate(s = \"abcabcabc\",t = \"abc\") == 10\n    assert candidate(s = \"abcdabcdabcd\",t = \"abca\") == 5\n    assert candidate(s = \"babgbagbabgbagbabgbag\",t = \"bagbag\") == 329\n    assert candidate(s = \"anappleperap\",t = \"ape\") == 10\n    assert candidate(s = \"zzzzzzzzzz\",t = \"zzz\") == 120\n    assert candidate(s = \"aaaaaaaaaa\",t = \"aaaaa\") == 252\n    assert candidate(s = \"abcdefghij\",t = \"af\") == 1\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\",t = \"abcabc\") == 3003\n    assert candidate(s = \"complexpattern\",t = \"comp\") == 2\n    assert candidate(s = \"abcdefghij\",t = \"a\") == 1\n    assert candidate(s = \"aabbaabbaabbaabbaabb\",t = \"aab\") == 190\n    assert candidate(s = \"abracadabraabracadabra\",t = \"abra\") == 103\n    assert candidate(s = \"leetcodeleetcodeleetcode\",t = \"leet\") == 51\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmnoonnpooqqrrssttuuvvwwxxyyzz\",t = \"abcxyz\") == 64\n    assert candidate(s = \"abcdefabcdefabcdef\",t = \"abcdef\") == 28\n    assert candidate(s = \"abcdefghij\",t = \"acegi\") == 1\n    assert candidate(s = \"pppppppppp\",t = \"pp\") == 45\n    assert candidate(s = \"hellohellohello\",t = \"hellohello\") == 17\n    assert candidate(s = \"abcdefghij\",t = \"aceg\") == 1\n    assert candidate(s = \"aabbccddeeffgg\",t = \"abcdefg\") == 128\n    assert candidate(s = \"hellohellohello\",t = \"he\") == 6\n    assert candidate(s = \"thisisaverylongstringthisisaverylongstring\",t = \"thisisaverylongstring\") == 73\n    assert candidate(s = \"subsequenceexample\",t = \"subseq\") == 1\n    assert candidate(s = \"abracadabra\",t = \"aca\") == 6\n    assert candidate(s = \"abcdeabcde\",t = \"abc\") == 4\n    assert candidate(s = \"aaaaabaaaabaaaab\",t = \"aaab\") == 380\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghij\",t = \"abcde\") == 21\n",
  "test_cases": [
    "assert candidate(s = \"abc\",t = \"abcd\") == 0",
    "assert candidate(s = \"abcd\",t = \"abcd\") == 1",
    "assert candidate(s = \"rabbbit\",t = \"rabbit\") == 3",
    "assert candidate(s = \"aaa\",t = \"a\") == 3",
    "assert candidate(s = \"\",t = \"abc\") == 0",
    "assert candidate(s = \"mississippi\",t = \"isip\") == 16",
    "assert candidate(s = \"aaaaa\",t = \"aa\") == 10",
    "assert candidate(s = \"abcde\",t = \"ae\") == 1",
    "assert candidate(s = \"abcde\",t = \"\") == 1",
    "assert candidate(s = \"abcd\",t = \"ab\") == 1",
    "assert candidate(s = \"a\",t = \"a\") == 1",
    "assert candidate(s = \"abcdabcabc\",t = \"abc\") == 10",
    "assert candidate(s = \"babgbag\",t = \"bag\") == 5",
    "assert candidate(s = \"abc\",t = \"abc\") == 1",
    "assert candidate(s = \"pppp\",t = \"p\") == 4",
    "assert candidate(s = \"abab\",t = \"aba\") == 1",
    "assert candidate(s = \"\",t = \"\") == 1",
    "assert candidate(s = \"leetcodeisgood\",t = \"code\") == 1",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",t = \"acegikmoqsuwy\") == 1",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\",t = \"zzz\") == 1140",
    "assert candidate(s = \"dynamicprogramming\",t = \"dpm\") == 2",
    "assert candidate(s = \"ababababab\",t = \"abab\") == 35",
    "assert candidate(s = \"abcdabcdabcd\",t = \"abcd\") == 15",
    "assert candidate(s = \"abcdabcdabcdabcd\",t = \"abcd\") == 35",
    "assert candidate(s = \"zzzzzzzzzz\",t = \"zzzz\") == 210",
    "assert candidate(s = \"aaaabbbbccccdddd\",t = \"abcd\") == 256",
    "assert candidate(s = \"abracadabra\",t = \"abrac\") == 1",
    "assert candidate(s = \"abcdefgabcdefgabcdefgabcdefgabcdefg\",t = \"abcdefg\") == 330",
    "assert candidate(s = \"abcabcabcabcabcabcabcabc\",t = \"abcabc\") == 924",
    "assert candidate(s = \"ababcabcabc\",t = \"abc\") == 19",
    "assert candidate(s = \"abcdefghikjlmnopqrstuvwxyz\",t = \"xyz\") == 1",
    "assert candidate(s = \"abcabcabcabc\",t = \"abc\") == 20",
    "assert candidate(s = \"abcbabc\",t = \"abc\") == 5",
    "assert candidate(s = \"xyzxyzxyz\",t = \"xyzyx\") == 1",
    "assert candidate(s = \"aabbbccc\",t = \"abc\") == 18",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",t = \"zzzzzzzzzz\") == 64512240",
    "assert candidate(s = \"xyzxyzxyzxyz\",t = \"xyz\") == 20",
    "assert candidate(s = \"aabbccddeeffgg\",t = \"aabbcc\") == 1",
    "assert candidate(s = \"abcdeabcdeabcde\",t = \"abc\") == 10",
    "assert candidate(s = \"xyzzxyzzxyzzxyzz\",t = \"xyz\") == 40",
    "assert candidate(s = \"xxyxyxyxyxyxyxyx\",t = \"xyx\") == 112",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",t = \"abc\") == 8",
    "assert candidate(s = \"xyxxyxyxyx\",t = \"xyx\") == 27",
    "assert candidate(s = \"mississippi\",t = \"issi\") == 15",
    "assert candidate(s = \"pneumonoultramicroscopicsilicovolcanoconiosis\",t = \"pneumo\") == 23",
    "assert candidate(s = \"pppppppppppp\",t = \"pppp\") == 495",
    "assert candidate(s = \"aaaaabaaaaabaabaaabaababab\",t = \"aab\") == 686",
    "assert candidate(s = \"abcdefg\",t = \"xyz\") == 0",
    "assert candidate(s = \"rabbbitrabbbitrabbbit\",t = \"rabbit\") == 126",
    "assert candidate(s = \"leetcodeleetcode\",t = \"leet\") == 12",
    "assert candidate(s = \"xyzxyzxyzxyz\",t = \"xyzxyz\") == 28",
    "assert candidate(s = \"abcdefghijk\",t = \"acegi\") == 1",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\",t = \"abcdefghijklmnopqrstuvwxyz\") == 67108864",
    "assert candidate(s = \"aabbccddeeffgg\",t = \"abcde\") == 32",
    "assert candidate(s = \"longerstringexample\",t = \"long\") == 3",
    "assert candidate(s = \"abracadabra\",t = \"abra\") == 9",
    "assert candidate(s = \"xxyyzzxxxyyzz\",t = \"xyxz\") == 24",
    "assert candidate(s = \"pppppppp\",t = \"pp\") == 28",
    "assert candidate(s = \"attatchmentattach\",t = \"attach\") == 32",
    "assert candidate(s = \"abcdefghijabcdefghij\",t = \"abcde\") == 6",
    "assert candidate(s = \"abcdabcdeabcdeabcd\",t = \"abcd\") == 35",
    "assert candidate(s = \"abcdefghij\",t = \"abcdefghijk\") == 0",
    "assert candidate(s = \"zzzzzzzzzz\",t = \"zz\") == 45",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",t = \"zzzzzzzzzz\") == 14782231840815648",
    "assert candidate(s = \"ppppppppp\",t = \"ppp\") == 84",
    "assert candidate(s = \"abcdefghij\",t = \"j\") == 1",
    "assert candidate(s = \"abcdabcdabcdabcdabcd\",t = \"abcd\") == 70",
    "assert candidate(s = \"repeatedsequence\",t = \"seq\") == 1",
    "assert candidate(s = \"aaaaaaaaaaaaaab\",t = \"aaab\") == 364",
    "assert candidate(s = \"aabbaabbaabbaabbaabb\",t = \"aabb\") == 415",
    "assert candidate(s = \"mixedcharacters\",t = \"mix\") == 1",
    "assert candidate(s = \"abababababab\",t = \"ababab\") == 84",
    "assert candidate(s = \"abcabcabcabc\",t = \"abcabc\") == 28",
    "assert candidate(s = \"aaaaaaabbaaaaa\",t = \"aaaaaab\") == 14",
    "assert candidate(s = \"abcabcabc\",t = \"abc\") == 10",
    "assert candidate(s = \"abcdabcdabcd\",t = \"abca\") == 5",
    "assert candidate(s = \"babgbagbabgbagbabgbag\",t = \"bagbag\") == 329",
    "assert candidate(s = \"anappleperap\",t = \"ape\") == 10",
    "assert candidate(s = \"zzzzzzzzzz\",t = \"zzz\") == 120",
    "assert candidate(s = \"aaaaaaaaaa\",t = \"aaaaa\") == 252",
    "assert candidate(s = \"abcdefghij\",t = \"af\") == 1",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\",t = \"abcabc\") == 3003",
    "assert candidate(s = \"complexpattern\",t = \"comp\") == 2",
    "assert candidate(s = \"abcdefghij\",t = \"a\") == 1",
    "assert candidate(s = \"aabbaabbaabbaabbaabb\",t = \"aab\") == 190",
    "assert candidate(s = \"abracadabraabracadabra\",t = \"abra\") == 103",
    "assert candidate(s = \"leetcodeleetcodeleetcode\",t = \"leet\") == 51",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmnoonnpooqqrrssttuuvvwwxxyyzz\",t = \"abcxyz\") == 64",
    "assert candidate(s = \"abcdefabcdefabcdef\",t = \"abcdef\") == 28",
    "assert candidate(s = \"abcdefghij\",t = \"acegi\") == 1",
    "assert candidate(s = \"pppppppppp\",t = \"pp\") == 45",
    "assert candidate(s = \"hellohellohello\",t = \"hellohello\") == 17",
    "assert candidate(s = \"abcdefghij\",t = \"aceg\") == 1",
    "assert candidate(s = \"aabbccddeeffgg\",t = \"abcdefg\") == 128",
    "assert candidate(s = \"hellohellohello\",t = \"he\") == 6",
    "assert candidate(s = \"thisisaverylongstringthisisaverylongstring\",t = \"thisisaverylongstring\") == 73",
    "assert candidate(s = \"subsequenceexample\",t = \"subseq\") == 1",
    "assert candidate(s = \"abracadabra\",t = \"aca\") == 6",
    "assert candidate(s = \"abcdeabcde\",t = \"abc\") == 4",
    "assert candidate(s = \"aaaaabaaaabaaaab\",t = \"aaab\") == 380",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghij\",t = \"abcde\") == 21"
  ]
}