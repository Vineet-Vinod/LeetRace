{
  "id": "total-appeal-of-a-string",
  "title": "Total Appeal Of A String",
  "difficulty": "Hard",
  "tags": [
    "Hash Table",
    "String",
    "Dynamic Programming"
  ],
  "description": "The appeal of a string is the number of distinct characters found in the string.\n\nFor example, the appeal of \"abbca\" is 3 because it has 3 distinct characters: 'a', 'b', and 'c'.\n\nGiven a string s, return the total appeal of all of its substrings.\nA substring is a contiguous sequence of characters within a string.\n\u00a0\nExample 1:\n\nInput: s = \"abbca\"\nOutput: 28\nExplanation: The following are the substrings of \"abbca\":\n- Substrings of length 1: \"a\", \"b\", \"b\", \"c\", \"a\" have an appeal of 1, 1, 1, 1, and 1 respectively. The sum is 5.\n- Substrings of length 2: \"ab\", \"bb\", \"bc\", \"ca\" have an appeal of 2, 1, 2, and 2 respectively. The sum is 7.\n- Substrings of length 3: \"abb\", \"bbc\", \"bca\" have an appeal of 2, 2, and 3 respectively. The sum is 7.\n- Substrings of length 4: \"abbc\", \"bbca\" have an appeal of 3 and 3 respectively. The sum is 6.\n- Substrings of length 5: \"abbca\" has an appeal of 3. The sum is 3.\nThe total sum is 5 + 7 + 7 + 6 + 3 = 28.\n\nExample 2:\n\nInput: s = \"code\"\nOutput: 20\nExplanation: The following are the substrings of \"code\":\n- Substrings of length 1: \"c\", \"o\", \"d\", \"e\" have an appeal of 1, 1, 1, and 1 respectively. The sum is 4.\n- Substrings of length 2: \"co\", \"od\", \"de\" have an appeal of 2, 2, and 2 respectively. The sum is 6.\n- Substrings of length 3: \"cod\", \"ode\" have an appeal of 3 and 3 respectively. The sum is 6.\n- Substrings of length 4: \"code\" has an appeal of 4. The sum is 4.\nThe total sum is 4 + 6 + 6 + 4 = 20.\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 105\ns consists of lowercase English letters.\n\n",
  "entry_point": "Solution().appealSum",
  "starter_code": "class Solution:\n    def appealSum(self, s: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == 3276\n    assert candidate(s = \"zzzaaa\") == 30\n    assert candidate(s = \"a\") == 1\n    assert candidate(s = \"abacabadabacaba\") == 357\n    assert candidate(s = \"abcabcabc\") == 109\n    assert candidate(s = \"abbca\") == 28\n    assert candidate(s = \"ababababab\") == 100\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == 210\n    assert candidate(s = \"aaa\") == 6\n    assert candidate(s = \"python\") == 56\n    assert candidate(s = \"abcabc\") == 46\n    assert candidate(s = \"world\") == 35\n    assert candidate(s = \"zzzzzzzzzz\") == 55\n    assert candidate(s = \"abcdabcdabcd\") == 244\n    assert candidate(s = \"xyzxyzxyzxyzxyzxyzxyzxyzxyzxyz\") == 1306\n    assert candidate(s = \"abc\") == 10\n    assert candidate(s = \"abcd\") == 20\n    assert candidate(s = \"aaaa\") == 10\n    assert candidate(s = \"hello\") == 29\n    assert candidate(s = \"mississippi\") == 148\n    assert candidate(s = \"zzzzz\") == 15\n    assert candidate(s = \"z\") == 1\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 13078\n    assert candidate(s = \"longstringwithvariouscharacters\") == 3921\n    assert candidate(s = \"code\") == 20\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 3276\n    assert candidate(s = \"xyzzxyzzxyzz\") == 191\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbbbccccccccccddddddddddeeeeeeeeeefffffffffgggggggggghhhhhhhhhh\") == 11380\n    assert candidate(s = \"abcdefg\") == 84\n    assert candidate(s = \"aabbccaaabbbccc\") == 274\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzz\") == 18730\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghijabcdefghij\") == 6520\n    assert candidate(s = \"bbaaccddeeffgg\") == 329\n    assert candidate(s = \"aabbaabbaabbccddeeefffggghhhiiijjjkkklllmnnnooopppqqqrrrsssttuuuuuuuuvvwxyz\") == 26940\n    assert candidate(s = \"abracadabra\") == 210\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\") == 1306\n    assert candidate(s = \"uniquecharacters\") == 677\n    assert candidate(s = \"aabbc\") == 25\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzz\") == 23011\n    assert candidate(s = \"aabbaabbaabbaabbaabbaabbaabbaabb\") == 1008\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbbbcccccccccc\") == 865\n    assert candidate(s = \"abacabadabacabadabacabadabacabad\") == 1838\n    assert candidate(s = \"ababababababababababababababa\") == 841\n    assert candidate(s = \"ninetyninebottlesofbeer\") == 1564\n    assert candidate(s = \"abcdabcdbcadbacdbac\") == 646\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\") == 1820\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabcdefghijklmnopqrstuvwxyz\") == 46306\n    assert candidate(s = \"xyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 5345\n    assert candidate(s = \"qwertyuiopasdfghjklzxcvbnm\") == 3276\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabc\") == 1054\n    assert candidate(s = \"abababababababab\") == 256\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 21528\n    assert candidate(s = \"xyxzyzyzyxzyxzyzyxzyxzyzyxzyxzyzyxzyxzyzyxzyxzyzyxzyxzyzyxz\") == 5105\n    assert candidate(s = \"hellohellohello\") == 377\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghij\") == 46120\n    assert candidate(s = \"banana\") == 40\n    assert candidate(s = \"hellohellobyebye\") == 513\n    assert candidate(s = \"pneumonoultramicroscopicsilicovolcanoconiosis\") == 8230\n    assert candidate(s = \"abacabadaba\") == 177\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 1378\n    assert candidate(s = \"thisisareallylongteststringwithmanydistinctcharactersandrepeatedones\") == 25027\n    assert candidate(s = \"thisisaverylongstringwithmanycopiesofthissubstringthissubstringthissubstring\") == 35609\n    assert candidate(s = \"xyxzyxyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyz\") == 2363\n    assert candidate(s = \"aaaaabbbbbccccc\") == 220\n    assert candidate(s = \"xyzzzyxzyzyzyxzyzyxzyzyzyzyxzyzyzyzyzyzyzyzyzyzyzyzyzyz\") == 4088\n    assert candidate(s = \"amazingappeal\") == 374\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 1275\n    assert candidate(s = \"aabbccaaaabbbccc\") == 309\n    assert candidate(s = \"abacabadabacabaabacabadabacaba\") == 1555\n",
  "test_cases": [
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\") == 3276",
    "assert candidate(s = \"zzzaaa\") == 30",
    "assert candidate(s = \"a\") == 1",
    "assert candidate(s = \"abacabadabacaba\") == 357",
    "assert candidate(s = \"abcabcabc\") == 109",
    "assert candidate(s = \"abbca\") == 28",
    "assert candidate(s = \"ababababab\") == 100",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == 210",
    "assert candidate(s = \"aaa\") == 6",
    "assert candidate(s = \"python\") == 56",
    "assert candidate(s = \"abcabc\") == 46",
    "assert candidate(s = \"world\") == 35",
    "assert candidate(s = \"zzzzzzzzzz\") == 55",
    "assert candidate(s = \"abcdabcdabcd\") == 244",
    "assert candidate(s = \"xyzxyzxyzxyzxyzxyzxyzxyzxyzxyz\") == 1306",
    "assert candidate(s = \"abc\") == 10",
    "assert candidate(s = \"abcd\") == 20",
    "assert candidate(s = \"aaaa\") == 10",
    "assert candidate(s = \"hello\") == 29",
    "assert candidate(s = \"mississippi\") == 148",
    "assert candidate(s = \"zzzzz\") == 15",
    "assert candidate(s = \"z\") == 1",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 13078",
    "assert candidate(s = \"longstringwithvariouscharacters\") == 3921",
    "assert candidate(s = \"code\") == 20",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 3276",
    "assert candidate(s = \"xyzzxyzzxyzz\") == 191",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbbbccccccccccddddddddddeeeeeeeeeefffffffffgggggggggghhhhhhhhhh\") == 11380",
    "assert candidate(s = \"abcdefg\") == 84",
    "assert candidate(s = \"aabbccaaabbbccc\") == 274",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzz\") == 18730",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghijabcdefghij\") == 6520",
    "assert candidate(s = \"bbaaccddeeffgg\") == 329",
    "assert candidate(s = \"aabbaabbaabbccddeeefffggghhhiiijjjkkklllmnnnooopppqqqrrrsssttuuuuuuuuvvwxyz\") == 26940",
    "assert candidate(s = \"abracadabra\") == 210",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\") == 1306",
    "assert candidate(s = \"uniquecharacters\") == 677",
    "assert candidate(s = \"aabbc\") == 25",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzz\") == 23011",
    "assert candidate(s = \"aabbaabbaabbaabbaabbaabbaabbaabb\") == 1008",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbbbcccccccccc\") == 865",
    "assert candidate(s = \"abacabadabacabadabacabadabacabad\") == 1838",
    "assert candidate(s = \"ababababababababababababababa\") == 841",
    "assert candidate(s = \"ninetyninebottlesofbeer\") == 1564",
    "assert candidate(s = \"abcdabcdbcadbacdbac\") == 646",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbbbccccccccccdddddddddd\") == 1820",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabcdefghijklmnopqrstuvwxyz\") == 46306",
    "assert candidate(s = \"xyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 5345",
    "assert candidate(s = \"qwertyuiopasdfghjklzxcvbnm\") == 3276",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabc\") == 1054",
    "assert candidate(s = \"abababababababab\") == 256",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz\") == 21528",
    "assert candidate(s = \"xyxzyzyzyxzyxzyzyxzyxzyzyxzyxzyzyxzyxzyzyxzyxzyzyxzyxzyzyxz\") == 5105",
    "assert candidate(s = \"hellohellohello\") == 377",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghijabcdefghij\") == 46120",
    "assert candidate(s = \"banana\") == 40",
    "assert candidate(s = \"hellohellobyebye\") == 513",
    "assert candidate(s = \"pneumonoultramicroscopicsilicovolcanoconiosis\") == 8230",
    "assert candidate(s = \"abacabadaba\") == 177",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 1378",
    "assert candidate(s = \"thisisareallylongteststringwithmanydistinctcharactersandrepeatedones\") == 25027",
    "assert candidate(s = \"thisisaverylongstringwithmanycopiesofthissubstringthissubstringthissubstring\") == 35609",
    "assert candidate(s = \"xyxzyxyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyzyz\") == 2363",
    "assert candidate(s = \"aaaaabbbbbccccc\") == 220",
    "assert candidate(s = \"xyzzzyxzyzyzyxzyzyxzyzyzyzyxzyzyzyzyzyzyzyzyzyzyzyzyzyz\") == 4088",
    "assert candidate(s = \"amazingappeal\") == 374",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 1275",
    "assert candidate(s = \"aabbccaaaabbbccc\") == 309",
    "assert candidate(s = \"abacabadabacabaabacabadabacaba\") == 1555"
  ]
}