{
  "id": "longest-palindromic-subsequence-ii",
  "title": "Longest Palindromic Subsequence Ii",
  "difficulty": "Medium",
  "tags": [
    "String",
    "Dynamic Programming"
  ],
  "description": "A subsequence of a string s is considered a good palindromic subsequence if:\n\nIt is a subsequence of s.\nIt is a palindrome (has the same value if reversed).\nIt has an even length.\nNo two consecutive characters are equal, except the two middle ones.\n\nFor example, if s = \"abcabcabb\", then \"abba\" is considered a good palindromic subsequence, while \"bcb\" (not even length) and \"bbbb\" (has equal consecutive characters) are not.\nGiven a string s, return the length of the longest good palindromic subsequence in s.\n\u00a0\nExample 1:\n\nInput: s = \"bbabab\"\nOutput: 4\nExplanation: The longest good palindromic subsequence of s is \"baab\".\n\nExample 2:\n\nInput: s = \"dcbccacdb\"\nOutput: 4\nExplanation: The longest good palindromic subsequence of s is \"dccd\".\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 250\ns consists of lowercase English letters.\n\n",
  "entry_point": "Solution().longestPalindromeSubseq",
  "starter_code": "class Solution:\n    def longestPalindromeSubseq(self, s: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"pqrspqrspqr\") == 4\n    assert candidate(s = \"aabbaa\") == 4\n    assert candidate(s = \"abcdcba\") == 6\n    assert candidate(s = \"noonappa\") == 4\n    assert candidate(s = \"abcdedcba\") == 8\n    assert candidate(s = \"abababab\") == 6\n    assert candidate(s = \"mamad\") == 2\n    assert candidate(s = \"dcbccacdb\") == 4\n    assert candidate(s = \"a\") == 0\n    assert candidate(s = \"aabbbccc\") == 2\n    assert candidate(s = \"abacdfgdcaba\") == 10\n    assert candidate(s = \"aa\") == 2\n    assert candidate(s = \"nnnnaaaaammmm\") == 2\n    assert candidate(s = \"racecar\") == 6\n    assert candidate(s = \"abcdefghihgfedcba\") == 16\n    assert candidate(s = \"aabb\") == 2\n    assert candidate(s = \"zzzzzzzzzz\") == 2\n    assert candidate(s = \"noon\") == 4\n    assert candidate(s = \"abcdabcdabcd\") == 4\n    assert candidate(s = \"banana\") == 4\n    assert candidate(s = \"zyxzyxzyx\") == 4\n    assert candidate(s = \"deeee\") == 2\n    assert candidate(s = \"ababa\") == 4\n    assert candidate(s = \"abcabcabb\") == 4\n    assert candidate(s = \"aabbccddeeffgg\") == 2\n    assert candidate(s = \"abccba\") == 6\n    assert candidate(s = \"aaaa\") == 2\n    assert candidate(s = \"aabbccddeeff\") == 2\n    assert candidate(s = \"zzazzazz\") == 6\n    assert candidate(s = \"mississippi\") == 4\n    assert candidate(s = \"abbabbaaabbaabbbbabbbbaaaabbbaabbabbabbabbababaabaaaabbbaabbabbabbabbababaabaaaabbbbaabbabbabbabbbbaabbabbabbabbbbaabbabbaaabbaabbbbabbbbaaaabbbaabbabbabbabbababaabaaaabbbaabbabbabbabbababaabaaaabbbbaabbabbabbabbbbaabbabbabbabbababaabaaaabbbaabbabbabbabbababaabaaaa\") == 144\n    assert candidate(s = \"abcdefedcba\") == 10\n    assert candidate(s = \"zzzzzzzz\") == 2\n    assert candidate(s = \"aabbccdd\") == 2\n    assert candidate(s = \"level\") == 4\n    assert candidate(s = \"bbabab\") == 4\n    assert candidate(s = \"zzzxxzzz\") == 4\n    assert candidate(s = \"abcdefg\") == 0\n    assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiii\") == 2\n    assert candidate(s = \"aabaaabaa\") == 6\n    assert candidate(s = \"aabbccddeeffaabbccddeeffaabbccddeeff\") == 6\n    assert candidate(s = \"aaaaabaaaabaaaa\") == 6\n    assert candidate(s = \"zzzzzyyyyyxxxxxwwwwwvvvvvuuuuutttttssssssrrrrqqqqpppplllloooonnnnmmmmmllllkkkkjjjjihhhhhgggggfffffeeee\") == 4\n    assert candidate(s = \"abracadabra\") == 6\n    assert candidate(s = \"abacabacabacabacabacabacabacabacabacabacabacabacaba\") == 50\n    assert candidate(s = \"abcdefghijjiabcdefghij\") == 6\n    assert candidate(s = \"aabbccddeeffggffeeddccbaaabbccddeeffgg\") == 14\n    assert candidate(s = \"deifiedcivicdeified\") == 18\n    assert candidate(s = \"noonnoon\") == 6\n    assert candidate(s = \"abcdefghihgfedcbaabcdefghihgfedcba\") == 34\n    assert candidate(s = \"abacabadabacabad\") == 14\n    assert candidate(s = \"abcdcbe\") == 4\n    assert candidate(s = \"abcdabcdeedcbadcb\") == 16\n    assert candidate(s = \"aabbaabbaabbaabb\") == 8\n    assert candidate(s = \"abcddcbaabcddcbaabcddcba\") == 20\n    assert candidate(s = \"abacdedcabacdedcab\") == 16\n    assert candidate(s = \"zxcvbnmlkjihgfedcba\") == 2\n    assert candidate(s = \"abbaabbaabbaabba\") == 10\n    assert candidate(s = \"zzzzyzzzzyzzzzyzzzzyzzzzyzzzz\") == 10\n    assert candidate(s = \"abcdeffdcba\") == 10\n    assert candidate(s = \"ababcbababcba\") == 10\n    assert candidate(s = \"mnonopqponomn\") == 10\n    assert candidate(s = \"aabbccddeeefffgghhiiijjjkkklllmmmnnooppqqrrssttuuvvwwxxyyzz\") == 2\n    assert candidate(s = \"abababababababab\") == 14\n    assert candidate(s = \"abcdeedcba\") == 10\n    assert candidate(s = \"abababababa\") == 10\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == 52\n    assert candidate(s = \"abacaxb\") == 4\n    assert candidate(s = \"xyzzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyx\") == 40\n    assert candidate(s = \"ababababababababab\") == 16\n    assert candidate(s = \"abcabcabcabcabcabc\") == 10\n    assert candidate(s = \"xzyyzxzyyzxzyyz\") == 12\n    assert candidate(s = \"aabbccddeeffgghhii\") == 2\n    assert candidate(s = \"aaaaabaaaabaaaabaaaa\") == 6\n    assert candidate(s = \"abcdeffedcba\") == 12\n    assert candidate(s = \"abcdabcdabcdabcd\") == 6\n    assert candidate(s = \"mnopqponmlkjihgfedcba\") == 8\n    assert candidate(s = \"racecarlevelracecar\") == 18\n    assert candidate(s = \"aabbbaaabbbaaabbbaaabbb\") == 8\n    assert candidate(s = \"abcdefghijjihgfedcba\") == 20\n    assert candidate(s = \"abcdabcdabcdabcdabcd\") == 8\n    assert candidate(s = \"abacabacabacab\") == 12\n    assert candidate(s = \"aabbccddccbaa\") == 8\n    assert candidate(s = \"abababababababababab\") == 18\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 2\n    assert candidate(s = \"abacabadabacaba\") == 14\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == 2\n    assert candidate(s = \"abcdabcdeabcd\") == 4\n    assert candidate(s = \"abcaabcdccba\") == 8\n    assert candidate(s = \"abcdeedcbafgfedcba\") == 12\n    assert candidate(s = \"abcdefgfedcba\") == 12\n    assert candidate(s = \"abcdeedcbabcdeedcb\") == 14\n    assert candidate(s = \"ababccba\") == 6\n    assert candidate(s = \"aaaabbbbccccddddeeeeaabbccddeeff\") == 4\n    assert candidate(s = \"zzyzzyzzyzzyzzyz\") == 10\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 2\n    assert candidate(s = \"abcdedcbafedcba\") == 10\n    assert candidate(s = \"abacbacbacbacbacbacb\") == 12\n    assert candidate(s = \"abcdefgihgfedcbaz\") == 14\n    assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 0\n    assert candidate(s = \"aabbccddeeffaabbccddeeff\") == 4\n    assert candidate(s = \"abacabadabacabadabacabad\") == 22\n    assert candidate(s = \"ababcbabcbabcbab\") == 14\n    assert candidate(s = \"abcaaacba\") == 8\n    assert candidate(s = \"abcbaeabcba\") == 10\n    assert candidate(s = \"aabbaaabbbaaaabbaaabbbaaaabbaa\") == 12\n    assert candidate(s = \"noonhighnoon\") == 8\n    assert candidate(s = \"abcdefghijkllkjihgfedcba\") == 24\n    assert candidate(s = \"zxyzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxz\") == 46\n    assert candidate(s = \"aabbaabbccddeeffaabbccddeeff\") == 6\n    assert candidate(s = \"zzzzyyyyxxxxwwwwvvvuuuutttsssrqqppoonnmmllkkjjiihhggffeeddccbbaa\") == 2\n    assert candidate(s = \"abababababababababababab\") == 22\n    assert candidate(s = \"abcdefghihgfedcbaghfedcba\") == 16\n    assert candidate(s = \"ababababab\") == 8\n    assert candidate(s = \"abcddcba\") == 8\n    assert candidate(s = \"xyzzyxzyxzyxzyxyzzyx\") == 14\n    assert candidate(s = \"xyzzyxzyzyx\") == 8\n    assert candidate(s = \"aabbccddeeaabbccddee\") == 4\n    assert candidate(s = \"abcabcabcabcabc\") == 8\n    assert candidate(s = \"refercivicrefer\") == 14\n    assert candidate(s = \"mnopqrstuvutsrqponmlkjihgfedcbaedcba\") == 18\n",
  "test_cases": [
    "assert candidate(s = \"pqrspqrspqr\") == 4",
    "assert candidate(s = \"aabbaa\") == 4",
    "assert candidate(s = \"abcdcba\") == 6",
    "assert candidate(s = \"noonappa\") == 4",
    "assert candidate(s = \"abcdedcba\") == 8",
    "assert candidate(s = \"abababab\") == 6",
    "assert candidate(s = \"mamad\") == 2",
    "assert candidate(s = \"dcbccacdb\") == 4",
    "assert candidate(s = \"a\") == 0",
    "assert candidate(s = \"aabbbccc\") == 2",
    "assert candidate(s = \"abacdfgdcaba\") == 10",
    "assert candidate(s = \"aa\") == 2",
    "assert candidate(s = \"nnnnaaaaammmm\") == 2",
    "assert candidate(s = \"racecar\") == 6",
    "assert candidate(s = \"abcdefghihgfedcba\") == 16",
    "assert candidate(s = \"aabb\") == 2",
    "assert candidate(s = \"zzzzzzzzzz\") == 2",
    "assert candidate(s = \"noon\") == 4",
    "assert candidate(s = \"abcdabcdabcd\") == 4",
    "assert candidate(s = \"banana\") == 4",
    "assert candidate(s = \"zyxzyxzyx\") == 4",
    "assert candidate(s = \"deeee\") == 2",
    "assert candidate(s = \"ababa\") == 4",
    "assert candidate(s = \"abcabcabb\") == 4",
    "assert candidate(s = \"aabbccddeeffgg\") == 2",
    "assert candidate(s = \"abccba\") == 6",
    "assert candidate(s = \"aaaa\") == 2",
    "assert candidate(s = \"aabbccddeeff\") == 2",
    "assert candidate(s = \"zzazzazz\") == 6",
    "assert candidate(s = \"mississippi\") == 4",
    "assert candidate(s = \"abbabbaaabbaabbbbabbbbaaaabbbaabbabbabbabbababaabaaaabbbaabbabbabbabbababaabaaaabbbbaabbabbabbabbbbaabbabbabbabbbbaabbabbaaabbaabbbbabbbbaaaabbbaabbabbabbabbababaabaaaabbbaabbabbabbabbababaabaaaabbbbaabbabbabbabbbbaabbabbabbabbababaabaaaabbbaabbabbabbabbababaabaaaa\") == 144",
    "assert candidate(s = \"abcdefedcba\") == 10",
    "assert candidate(s = \"zzzzzzzz\") == 2",
    "assert candidate(s = \"aabbccdd\") == 2",
    "assert candidate(s = \"level\") == 4",
    "assert candidate(s = \"bbabab\") == 4",
    "assert candidate(s = \"zzzxxzzz\") == 4",
    "assert candidate(s = \"abcdefg\") == 0",
    "assert candidate(s = \"aaaabbbbccccddddeeeeffffgggghhhhiiii\") == 2",
    "assert candidate(s = \"aabaaabaa\") == 6",
    "assert candidate(s = \"aabbccddeeffaabbccddeeffaabbccddeeff\") == 6",
    "assert candidate(s = \"aaaaabaaaabaaaa\") == 6",
    "assert candidate(s = \"zzzzzyyyyyxxxxxwwwwwvvvvvuuuuutttttssssssrrrrqqqqpppplllloooonnnnmmmmmllllkkkkjjjjihhhhhgggggfffffeeee\") == 4",
    "assert candidate(s = \"abracadabra\") == 6",
    "assert candidate(s = \"abacabacabacabacabacabacabacabacabacabacabacabacaba\") == 50",
    "assert candidate(s = \"abcdefghijjiabcdefghij\") == 6",
    "assert candidate(s = \"aabbccddeeffggffeeddccbaaabbccddeeffgg\") == 14",
    "assert candidate(s = \"deifiedcivicdeified\") == 18",
    "assert candidate(s = \"noonnoon\") == 6",
    "assert candidate(s = \"abcdefghihgfedcbaabcdefghihgfedcba\") == 34",
    "assert candidate(s = \"abacabadabacabad\") == 14",
    "assert candidate(s = \"abcdcbe\") == 4",
    "assert candidate(s = \"abcdabcdeedcbadcb\") == 16",
    "assert candidate(s = \"aabbaabbaabbaabb\") == 8",
    "assert candidate(s = \"abcddcbaabcddcbaabcddcba\") == 20",
    "assert candidate(s = \"abacdedcabacdedcab\") == 16",
    "assert candidate(s = \"zxcvbnmlkjihgfedcba\") == 2",
    "assert candidate(s = \"abbaabbaabbaabba\") == 10",
    "assert candidate(s = \"zzzzyzzzzyzzzzyzzzzyzzzzyzzzz\") == 10",
    "assert candidate(s = \"abcdeffdcba\") == 10",
    "assert candidate(s = \"ababcbababcba\") == 10",
    "assert candidate(s = \"mnonopqponomn\") == 10",
    "assert candidate(s = \"aabbccddeeefffgghhiiijjjkkklllmmmnnooppqqrrssttuuvvwwxxyyzz\") == 2",
    "assert candidate(s = \"abababababababab\") == 14",
    "assert candidate(s = \"abcdeedcba\") == 10",
    "assert candidate(s = \"abababababa\") == 10",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzzyxwvutsrqponmlkjihgfedcba\") == 52",
    "assert candidate(s = \"abacaxb\") == 4",
    "assert candidate(s = \"xyzzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyxzyzyx\") == 40",
    "assert candidate(s = \"ababababababababab\") == 16",
    "assert candidate(s = \"abcabcabcabcabcabc\") == 10",
    "assert candidate(s = \"xzyyzxzyyzxzyyz\") == 12",
    "assert candidate(s = \"aabbccddeeffgghhii\") == 2",
    "assert candidate(s = \"aaaaabaaaabaaaabaaaa\") == 6",
    "assert candidate(s = \"abcdeffedcba\") == 12",
    "assert candidate(s = \"abcdabcdabcdabcd\") == 6",
    "assert candidate(s = \"mnopqponmlkjihgfedcba\") == 8",
    "assert candidate(s = \"racecarlevelracecar\") == 18",
    "assert candidate(s = \"aabbbaaabbbaaabbbaaabbb\") == 8",
    "assert candidate(s = \"abcdefghijjihgfedcba\") == 20",
    "assert candidate(s = \"abcdabcdabcdabcdabcd\") == 8",
    "assert candidate(s = \"abacabacabacab\") == 12",
    "assert candidate(s = \"aabbccddccbaa\") == 8",
    "assert candidate(s = \"abababababababababab\") == 18",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\") == 2",
    "assert candidate(s = \"abacabadabacaba\") == 14",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzz\") == 2",
    "assert candidate(s = \"abcdabcdeabcd\") == 4",
    "assert candidate(s = \"abcaabcdccba\") == 8",
    "assert candidate(s = \"abcdeedcbafgfedcba\") == 12",
    "assert candidate(s = \"abcdefgfedcba\") == 12",
    "assert candidate(s = \"abcdeedcbabcdeedcb\") == 14",
    "assert candidate(s = \"ababccba\") == 6",
    "assert candidate(s = \"aaaabbbbccccddddeeeeaabbccddeeff\") == 4",
    "assert candidate(s = \"zzyzzyzzyzzyzzyz\") == 10",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz\") == 2",
    "assert candidate(s = \"abcdedcbafedcba\") == 10",
    "assert candidate(s = \"abacbacbacbacbacbacb\") == 12",
    "assert candidate(s = \"abcdefgihgfedcbaz\") == 14",
    "assert candidate(s = \"zyxwvutsrqponmlkjihgfedcba\") == 0",
    "assert candidate(s = \"aabbccddeeffaabbccddeeff\") == 4",
    "assert candidate(s = \"abacabadabacabadabacabad\") == 22",
    "assert candidate(s = \"ababcbabcbabcbab\") == 14",
    "assert candidate(s = \"abcaaacba\") == 8",
    "assert candidate(s = \"abcbaeabcba\") == 10",
    "assert candidate(s = \"aabbaaabbbaaaabbaaabbbaaaabbaa\") == 12",
    "assert candidate(s = \"noonhighnoon\") == 8",
    "assert candidate(s = \"abcdefghijkllkjihgfedcba\") == 24",
    "assert candidate(s = \"zxyzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxzyxz\") == 46",
    "assert candidate(s = \"aabbaabbccddeeffaabbccddeeff\") == 6",
    "assert candidate(s = \"zzzzyyyyxxxxwwwwvvvuuuutttsssrqqppoonnmmllkkjjiihhggffeeddccbbaa\") == 2",
    "assert candidate(s = \"abababababababababababab\") == 22",
    "assert candidate(s = \"abcdefghihgfedcbaghfedcba\") == 16",
    "assert candidate(s = \"ababababab\") == 8",
    "assert candidate(s = \"abcddcba\") == 8",
    "assert candidate(s = \"xyzzyxzyxzyxzyxyzzyx\") == 14",
    "assert candidate(s = \"xyzzyxzyzyx\") == 8",
    "assert candidate(s = \"aabbccddeeaabbccddee\") == 4",
    "assert candidate(s = \"abcabcabcabcabc\") == 8",
    "assert candidate(s = \"refercivicrefer\") == 14",
    "assert candidate(s = \"mnopqrstuvutsrqponmlkjihgfedcbaedcba\") == 18"
  ]
}