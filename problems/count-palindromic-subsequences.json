{
  "id": "count-palindromic-subsequences",
  "title": "Count Palindromic Subsequences",
  "difficulty": "Hard",
  "tags": [
    "String",
    "Dynamic Programming"
  ],
  "description": "Given a string of digits s, return the number of palindromic subsequences of s having length 5. Since the answer may be very large, return it modulo 109 + 7.\nNote:\n\nA string is palindromic if it reads the same forward and backward.\nA subsequence is a string that can be derived from another string by deleting some or no characters without changing the order of the remaining characters.\n\n\u00a0\nExample 1:\n\nInput: s = \"103301\"\nOutput: 2\nExplanation: \nThere are 6 possible subsequences of length 5: \"10330\",\"10331\",\"10301\",\"10301\",\"13301\",\"03301\". \nTwo of them (both equal to \"10301\") are palindromic.\n\nExample 2:\n\nInput: s = \"0000000\"\nOutput: 21\nExplanation: All 21 subsequences are \"00000\", which is palindromic.\n\nExample 3:\n\nInput: s = \"9999900000\"\nOutput: 2\nExplanation: The only two palindromic subsequences are \"99999\" and \"00000\".\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 104\ns consists of digits.\n\n",
  "entry_point": "Solution().countPalindromes",
  "starter_code": "class Solution:\n    def countPalindromes(self, s: str) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"100100100\") == 34\n    assert candidate(s = \"9876543210\") == 0\n    assert candidate(s = \"54321012345\") == 30\n    assert candidate(s = \"12345678900987654321\") == 240\n    assert candidate(s = \"00000000000000000000\") == 15504\n    assert candidate(s = \"122112211\") == 33\n    assert candidate(s = \"1234567890\") == 0\n    assert candidate(s = \"123454321\") == 14\n    assert candidate(s = \"0000000\") == 21\n    assert candidate(s = \"103301\") == 2\n    assert candidate(s = \"98765432100123456789\") == 240\n    assert candidate(s = \"1234321234321\") == 109\n    assert candidate(s = \"1111111111\") == 252\n    assert candidate(s = \"0123456789\") == 0\n    assert candidate(s = \"012343210\") == 14\n    assert candidate(s = \"1232123212\") == 39\n    assert candidate(s = \"1001001001\") == 80\n    assert candidate(s = \"5555555555\") == 252\n    assert candidate(s = \"1010101010\") == 68\n    assert candidate(s = \"1221221221\") == 80\n    assert candidate(s = \"1234567890987654321\") == 204\n    assert candidate(s = \"0101010101\") == 68\n    assert candidate(s = \"1212121212\") == 68\n    assert candidate(s = \"9999900000\") == 2\n    assert candidate(s = \"000000111111000000\") == 2868\n    assert candidate(s = \"123454321123454321\") == 364\n    assert candidate(s = \"1234567898765432123456789876543212345678987654321\") == 24502\n    assert candidate(s = \"22233322233322233322\") == 3990\n    assert candidate(s = \"54321098765432109876543210987654321054321\") == 7758\n    assert candidate(s = \"1122334455667788998877665544332211\") == 5056\n    assert candidate(s = \"98765432112345678998765432100\") == 672\n    assert candidate(s = \"89098098098098098098\") == 1848\n    assert candidate(s = \"12345678901234567890123456789012345678901234567890\") == 18100\n    assert candidate(s = \"1232123212321232123212321\") == 7180\n    assert candidate(s = \"12345543211234554321\") == 580\n    assert candidate(s = \"12345123451234512345123451234512345\") == 12425\n    assert candidate(s = \"10101010101010101010101010\") == 16588\n    assert candidate(s = \"987654321012345678909876543210123456789\") == 5433\n    assert candidate(s = \"90123456789012345678901234567890123456789\") == 6346\n    assert candidate(s = \"010101010101010101\") == 2184\n    assert candidate(s = \"098765432109876543210987654321098765432109876543210\") == 21210\n    assert candidate(s = \"1234567898765432121234567898765432121\") == 5455\n    assert candidate(s = \"112233445544332211\") == 576\n    assert candidate(s = \"987654321000123456789\") == 285\n    assert candidate(s = \"987654321000000000000000000000000000000009876543210\") == 281976\n    assert candidate(s = \"987654321098765432109876543210987654321098765432109876543210\") == 49200\n    assert candidate(s = \"1122334455443322112233445544332211\") == 12024\n    assert candidate(s = \"0000011111222223333344444555554444433333222221111100000\") == 138761\n    assert candidate(s = \"987654321123456789876543210011223344556677889987654321\") == 31546\n    assert candidate(s = \"98765432101234567898\") == 253\n    assert candidate(s = \"10101010101010101010101\") == 8701\n    assert candidate(s = \"5555555555555555555555555555555555555555\") == 658008\n    assert candidate(s = \"01020304050607080901\") == 918\n    assert candidate(s = \"123456789098765432101234567890\") == 978\n    assert candidate(s = \"123456789000000000987654321\") == 1374\n    assert candidate(s = \"1234567890123456789012345678901234567890\") == 5040\n    assert candidate(s = \"000111222333444555444333222111000\") == 9840\n    assert candidate(s = \"999888777666555444333222111000\") == 0\n    assert candidate(s = \"99999000001111122222333334444455555444443333322222111110000099999\") == 237888\n    assert candidate(s = \"11223344556677889900998877665544332211\") == 7266\n    assert candidate(s = \"111111111111111111111111111111111111111111111111111\") == 2349060\n    assert candidate(s = \"00000100001000010000100000\") == 37118\n    assert candidate(s = \"111000111000111000111000111000111\") == 61584\n    assert candidate(s = \"99999888887777766666555554444433333222221111100000\") == 10\n    assert candidate(s = \"9876543210012345678998765432100123456789\") == 5910\n    assert candidate(s = \"1234567898765432112345678987654321\") == 3320\n    assert candidate(s = \"12211221122112211\") == 1574\n    assert candidate(s = \"543210000012345\") == 121\n    assert candidate(s = \"12211221122112211221\") == 3916\n    assert candidate(s = \"67890098766789009876\") == 580\n    assert candidate(s = \"9876543210987654321098765432109876543210\") == 5040\n    assert candidate(s = \"1111100000111110000011111000001111100000\") == 146008\n    assert candidate(s = \"98765432101234567899876543210123456789\") == 4794\n    assert candidate(s = \"00000111110000011111\") == 2004\n    assert candidate(s = \"101010101010101010101010101010101010101010101010101010101010101010101010\") == 3501456\n    assert candidate(s = \"111222333222111222333\") == 1470\n    assert candidate(s = \"00000000001111111111000000000\") == 38880\n    assert candidate(s = \"111110000000000000000000000000000000000000000000000\") == 1370755\n    assert candidate(s = \"123456789876543210123456789\") == 624\n    assert candidate(s = \"1234543216789876123454321\") == 942\n    assert candidate(s = \"9876543210012345678998765432100123456789987654321\") == 17193\n    assert candidate(s = \"11001100110011001100\") == 3656\n    assert candidate(s = \"11100011100011100011\") == 3990\n    assert candidate(s = \"99999000009999900000\") == 2004\n    assert candidate(s = \"10010010010010010010\") == 4535\n    assert candidate(s = \"11112222333322221111\") == 2736\n    assert candidate(s = \"1232112321123211232112321123211232112321\") == 85128\n    assert candidate(s = \"987654321987654321987654321\") == 576\n    assert candidate(s = \"121212121212121212121212121212121212121212121212\") == 429088\n    assert candidate(s = \"12345678909876543211234567890987654321\") == 4794\n    assert candidate(s = \"1221122112211\") == 331\n    assert candidate(s = \"99999888887777766666\") == 4\n    assert candidate(s = \"123456789012345678901234567890123456789012345678901234567890\") == 49200\n    assert candidate(s = \"111222333444555444333222111\") == 4974\n    assert candidate(s = \"123454321123454321123454321\") == 3470\n    assert candidate(s = \"0123456789876543210123456789876543210\") == 4385\n    assert candidate(s = \"99999999999999999\") == 6188\n    assert candidate(s = \"567899876567899876\") == 324\n    assert candidate(s = \"000111222333444555666777888999888777666555444333222111000\") == 58374\n    assert candidate(s = \"001122334455667788990000000000000000000000000000\") == 149310\n    assert candidate(s = \"555555555555555555555555555\") == 80730\n    assert candidate(s = \"1232123212321232123212321232123212321232\") == 91158\n    assert candidate(s = \"543210123456789876543210\") == 399\n    assert candidate(s = \"123211232112321123211232112321\") == 18456\n    assert candidate(s = \"123456789098765432101234567890987654321\") == 5433\n    assert candidate(s = \"90909090909090909090\") == 3936\n    assert candidate(s = \"000011110000111100001111\") == 8368\n    assert candidate(s = \"12345678909876543210\") == 204\n    assert candidate(s = \"10101010101010101010101010101010101010101\") == 189202\n    assert candidate(s = \"123456789098765432121234567890\") == 995\n    assert candidate(s = \"987654321012345678987654321\") == 624\n    assert candidate(s = \"10101010101010101\") == 1652\n    assert candidate(s = \"0000000000111111111122222222223333333333\") == 1008\n    assert candidate(s = \"11223344556677889998877665544332211\") == 5544\n    assert candidate(s = \"55555555555555555555\") == 15504\n    assert candidate(s = \"123456789987654321123456789\") == 672\n    assert candidate(s = \"123321123321123321\") == 946\n    assert candidate(s = \"10101010101010101010101010101010\") == 50624\n    assert candidate(s = \"1001001001001001001001001\") == 15330\n    assert candidate(s = \"01234567899876543210\") == 240\n    assert candidate(s = \"123456789876543210000000000000000000\") == 11768\n    assert candidate(s = \"1111222233334444555566667777888899990000\") == 0\n    assert candidate(s = \"12345678987654321012345678987654321\") == 3568\n    assert candidate(s = \"54321234554321234554\") == 698\n    assert candidate(s = \"999999000000999999000000999999000000999999\") == 227796\n    assert candidate(s = \"12345678900987654321001234567890\") == 1528\n    assert candidate(s = \"90807060505060708090\") == 1254\n    assert candidate(s = \"123454321123454321123454321123454321\") == 16368\n    assert candidate(s = \"0123456789876543210123456789\") == 688\n    assert candidate(s = \"98765432101020304050607080908070605040302010\") == 33248\n    assert candidate(s = \"12345432112345432112\") == 698\n    assert candidate(s = \"1001001001001001001001001001001001001001001001001\") == 564020\n    assert candidate(s = \"00112233445566778899\") == 0\n    assert candidate(s = \"987654321000000000000000000000000000123456789\") == 108195\n    assert candidate(s = \"34554334554334554334\") == 1720\n    assert candidate(s = \"100000000000000000000000000000000000000001\") == 667888\n    assert candidate(s = \"1234567890098765432112345678900987654321\") == 5910\n    assert candidate(s = \"01010101010101010101\") == 3936\n    assert candidate(s = \"12345678900987654321000123456789\") == 1645\n    assert candidate(s = \"00000111112222233333444445555566666777778888899999\") == 10\n    assert candidate(s = \"010101010101010\") == 819\n    assert candidate(s = \"10101010101010101010\") == 3936\n    assert candidate(s = \"12345678901234567890123456789012345678901234567890123456789\") == 46090\n    assert candidate(s = \"9876543210012345678909876543210\") == 1230\n    assert candidate(s = \"54321098765432109876543210987654321\") == 2925\n    assert candidate(s = \"000000000000000000000000000000000000000000000000001\") == 2118760\n    assert candidate(s = \"111222333444555666777888999000999888777666555444333222111\") == 58374\n    assert candidate(s = \"0123456789876543210\") == 204\n    assert candidate(s = \"20202020202020202020\") == 3936\n",
  "test_cases": [
    "assert candidate(s = \"100100100\") == 34",
    "assert candidate(s = \"9876543210\") == 0",
    "assert candidate(s = \"54321012345\") == 30",
    "assert candidate(s = \"12345678900987654321\") == 240",
    "assert candidate(s = \"00000000000000000000\") == 15504",
    "assert candidate(s = \"122112211\") == 33",
    "assert candidate(s = \"1234567890\") == 0",
    "assert candidate(s = \"123454321\") == 14",
    "assert candidate(s = \"0000000\") == 21",
    "assert candidate(s = \"103301\") == 2",
    "assert candidate(s = \"98765432100123456789\") == 240",
    "assert candidate(s = \"1234321234321\") == 109",
    "assert candidate(s = \"1111111111\") == 252",
    "assert candidate(s = \"0123456789\") == 0",
    "assert candidate(s = \"012343210\") == 14",
    "assert candidate(s = \"1232123212\") == 39",
    "assert candidate(s = \"1001001001\") == 80",
    "assert candidate(s = \"5555555555\") == 252",
    "assert candidate(s = \"1010101010\") == 68",
    "assert candidate(s = \"1221221221\") == 80",
    "assert candidate(s = \"1234567890987654321\") == 204",
    "assert candidate(s = \"0101010101\") == 68",
    "assert candidate(s = \"1212121212\") == 68",
    "assert candidate(s = \"9999900000\") == 2",
    "assert candidate(s = \"000000111111000000\") == 2868",
    "assert candidate(s = \"123454321123454321\") == 364",
    "assert candidate(s = \"1234567898765432123456789876543212345678987654321\") == 24502",
    "assert candidate(s = \"22233322233322233322\") == 3990",
    "assert candidate(s = \"54321098765432109876543210987654321054321\") == 7758",
    "assert candidate(s = \"1122334455667788998877665544332211\") == 5056",
    "assert candidate(s = \"98765432112345678998765432100\") == 672",
    "assert candidate(s = \"89098098098098098098\") == 1848",
    "assert candidate(s = \"12345678901234567890123456789012345678901234567890\") == 18100",
    "assert candidate(s = \"1232123212321232123212321\") == 7180",
    "assert candidate(s = \"12345543211234554321\") == 580",
    "assert candidate(s = \"12345123451234512345123451234512345\") == 12425",
    "assert candidate(s = \"10101010101010101010101010\") == 16588",
    "assert candidate(s = \"987654321012345678909876543210123456789\") == 5433",
    "assert candidate(s = \"90123456789012345678901234567890123456789\") == 6346",
    "assert candidate(s = \"010101010101010101\") == 2184",
    "assert candidate(s = \"098765432109876543210987654321098765432109876543210\") == 21210",
    "assert candidate(s = \"1234567898765432121234567898765432121\") == 5455",
    "assert candidate(s = \"112233445544332211\") == 576",
    "assert candidate(s = \"987654321000123456789\") == 285",
    "assert candidate(s = \"987654321000000000000000000000000000000009876543210\") == 281976",
    "assert candidate(s = \"987654321098765432109876543210987654321098765432109876543210\") == 49200",
    "assert candidate(s = \"1122334455443322112233445544332211\") == 12024",
    "assert candidate(s = \"0000011111222223333344444555554444433333222221111100000\") == 138761",
    "assert candidate(s = \"987654321123456789876543210011223344556677889987654321\") == 31546",
    "assert candidate(s = \"98765432101234567898\") == 253",
    "assert candidate(s = \"10101010101010101010101\") == 8701",
    "assert candidate(s = \"5555555555555555555555555555555555555555\") == 658008",
    "assert candidate(s = \"01020304050607080901\") == 918",
    "assert candidate(s = \"123456789098765432101234567890\") == 978",
    "assert candidate(s = \"123456789000000000987654321\") == 1374",
    "assert candidate(s = \"1234567890123456789012345678901234567890\") == 5040",
    "assert candidate(s = \"000111222333444555444333222111000\") == 9840",
    "assert candidate(s = \"999888777666555444333222111000\") == 0",
    "assert candidate(s = \"99999000001111122222333334444455555444443333322222111110000099999\") == 237888",
    "assert candidate(s = \"11223344556677889900998877665544332211\") == 7266",
    "assert candidate(s = \"111111111111111111111111111111111111111111111111111\") == 2349060",
    "assert candidate(s = \"00000100001000010000100000\") == 37118",
    "assert candidate(s = \"111000111000111000111000111000111\") == 61584",
    "assert candidate(s = \"99999888887777766666555554444433333222221111100000\") == 10",
    "assert candidate(s = \"9876543210012345678998765432100123456789\") == 5910",
    "assert candidate(s = \"1234567898765432112345678987654321\") == 3320",
    "assert candidate(s = \"12211221122112211\") == 1574",
    "assert candidate(s = \"543210000012345\") == 121",
    "assert candidate(s = \"12211221122112211221\") == 3916",
    "assert candidate(s = \"67890098766789009876\") == 580",
    "assert candidate(s = \"9876543210987654321098765432109876543210\") == 5040",
    "assert candidate(s = \"1111100000111110000011111000001111100000\") == 146008",
    "assert candidate(s = \"98765432101234567899876543210123456789\") == 4794",
    "assert candidate(s = \"00000111110000011111\") == 2004",
    "assert candidate(s = \"101010101010101010101010101010101010101010101010101010101010101010101010\") == 3501456",
    "assert candidate(s = \"111222333222111222333\") == 1470",
    "assert candidate(s = \"00000000001111111111000000000\") == 38880",
    "assert candidate(s = \"111110000000000000000000000000000000000000000000000\") == 1370755",
    "assert candidate(s = \"123456789876543210123456789\") == 624",
    "assert candidate(s = \"1234543216789876123454321\") == 942",
    "assert candidate(s = \"9876543210012345678998765432100123456789987654321\") == 17193",
    "assert candidate(s = \"11001100110011001100\") == 3656",
    "assert candidate(s = \"11100011100011100011\") == 3990",
    "assert candidate(s = \"99999000009999900000\") == 2004",
    "assert candidate(s = \"10010010010010010010\") == 4535",
    "assert candidate(s = \"11112222333322221111\") == 2736",
    "assert candidate(s = \"1232112321123211232112321123211232112321\") == 85128",
    "assert candidate(s = \"987654321987654321987654321\") == 576",
    "assert candidate(s = \"121212121212121212121212121212121212121212121212\") == 429088",
    "assert candidate(s = \"12345678909876543211234567890987654321\") == 4794",
    "assert candidate(s = \"1221122112211\") == 331",
    "assert candidate(s = \"99999888887777766666\") == 4",
    "assert candidate(s = \"123456789012345678901234567890123456789012345678901234567890\") == 49200",
    "assert candidate(s = \"111222333444555444333222111\") == 4974",
    "assert candidate(s = \"123454321123454321123454321\") == 3470",
    "assert candidate(s = \"0123456789876543210123456789876543210\") == 4385",
    "assert candidate(s = \"99999999999999999\") == 6188",
    "assert candidate(s = \"567899876567899876\") == 324",
    "assert candidate(s = \"000111222333444555666777888999888777666555444333222111000\") == 58374",
    "assert candidate(s = \"001122334455667788990000000000000000000000000000\") == 149310",
    "assert candidate(s = \"555555555555555555555555555\") == 80730",
    "assert candidate(s = \"1232123212321232123212321232123212321232\") == 91158",
    "assert candidate(s = \"543210123456789876543210\") == 399",
    "assert candidate(s = \"123211232112321123211232112321\") == 18456",
    "assert candidate(s = \"123456789098765432101234567890987654321\") == 5433",
    "assert candidate(s = \"90909090909090909090\") == 3936",
    "assert candidate(s = \"000011110000111100001111\") == 8368",
    "assert candidate(s = \"12345678909876543210\") == 204",
    "assert candidate(s = \"10101010101010101010101010101010101010101\") == 189202",
    "assert candidate(s = \"123456789098765432121234567890\") == 995",
    "assert candidate(s = \"987654321012345678987654321\") == 624",
    "assert candidate(s = \"10101010101010101\") == 1652",
    "assert candidate(s = \"0000000000111111111122222222223333333333\") == 1008",
    "assert candidate(s = \"11223344556677889998877665544332211\") == 5544",
    "assert candidate(s = \"55555555555555555555\") == 15504",
    "assert candidate(s = \"123456789987654321123456789\") == 672",
    "assert candidate(s = \"123321123321123321\") == 946",
    "assert candidate(s = \"10101010101010101010101010101010\") == 50624",
    "assert candidate(s = \"1001001001001001001001001\") == 15330",
    "assert candidate(s = \"01234567899876543210\") == 240",
    "assert candidate(s = \"123456789876543210000000000000000000\") == 11768",
    "assert candidate(s = \"1111222233334444555566667777888899990000\") == 0",
    "assert candidate(s = \"12345678987654321012345678987654321\") == 3568",
    "assert candidate(s = \"54321234554321234554\") == 698",
    "assert candidate(s = \"999999000000999999000000999999000000999999\") == 227796",
    "assert candidate(s = \"12345678900987654321001234567890\") == 1528",
    "assert candidate(s = \"90807060505060708090\") == 1254",
    "assert candidate(s = \"123454321123454321123454321123454321\") == 16368",
    "assert candidate(s = \"0123456789876543210123456789\") == 688",
    "assert candidate(s = \"98765432101020304050607080908070605040302010\") == 33248",
    "assert candidate(s = \"12345432112345432112\") == 698",
    "assert candidate(s = \"1001001001001001001001001001001001001001001001001\") == 564020",
    "assert candidate(s = \"00112233445566778899\") == 0",
    "assert candidate(s = \"987654321000000000000000000000000000123456789\") == 108195",
    "assert candidate(s = \"34554334554334554334\") == 1720",
    "assert candidate(s = \"100000000000000000000000000000000000000001\") == 667888",
    "assert candidate(s = \"1234567890098765432112345678900987654321\") == 5910",
    "assert candidate(s = \"01010101010101010101\") == 3936",
    "assert candidate(s = \"12345678900987654321000123456789\") == 1645",
    "assert candidate(s = \"00000111112222233333444445555566666777778888899999\") == 10",
    "assert candidate(s = \"010101010101010\") == 819",
    "assert candidate(s = \"10101010101010101010\") == 3936",
    "assert candidate(s = \"12345678901234567890123456789012345678901234567890123456789\") == 46090",
    "assert candidate(s = \"9876543210012345678909876543210\") == 1230",
    "assert candidate(s = \"54321098765432109876543210987654321\") == 2925",
    "assert candidate(s = \"000000000000000000000000000000000000000000000000001\") == 2118760",
    "assert candidate(s = \"111222333444555666777888999000999888777666555444333222111\") == 58374",
    "assert candidate(s = \"0123456789876543210\") == 204",
    "assert candidate(s = \"20202020202020202020\") == 3936"
  ]
}