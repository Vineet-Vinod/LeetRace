{
  "id": "smallest-good-base",
  "title": "Smallest Good Base",
  "difficulty": "Hard",
  "tags": [
    "Math",
    "Binary Search"
  ],
  "description": "Given an integer n represented as a string, return the smallest good base of n.\nWe call k >= 2 a good base of n, if all digits of n base k are 1's.\n\u00a0\nExample 1:\n\nInput: n = \"13\"\nOutput: \"3\"\nExplanation: 13 base 3 is 111.\n\nExample 2:\n\nInput: n = \"4681\"\nOutput: \"8\"\nExplanation: 4681 base 8 is 11111.\n\nExample 3:\n\nInput: n = \"1000000000000000000\"\nOutput: \"999999999999999999\"\nExplanation: 1000000000000000000 base 999999999999999999 is 11.\n\n\u00a0\nConstraints:\n\nn is an integer in the range [3, 1018].\nn does not contain any leading zeros.\n\n",
  "entry_point": "Solution().smallestGoodBase",
  "starter_code": "class Solution:\n    def smallestGoodBase(self, n: str) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(n = \"4681\") == \"8\"\n    assert candidate(n = \"9\") == \"8\"\n    assert candidate(n = \"104729\") == \"104728\"\n    assert candidate(n = \"15\") == \"2\"\n    assert candidate(n = \"218\") == \"217\"\n    assert candidate(n = \"13\") == \"3\"\n    assert candidate(n = \"81\") == \"80\"\n    assert candidate(n = \"7\") == \"2\"\n    assert candidate(n = \"3\") == \"2\"\n    assert candidate(n = \"4\") == \"3\"\n    assert candidate(n = \"121\") == \"3\"\n    assert candidate(n = \"8\") == \"7\"\n    assert candidate(n = \"21\") == \"4\"\n    assert candidate(n = \"1023\") == \"2\"\n    assert candidate(n = \"255\") == \"2\"\n    assert candidate(n = \"91\") == \"9\"\n    assert candidate(n = \"1000\") == \"999\"\n    assert candidate(n = \"999\") == \"998\"\n    assert candidate(n = \"1000000000000000000\") == \"999999999999999999\"\n    assert candidate(n = \"2187\") == \"2186\"\n    assert candidate(n = \"100\") == \"99\"\n    assert candidate(n = \"343\") == \"18\"\n    assert candidate(n = \"1801088541\") == \"1801088540\"\n    assert candidate(n = \"2222222222222222222\") == \"2222222222222222221\"\n    assert candidate(n = \"14348907\") == \"14348906\"\n    assert candidate(n = \"59048\") == \"59047\"\n    assert candidate(n = \"1125899906842623\") == \"2\"\n    assert candidate(n = \"100000000\") == \"99999999\"\n    assert candidate(n = \"79228162514264337593543950336\") == \"79228162514264337593543950335\"\n    assert candidate(n = \"348678440099710752\") == \"348678440099710751\"\n    assert candidate(n = \"222222222222222222\") == \"222222222222222221\"\n    assert candidate(n = \"1234567890123456789\") == \"1234567890123456788\"\n    assert candidate(n = \"617673396283947\") == \"617673396283946\"\n    assert candidate(n = \"1000000000\") == \"999999999\"\n    assert candidate(n = \"987654321\") == \"987654320\"\n    assert candidate(n = \"298023223876953125\") == \"298023223876953124\"\n    assert candidate(n = \"98765432109876543\") == \"98765432109876542\"\n    assert candidate(n = \"3486784401\") == \"3486784400\"\n    assert candidate(n = \"8191\") == \"2\"\n    assert candidate(n = \"19683\") == \"19682\"\n    assert candidate(n = \"12345678987654321\") == \"12345678987654320\"\n    assert candidate(n = \"68719476736\") == \"68719476735\"\n    assert candidate(n = \"549755813888\") == \"549755813887\"\n    assert candidate(n = \"99999999999999999999999999999999999999999999999999999999999999999999999999999999999\") == \"99999999999999999999999999999999999999999999999999999999999999999999999999999999998\"\n    assert candidate(n = \"3125\") == \"3124\"\n    assert candidate(n = \"555555555555555555\") == \"555555555555555554\"\n    assert candidate(n = \"281474976710656\") == \"281474976710655\"\n    assert candidate(n = \"10000000000000000000000000000000000000000000000000000\") == \"9999999999999999999999999999999999999999999999999999\"\n    assert candidate(n = \"18446744073709551615\") == \"2\"\n    assert candidate(n = \"18014398509481984\") == \"18014398509481983\"\n    assert candidate(n = \"193836733056657\") == \"193836733056656\"\n    assert candidate(n = \"387420488\") == \"387420487\"\n    assert candidate(n = \"8916100448256\") == \"8916100448255\"\n    assert candidate(n = \"98765432109876543210987654321\") == \"98765432109876543210987654320\"\n    assert candidate(n = \"6789101112131415161718192021222324252627282930\") == \"6789101112131415161718192021222324252627282929\"\n    assert candidate(n = \"68719476735\") == \"2\"\n    assert candidate(n = \"2357947691\") == \"2357947690\"\n    assert candidate(n = \"1000000000000000000000000000000\") == \"999999999999999999999999999999\"\n    assert candidate(n = \"4095\") == \"2\"\n    assert candidate(n = \"65535\") == \"2\"\n    assert candidate(n = \"16777216\") == \"16777215\"\n    assert candidate(n = \"65537\") == \"65536\"\n    assert candidate(n = \"111111111\") == \"10\"\n    assert candidate(n = \"4398046511104\") == \"4398046511103\"\n    assert candidate(n = \"111111111111111111\") == \"10\"\n    assert candidate(n = \"823543\") == \"823542\"\n    assert candidate(n = \"123456789101112131415\") == \"123456789101112131414\"\n    assert candidate(n = \"101110111\") == \"101110110\"\n    assert candidate(n = \"1111111111111111111\") == \"10\"\n    assert candidate(n = \"38127987654321\") == \"38127987654320\"\n    assert candidate(n = \"1111111111111111111111111111111\") == \"10\"\n    assert candidate(n = \"161051\") == \"161050\"\n    assert candidate(n = \"4294967295\") == \"2\"\n    assert candidate(n = \"2305843009213693952\") == \"2305843009213693951\"\n    assert candidate(n = \"1134903170\") == \"1134903169\"\n    assert candidate(n = \"797161\") == \"3\"\n    assert candidate(n = \"59049\") == \"59048\"\n    assert candidate(n = \"678223072849\") == \"678223072848\"\n    assert candidate(n = \"134217728\") == \"134217727\"\n    assert candidate(n = \"999999999999999998\") == \"999999999999999997\"\n    assert candidate(n = \"2000000000000000000\") == \"1999999999999999999\"\n    assert candidate(n = \"999999999999999997\") == \"999999999999999996\"\n    assert candidate(n = \"9223372036854775807\") == \"2\"\n    assert candidate(n = \"123456789012345678\") == \"123456789012345677\"\n    assert candidate(n = \"987654321987654321\") == \"987654321987654320\"\n    assert candidate(n = \"515377520732011329\") == \"515377520732011328\"\n    assert candidate(n = \"387420489\") == \"387420488\"\n    assert candidate(n = \"282429536481\") == \"282429536480\"\n    assert candidate(n = \"57896044618658097711785492504343953926634992332820282019728792003956564819949\") == \"57896044618658097711785492504343953926634992332820282019728792003956564819948\"\n    assert candidate(n = \"268435455\") == \"2\"\n    assert candidate(n = \"999999999\") == \"999999998\"\n    assert candidate(n = \"9811\") == \"9810\"\n    assert candidate(n = \"123456789\") == \"123456788\"\n    assert candidate(n = \"3689348814741910323\") == \"3689348814741910322\"\n    assert candidate(n = \"5555555555555555555\") == \"5555555555555555554\"\n    assert candidate(n = \"999999999999999981\") == \"999999999999999980\"\n    assert candidate(n = \"1024\") == \"1023\"\n    assert candidate(n = \"1010101010101010101\") == \"100\"\n    assert candidate(n = \"1111111111111111112\") == \"1111111111111111111\"\n    assert candidate(n = \"555555555555555555555555555555\") == \"555555555555555555555555555554\"\n    assert candidate(n = \"1000000000000000001\") == \"1000000000000000000\"\n    assert candidate(n = \"78364164096\") == \"78364164095\"\n    assert candidate(n = \"123456789012345678901234567890\") == \"123456789012345678901234567889\"\n    assert candidate(n = \"1125899906842624\") == \"1125899906842623\"\n",
  "test_cases": [
    "assert candidate(n = \"4681\") == \"8\"",
    "assert candidate(n = \"9\") == \"8\"",
    "assert candidate(n = \"104729\") == \"104728\"",
    "assert candidate(n = \"15\") == \"2\"",
    "assert candidate(n = \"218\") == \"217\"",
    "assert candidate(n = \"13\") == \"3\"",
    "assert candidate(n = \"81\") == \"80\"",
    "assert candidate(n = \"7\") == \"2\"",
    "assert candidate(n = \"3\") == \"2\"",
    "assert candidate(n = \"4\") == \"3\"",
    "assert candidate(n = \"121\") == \"3\"",
    "assert candidate(n = \"8\") == \"7\"",
    "assert candidate(n = \"21\") == \"4\"",
    "assert candidate(n = \"1023\") == \"2\"",
    "assert candidate(n = \"255\") == \"2\"",
    "assert candidate(n = \"91\") == \"9\"",
    "assert candidate(n = \"1000\") == \"999\"",
    "assert candidate(n = \"999\") == \"998\"",
    "assert candidate(n = \"1000000000000000000\") == \"999999999999999999\"",
    "assert candidate(n = \"2187\") == \"2186\"",
    "assert candidate(n = \"100\") == \"99\"",
    "assert candidate(n = \"343\") == \"18\"",
    "assert candidate(n = \"1801088541\") == \"1801088540\"",
    "assert candidate(n = \"2222222222222222222\") == \"2222222222222222221\"",
    "assert candidate(n = \"14348907\") == \"14348906\"",
    "assert candidate(n = \"59048\") == \"59047\"",
    "assert candidate(n = \"1125899906842623\") == \"2\"",
    "assert candidate(n = \"100000000\") == \"99999999\"",
    "assert candidate(n = \"79228162514264337593543950336\") == \"79228162514264337593543950335\"",
    "assert candidate(n = \"348678440099710752\") == \"348678440099710751\"",
    "assert candidate(n = \"222222222222222222\") == \"222222222222222221\"",
    "assert candidate(n = \"1234567890123456789\") == \"1234567890123456788\"",
    "assert candidate(n = \"617673396283947\") == \"617673396283946\"",
    "assert candidate(n = \"1000000000\") == \"999999999\"",
    "assert candidate(n = \"987654321\") == \"987654320\"",
    "assert candidate(n = \"298023223876953125\") == \"298023223876953124\"",
    "assert candidate(n = \"98765432109876543\") == \"98765432109876542\"",
    "assert candidate(n = \"3486784401\") == \"3486784400\"",
    "assert candidate(n = \"8191\") == \"2\"",
    "assert candidate(n = \"19683\") == \"19682\"",
    "assert candidate(n = \"12345678987654321\") == \"12345678987654320\"",
    "assert candidate(n = \"68719476736\") == \"68719476735\"",
    "assert candidate(n = \"549755813888\") == \"549755813887\"",
    "assert candidate(n = \"99999999999999999999999999999999999999999999999999999999999999999999999999999999999\") == \"99999999999999999999999999999999999999999999999999999999999999999999999999999999998\"",
    "assert candidate(n = \"3125\") == \"3124\"",
    "assert candidate(n = \"555555555555555555\") == \"555555555555555554\"",
    "assert candidate(n = \"281474976710656\") == \"281474976710655\"",
    "assert candidate(n = \"10000000000000000000000000000000000000000000000000000\") == \"9999999999999999999999999999999999999999999999999999\"",
    "assert candidate(n = \"18446744073709551615\") == \"2\"",
    "assert candidate(n = \"18014398509481984\") == \"18014398509481983\"",
    "assert candidate(n = \"193836733056657\") == \"193836733056656\"",
    "assert candidate(n = \"387420488\") == \"387420487\"",
    "assert candidate(n = \"8916100448256\") == \"8916100448255\"",
    "assert candidate(n = \"98765432109876543210987654321\") == \"98765432109876543210987654320\"",
    "assert candidate(n = \"6789101112131415161718192021222324252627282930\") == \"6789101112131415161718192021222324252627282929\"",
    "assert candidate(n = \"68719476735\") == \"2\"",
    "assert candidate(n = \"2357947691\") == \"2357947690\"",
    "assert candidate(n = \"1000000000000000000000000000000\") == \"999999999999999999999999999999\"",
    "assert candidate(n = \"4095\") == \"2\"",
    "assert candidate(n = \"65535\") == \"2\"",
    "assert candidate(n = \"16777216\") == \"16777215\"",
    "assert candidate(n = \"65537\") == \"65536\"",
    "assert candidate(n = \"111111111\") == \"10\"",
    "assert candidate(n = \"4398046511104\") == \"4398046511103\"",
    "assert candidate(n = \"111111111111111111\") == \"10\"",
    "assert candidate(n = \"823543\") == \"823542\"",
    "assert candidate(n = \"123456789101112131415\") == \"123456789101112131414\"",
    "assert candidate(n = \"101110111\") == \"101110110\"",
    "assert candidate(n = \"1111111111111111111\") == \"10\"",
    "assert candidate(n = \"38127987654321\") == \"38127987654320\"",
    "assert candidate(n = \"1111111111111111111111111111111\") == \"10\"",
    "assert candidate(n = \"161051\") == \"161050\"",
    "assert candidate(n = \"4294967295\") == \"2\"",
    "assert candidate(n = \"2305843009213693952\") == \"2305843009213693951\"",
    "assert candidate(n = \"1134903170\") == \"1134903169\"",
    "assert candidate(n = \"797161\") == \"3\"",
    "assert candidate(n = \"59049\") == \"59048\"",
    "assert candidate(n = \"678223072849\") == \"678223072848\"",
    "assert candidate(n = \"134217728\") == \"134217727\"",
    "assert candidate(n = \"999999999999999998\") == \"999999999999999997\"",
    "assert candidate(n = \"2000000000000000000\") == \"1999999999999999999\"",
    "assert candidate(n = \"999999999999999997\") == \"999999999999999996\"",
    "assert candidate(n = \"9223372036854775807\") == \"2\"",
    "assert candidate(n = \"123456789012345678\") == \"123456789012345677\"",
    "assert candidate(n = \"987654321987654321\") == \"987654321987654320\"",
    "assert candidate(n = \"515377520732011329\") == \"515377520732011328\"",
    "assert candidate(n = \"387420489\") == \"387420488\"",
    "assert candidate(n = \"282429536481\") == \"282429536480\"",
    "assert candidate(n = \"57896044618658097711785492504343953926634992332820282019728792003956564819949\") == \"57896044618658097711785492504343953926634992332820282019728792003956564819948\"",
    "assert candidate(n = \"268435455\") == \"2\"",
    "assert candidate(n = \"999999999\") == \"999999998\"",
    "assert candidate(n = \"9811\") == \"9810\"",
    "assert candidate(n = \"123456789\") == \"123456788\"",
    "assert candidate(n = \"3689348814741910323\") == \"3689348814741910322\"",
    "assert candidate(n = \"5555555555555555555\") == \"5555555555555555554\"",
    "assert candidate(n = \"999999999999999981\") == \"999999999999999980\"",
    "assert candidate(n = \"1024\") == \"1023\"",
    "assert candidate(n = \"1010101010101010101\") == \"100\"",
    "assert candidate(n = \"1111111111111111112\") == \"1111111111111111111\"",
    "assert candidate(n = \"555555555555555555555555555555\") == \"555555555555555555555555555554\"",
    "assert candidate(n = \"1000000000000000001\") == \"1000000000000000000\"",
    "assert candidate(n = \"78364164096\") == \"78364164095\"",
    "assert candidate(n = \"123456789012345678901234567890\") == \"123456789012345678901234567889\"",
    "assert candidate(n = \"1125899906842624\") == \"1125899906842623\""
  ]
}