{
  "id": "minimum-changes-to-make-k-semi-palindromes",
  "title": "Minimum Changes To Make K Semi Palindromes",
  "difficulty": "Hard",
  "tags": [
    "Two Pointers",
    "String",
    "Dynamic Programming"
  ],
  "description": "Given a string s and an integer k, partition s into k substrings such that the letter changes needed to make each substring a semi-palindrome\u00a0are minimized.\nReturn the minimum number of letter changes required.\nA semi-palindrome is a special type of string that can be divided into palindromes based on a repeating pattern. To check if a string is a semi-palindrome:\u200b\n\nChoose a positive divisor d of the string's length. d can range from 1 up to, but not including, the string's length. For a string of length 1, it does not have a valid divisor as per this definition, since the only divisor is its length, which is not allowed.\nFor a given divisor d, divide the string into groups where each group contains characters from the string that follow a repeating pattern of length d. Specifically, the first group consists of characters at positions 1, 1 + d, 1 + 2d, and so on; the second group includes characters at positions 2, 2 + d, 2 + 2d, etc.\nThe string is considered a semi-palindrome if each of these groups forms a palindrome.\n\nConsider the string \"abcabc\":\n\nThe length of \"abcabc\" is 6. Valid divisors are 1, 2, and 3.\nFor d = 1: The entire string \"abcabc\" forms one group. Not a palindrome.\nFor d = 2:\n\t\nGroup 1 (positions 1, 3, 5): \"acb\"\nGroup 2 (positions 2, 4, 6): \"bac\"\nNeither group forms a palindrome.\n\n\nFor d = 3:\n\t\nGroup 1 (positions 1, 4): \"aa\"\nGroup 2 (positions 2, 5): \"bb\"\nGroup 3 (positions 3, 6): \"cc\"\nAll groups form palindromes. Therefore, \"abcabc\" is a semi-palindrome.\n\n\n\n\u00a0\nExample 1: \n\nInput:   s = \"abcac\", k = 2 \nOutput:   1 \nExplanation:  Divide s into \"ab\" and \"cac\". \"cac\" is already semi-palindrome. Change \"ab\" to \"aa\", it becomes semi-palindrome with d = 1.\n\nExample 2: \n\nInput:   s = \"abcdef\", k = 2 \nOutput:   2 \nExplanation:  Divide s into substrings \"abc\" and \"def\". Each\u00a0needs one change to become semi-palindrome.\n\nExample 3: \n\nInput:   s = \"aabbaa\", k = 3 \nOutput:   0 \nExplanation:  Divide s into substrings \"aa\", \"bb\" and \"aa\".\u00a0All are already semi-palindromes.\n\n\u00a0\nConstraints:\n\n2 <= s.length <= 200\n1 <= k <= s.length / 2\ns contains only lowercase English letters.\n\n",
  "entry_point": "Solution().minimumChanges",
  "starter_code": "class Solution:\n    def minimumChanges(self, s: str, k: int) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"aabbcc\",k = 3) == 0\n    assert candidate(s = \"abccba\",k = 2) == 2\n    assert candidate(s = \"aabbccdd\",k = 4) == 0\n    assert candidate(s = \"abcabcabc\",k = 4) == 4\n    assert candidate(s = \"aaaaaa\",k = 2) == 0\n    assert candidate(s = \"abcabcabcabc\",k = 4) == 3\n    assert candidate(s = \"abccba\",k = 1) == 0\n    assert candidate(s = \"aabbaa\",k = 3) == 0\n    assert candidate(s = \"racecar\",k = 1) == 0\n    assert candidate(s = \"abcac\",k = 2) == 1\n    assert candidate(s = \"zzzzzz\",k = 2) == 0\n    assert candidate(s = \"abcdabc\",k = 2) == 2\n    assert candidate(s = \"abcdefg\",k = 2) == 3\n    assert candidate(s = \"abcdcba\",k = 3) == 2\n    assert candidate(s = \"abcdefg\",k = 3) == 3\n    assert candidate(s = \"abcabcabc\",k = 3) == 3\n    assert candidate(s = \"aaaa\",k = 2) == 0\n    assert candidate(s = \"abcdabc\",k = 3) == 3\n    assert candidate(s = \"abcabc\",k = 3) == 3\n    assert candidate(s = \"abcdef\",k = 2) == 2\n    assert candidate(s = \"abccba\",k = 3) == 2\n    assert candidate(s = \"ababab\",k = 3) == 3\n    assert candidate(s = \"qwertyuiopqwertyuiopqwertyuiop\",k = 6) == 5\n    assert candidate(s = \"aabbccddeeaabbccddeeaabbccdd\",k = 6) == 2\n    assert candidate(s = \"abcdefedcbafedcba\",k = 3) == 1\n    assert candidate(s = \"abcdabcdabcdabcdabcdabcd\",k = 5) == 2\n    assert candidate(s = \"abcdabcdabcdabcd\",k = 4) == 2\n    assert candidate(s = \"xyzxyzxyzxyz\",k = 4) == 3\n    assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 3) == 1\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyzyxwvutsrqponmlkjihgfedcba\",k = 5) == 4\n    assert candidate(s = \"abcdeabcdeabcde\",k = 4) == 5\n    assert candidate(s = \"level\",k = 1) == 0\n    assert candidate(s = \"banana\",k = 2) == 1\n    assert candidate(s = \"aabbaabbaabbaabb\",k = 4) == 0\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmlloo\",k = 5) == 6\n    assert candidate(s = \"abccbaabccbaabccba\",k = 4) == 2\n    assert candidate(s = \"abracadabraabracadabra\",k = 4) == 5\n    assert candidate(s = \"redder\",k = 2) == 2\n    assert candidate(s = \"repaper\",k = 2) == 3\n    assert candidate(s = \"abababaabab\",k = 3) == 0\n    assert candidate(s = \"abcdefghij\",k = 2) == 4\n    assert candidate(s = \"abcdefabcdef\",k = 4) == 4\n    assert candidate(s = \"abcdefghiabcdefghiabcdefghi\",k = 4) == 3\n    assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 5) == 4\n    assert candidate(s = \"aabbaaabbbaa\",k = 3) == 1\n    assert candidate(s = \"aaabbbcccdddaaa\",k = 4) == 2\n    assert candidate(s = \"abcdefgabcdefg\",k = 4) == 5\n    assert candidate(s = \"xyxzyxzyxzyxzyxzyx\",k = 4) == 1\n    assert candidate(s = \"xyxyxyxyxyxyxy\",k = 3) == 0\n    assert candidate(s = \"aaaaabbbbbcccc\",k = 3) == 0\n    assert candidate(s = \"ababababababab\",k = 3) == 0\n    assert candidate(s = \"abcdefghabcdefghabcdefgh\",k = 6) == 5\n    assert candidate(s = \"mississippi\",k = 2) == 2\n    assert candidate(s = \"abccbaabccba\",k = 2) == 0\n    assert candidate(s = \"abcdefabcdefabcdef\",k = 6) == 6\n    assert candidate(s = \"abcdefggfedcba\",k = 2) == 5\n    assert candidate(s = \"noonnoonnoon\",k = 3) == 0\n    assert candidate(s = \"aabbccddeeffgghhiijj\",k = 5) == 4\n    assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnoopp\",k = 6) == 8\n    assert candidate(s = \"aaabaaabaaabaaab\",k = 5) == 1\n    assert candidate(s = \"aabbccddeeff\",k = 3) == 4\n    assert candidate(s = \"abcdefgabcdefg\",k = 2) == 5\n    assert candidate(s = \"racecar\",k = 3) == 2\n    assert candidate(s = \"abababab\",k = 3) == 1\n    assert candidate(s = \"ababababababab\",k = 5) == 1\n    assert candidate(s = \"abcabcabcabcabcabc\",k = 6) == 5\n    assert candidate(s = \"mnopqrnopqr\",k = 3) == 4\n    assert candidate(s = \"deified\",k = 1) == 0\n    assert candidate(s = \"abcdefghijabcdefghijabcdefghij\",k = 5) == 4\n    assert candidate(s = \"abcabcabcabcabcabcabc\",k = 7) == 6\n    assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 7) == 0\n    assert candidate(s = \"abcdefghij\",k = 5) == 5\n    assert candidate(s = \"noon\",k = 1) == 0\n    assert candidate(s = \"aaaaaaaaaa\",k = 5) == 0\n    assert candidate(s = \"abcdefghijklnmopqrstuvwxyz\",k = 5) == 9\n    assert candidate(s = \"abcdefghij\",k = 3) == 4\n    assert candidate(s = \"racecar\",k = 2) == 3\n    assert candidate(s = \"rotor\",k = 1) == 0\n    assert candidate(s = \"abracadabraabracadabra\",k = 5) == 4\n    assert candidate(s = \"xyzyxzyxzyx\",k = 4) == 3\n    assert candidate(s = \"aaaaabbbbccccdddd\",k = 4) == 0\n    assert candidate(s = \"aaabbbcccdddeeefffggg\",k = 5) == 3\n    assert candidate(s = \"aaaabbbbccccdddd\",k = 4) == 0\n    assert candidate(s = \"abcabcabcabcabcabcabcabc\",k = 6) == 3\n    assert candidate(s = \"ababababab\",k = 3) == 0\n    assert candidate(s = \"aabaaabaaabaaa\",k = 4) == 1\n    assert candidate(s = \"aabbccddeeffgg\",k = 4) == 4\n    assert candidate(s = \"aaaaabbbbcccc\",k = 3) == 0\n    assert candidate(s = \"mnopqrsmnopqrsmno\",k = 3) == 6\n    assert candidate(s = \"aabbccddeeffgg\",k = 6) == 2\n    assert candidate(s = \"zzzaaaabbbccc\",k = 4) == 0\n    assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",k = 10) == 10\n    assert candidate(s = \"abababababababab\",k = 4) == 0\n    assert candidate(s = \"mnopqrspqrspqr\",k = 3) == 2\n    assert candidate(s = \"abacabadaba\",k = 3) == 1\n    assert candidate(s = \"mississippi\",k = 3) == 1\n    assert candidate(s = \"abacabadabacaba\",k = 5) == 2\n    assert candidate(s = \"abacabadabacaba\",k = 3) == 0\n    assert candidate(s = \"zzzzzyzzzzzz\",k = 5) == 0\n    assert candidate(s = \"xyxyxyxyxyxy\",k = 6) == 6\n    assert candidate(s = \"abcdeedcba\",k = 2) == 4\n    assert candidate(s = \"abcdabcdabcdabcdabcd\",k = 4) == 1\n    assert candidate(s = \"abcdefedcba\",k = 5) == 4\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaaaa\",k = 5) == 0\n    assert candidate(s = \"zzzzzyzzzzz\",k = 2) == 0\n    assert candidate(s = \"abcabcabcabcabc\",k = 5) == 4\n    assert candidate(s = \"abcdefabcdef\",k = 2) == 1\n    assert candidate(s = \"abcdefabcdefabcdefabcdef\",k = 5) == 3\n    assert candidate(s = \"anana\",k = 1) == 0\n    assert candidate(s = \"abcdefghijabcdefghij\",k = 5) == 7\n    assert candidate(s = \"aaaabbbb\",k = 2) == 0\n    assert candidate(s = \"xyzyzyzyz\",k = 4) == 3\n    assert candidate(s = \"mnopqrstuvwx\",k = 4) == 4\n    assert candidate(s = \"zzzzzzyyyzzzzzyyy\",k = 2) == 0\n    assert candidate(s = \"reviled\",k = 2) == 3\n    assert candidate(s = \"aaabbbbccccaaa\",k = 3) == 3\n    assert candidate(s = \"abacabadabacaba\",k = 4) == 1\n    assert candidate(s = \"aabbccddeeff\",k = 4) == 2\n    assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 4) == 3\n",
  "test_cases": [
    "assert candidate(s = \"aabbcc\",k = 3) == 0",
    "assert candidate(s = \"abccba\",k = 2) == 2",
    "assert candidate(s = \"aabbccdd\",k = 4) == 0",
    "assert candidate(s = \"abcabcabc\",k = 4) == 4",
    "assert candidate(s = \"aaaaaa\",k = 2) == 0",
    "assert candidate(s = \"abcabcabcabc\",k = 4) == 3",
    "assert candidate(s = \"abccba\",k = 1) == 0",
    "assert candidate(s = \"aabbaa\",k = 3) == 0",
    "assert candidate(s = \"racecar\",k = 1) == 0",
    "assert candidate(s = \"abcac\",k = 2) == 1",
    "assert candidate(s = \"zzzzzz\",k = 2) == 0",
    "assert candidate(s = \"abcdabc\",k = 2) == 2",
    "assert candidate(s = \"abcdefg\",k = 2) == 3",
    "assert candidate(s = \"abcdcba\",k = 3) == 2",
    "assert candidate(s = \"abcdefg\",k = 3) == 3",
    "assert candidate(s = \"abcabcabc\",k = 3) == 3",
    "assert candidate(s = \"aaaa\",k = 2) == 0",
    "assert candidate(s = \"abcdabc\",k = 3) == 3",
    "assert candidate(s = \"abcabc\",k = 3) == 3",
    "assert candidate(s = \"abcdef\",k = 2) == 2",
    "assert candidate(s = \"abccba\",k = 3) == 2",
    "assert candidate(s = \"ababab\",k = 3) == 3",
    "assert candidate(s = \"qwertyuiopqwertyuiopqwertyuiop\",k = 6) == 5",
    "assert candidate(s = \"aabbccddeeaabbccddeeaabbccdd\",k = 6) == 2",
    "assert candidate(s = \"abcdefedcbafedcba\",k = 3) == 1",
    "assert candidate(s = \"abcdabcdabcdabcdabcdabcd\",k = 5) == 2",
    "assert candidate(s = \"abcdabcdabcdabcd\",k = 4) == 2",
    "assert candidate(s = \"xyzxyzxyzxyz\",k = 4) == 3",
    "assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 3) == 1",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyzyxwvutsrqponmlkjihgfedcba\",k = 5) == 4",
    "assert candidate(s = \"abcdeabcdeabcde\",k = 4) == 5",
    "assert candidate(s = \"level\",k = 1) == 0",
    "assert candidate(s = \"banana\",k = 2) == 1",
    "assert candidate(s = \"aabbaabbaabbaabb\",k = 4) == 0",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmlloo\",k = 5) == 6",
    "assert candidate(s = \"abccbaabccbaabccba\",k = 4) == 2",
    "assert candidate(s = \"abracadabraabracadabra\",k = 4) == 5",
    "assert candidate(s = \"redder\",k = 2) == 2",
    "assert candidate(s = \"repaper\",k = 2) == 3",
    "assert candidate(s = \"abababaabab\",k = 3) == 0",
    "assert candidate(s = \"abcdefghij\",k = 2) == 4",
    "assert candidate(s = \"abcdefabcdef\",k = 4) == 4",
    "assert candidate(s = \"abcdefghiabcdefghiabcdefghi\",k = 4) == 3",
    "assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 5) == 4",
    "assert candidate(s = \"aabbaaabbbaa\",k = 3) == 1",
    "assert candidate(s = \"aaabbbcccdddaaa\",k = 4) == 2",
    "assert candidate(s = \"abcdefgabcdefg\",k = 4) == 5",
    "assert candidate(s = \"xyxzyxzyxzyxzyxzyx\",k = 4) == 1",
    "assert candidate(s = \"xyxyxyxyxyxyxy\",k = 3) == 0",
    "assert candidate(s = \"aaaaabbbbbcccc\",k = 3) == 0",
    "assert candidate(s = \"ababababababab\",k = 3) == 0",
    "assert candidate(s = \"abcdefghabcdefghabcdefgh\",k = 6) == 5",
    "assert candidate(s = \"mississippi\",k = 2) == 2",
    "assert candidate(s = \"abccbaabccba\",k = 2) == 0",
    "assert candidate(s = \"abcdefabcdefabcdef\",k = 6) == 6",
    "assert candidate(s = \"abcdefggfedcba\",k = 2) == 5",
    "assert candidate(s = \"noonnoonnoon\",k = 3) == 0",
    "assert candidate(s = \"aabbccddeeffgghhiijj\",k = 5) == 4",
    "assert candidate(s = \"aabbccddeeffgghhiijjkkllmmnnoopp\",k = 6) == 8",
    "assert candidate(s = \"aaabaaabaaabaaab\",k = 5) == 1",
    "assert candidate(s = \"aabbccddeeff\",k = 3) == 4",
    "assert candidate(s = \"abcdefgabcdefg\",k = 2) == 5",
    "assert candidate(s = \"racecar\",k = 3) == 2",
    "assert candidate(s = \"abababab\",k = 3) == 1",
    "assert candidate(s = \"ababababababab\",k = 5) == 1",
    "assert candidate(s = \"abcabcabcabcabcabc\",k = 6) == 5",
    "assert candidate(s = \"mnopqrnopqr\",k = 3) == 4",
    "assert candidate(s = \"deified\",k = 1) == 0",
    "assert candidate(s = \"abcdefghijabcdefghijabcdefghij\",k = 5) == 4",
    "assert candidate(s = \"abcabcabcabcabcabcabc\",k = 7) == 6",
    "assert candidate(s = \"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz\",k = 7) == 0",
    "assert candidate(s = \"abcdefghij\",k = 5) == 5",
    "assert candidate(s = \"noon\",k = 1) == 0",
    "assert candidate(s = \"aaaaaaaaaa\",k = 5) == 0",
    "assert candidate(s = \"abcdefghijklnmopqrstuvwxyz\",k = 5) == 9",
    "assert candidate(s = \"abcdefghij\",k = 3) == 4",
    "assert candidate(s = \"racecar\",k = 2) == 3",
    "assert candidate(s = \"rotor\",k = 1) == 0",
    "assert candidate(s = \"abracadabraabracadabra\",k = 5) == 4",
    "assert candidate(s = \"xyzyxzyxzyx\",k = 4) == 3",
    "assert candidate(s = \"aaaaabbbbccccdddd\",k = 4) == 0",
    "assert candidate(s = \"aaabbbcccdddeeefffggg\",k = 5) == 3",
    "assert candidate(s = \"aaaabbbbccccdddd\",k = 4) == 0",
    "assert candidate(s = \"abcabcabcabcabcabcabcabc\",k = 6) == 3",
    "assert candidate(s = \"ababababab\",k = 3) == 0",
    "assert candidate(s = \"aabaaabaaabaaa\",k = 4) == 1",
    "assert candidate(s = \"aabbccddeeffgg\",k = 4) == 4",
    "assert candidate(s = \"aaaaabbbbcccc\",k = 3) == 0",
    "assert candidate(s = \"mnopqrsmnopqrsmno\",k = 3) == 6",
    "assert candidate(s = \"aabbccddeeffgg\",k = 6) == 2",
    "assert candidate(s = \"zzzaaaabbbccc\",k = 4) == 0",
    "assert candidate(s = \"abcdefghijklmnopqrstuvwxyz\",k = 10) == 10",
    "assert candidate(s = \"abababababababab\",k = 4) == 0",
    "assert candidate(s = \"mnopqrspqrspqr\",k = 3) == 2",
    "assert candidate(s = \"abacabadaba\",k = 3) == 1",
    "assert candidate(s = \"mississippi\",k = 3) == 1",
    "assert candidate(s = \"abacabadabacaba\",k = 5) == 2",
    "assert candidate(s = \"abacabadabacaba\",k = 3) == 0",
    "assert candidate(s = \"zzzzzyzzzzzz\",k = 5) == 0",
    "assert candidate(s = \"xyxyxyxyxyxy\",k = 6) == 6",
    "assert candidate(s = \"abcdeedcba\",k = 2) == 4",
    "assert candidate(s = \"abcdabcdabcdabcdabcd\",k = 4) == 1",
    "assert candidate(s = \"abcdefedcba\",k = 5) == 4",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaaaa\",k = 5) == 0",
    "assert candidate(s = \"zzzzzyzzzzz\",k = 2) == 0",
    "assert candidate(s = \"abcabcabcabcabc\",k = 5) == 4",
    "assert candidate(s = \"abcdefabcdef\",k = 2) == 1",
    "assert candidate(s = \"abcdefabcdefabcdefabcdef\",k = 5) == 3",
    "assert candidate(s = \"anana\",k = 1) == 0",
    "assert candidate(s = \"abcdefghijabcdefghij\",k = 5) == 7",
    "assert candidate(s = \"aaaabbbb\",k = 2) == 0",
    "assert candidate(s = \"xyzyzyzyz\",k = 4) == 3",
    "assert candidate(s = \"mnopqrstuvwx\",k = 4) == 4",
    "assert candidate(s = \"zzzzzzyyyzzzzzyyy\",k = 2) == 0",
    "assert candidate(s = \"reviled\",k = 2) == 3",
    "assert candidate(s = \"aaabbbbccccaaa\",k = 3) == 3",
    "assert candidate(s = \"abacabadabacaba\",k = 4) == 1",
    "assert candidate(s = \"aabbccddeeff\",k = 4) == 2",
    "assert candidate(s = \"xyzxyzxyzxyzxyz\",k = 4) == 3"
  ]
}