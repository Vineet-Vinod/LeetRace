{
  "id": "reverse-substrings-between-each-pair-of-parentheses",
  "title": "Reverse Substrings Between Each Pair Of Parentheses",
  "difficulty": "Medium",
  "tags": [
    "Stack",
    "String"
  ],
  "description": "You are given a string s that consists of lower case English letters and brackets.\nReverse the strings in each pair of matching parentheses, starting from the innermost one.\nYour result should not contain any brackets.\n\u00a0\nExample 1:\n\nInput: s = \"(abcd)\"\nOutput: \"dcba\"\n\nExample 2:\n\nInput: s = \"(u(love)i)\"\nOutput: \"iloveu\"\nExplanation: The substring \"love\" is reversed first, then the whole string is reversed.\n\nExample 3:\n\nInput: s = \"(ed(et(oc))el)\"\nOutput: \"leetcode\"\nExplanation: First, we reverse the substring \"oc\", then \"etco\", and finally, the whole string.\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 2000\ns only contains lower case English characters and parentheses.\nIt is guaranteed that all parentheses are balanced.\n\n",
  "entry_point": "Solution().reverseParentheses",
  "starter_code": "class Solution:\n    def reverseParentheses(self, s: str) -> str:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"(a(b(c)d)e)\") == \"ebcda\"\n    assert candidate(s = \"(a(b)c(d(e)f)g)\") == \"gdefcba\"\n    assert candidate(s = \"(abc)(def)\") == \"cbafed\"\n    assert candidate(s = \"(a(b)c(d)e(f)g)\") == \"gfedcba\"\n    assert candidate(s = \"(z)\") == \"z\"\n    assert candidate(s = \"(abcd)\") == \"dcba\"\n    assert candidate(s = \"a(b)c(d(e)f)g\") == \"abcfedg\"\n    assert candidate(s = \"(ed(et(oc))el)\") == \"leetcode\"\n    assert candidate(s = \"x(abc)d(efg)h(ij(k(lm)n)op)q\") == \"xcbadgfehpokmlnjiq\"\n    assert candidate(s = \"abcdefghij(klmnop(qrstuvwxyz))\") == \"abcdefghijqrstuvwxyzponmlk\"\n    assert candidate(s = \"abc\") == \"abc\"\n    assert candidate(s = \"(abc)d(efg)\") == \"cbadgfe\"\n    assert candidate(s = \"(a(b(c)d)e(f(g)h)i\") == \"(adcbehgfi\"\n    assert candidate(s = \"()\") == \"\"\n    assert candidate(s = \"a(bcdefghijkl(mno)p)q\") == \"apmnolkjihgfedcbq\"\n    assert candidate(s = \"(a)\") == \"a\"\n    assert candidate(s = \"(u(love)i)\") == \"iloveu\"\n    assert candidate(s = \"ab(c(d(e(fg)h)i)j)k\") == \"abjdhfgeick\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o\") == \"(anclejghifkdmbo\"\n    assert candidate(s = \"x(y(z(wvu)tsr)qpo)nm\") == \"xopqzuvwtsrynm\"\n    assert candidate(s = \"(a(b(c)d)e(f(g(h)i)j)k)l\") == \"kfihgjebcdal\"\n    assert candidate(s = \"a(bc(def(ghi)jkl)mno(pqr(stu)vwx)y(z))\") == \"azypqrutsvwxonmdefihgjklcb\"\n    assert candidate(s = \"a(b(c)d(e(f(g)h)i)j(k(l(m)n)o)p\") == \"a(bcdifghejolmnkp\"\n    assert candidate(s = \"a(bc(def(ghi(jkl(mno)pqr)stu)vwx(yz))\") == \"a(bcyzxwvghirqpmnolkjstufed\"\n    assert candidate(s = \"a(b(c)d(e(f(g(h)i)j)k)l)m\") == \"alejghifkdcbm\"\n    assert candidate(s = \"x(y(z))a(b(c)d)e(f(g(h)i)j)k\") == \"xzyadcbejghifk\"\n    assert candidate(s = \"x(y(z))w\") == \"xzyw\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))z(y(x(w(v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"(a(b(c(d(e(fhjlnprtvxzywusqomkigz(y(x(w(v(usqomkigecabdfhjlnprt\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p)q)r)s)t)u)v)w)x)y)z))))\") == \"(a(bdfyhwjulsnqpormtkvixgzec\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z)))))))))))))))))))))(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))\") == \"(a(b(c(d(egikmoqsuwyzxvtrpnljhf(a(b(c(d(e(fhjlnprtvxzywusqomkig\"\n    assert candidate(s = \"(abc)(def)((ghi)(jkl))(mno)(pqr)((stu)(vwx))(yz)\") == \"cbafedjklghionmrqpvwxstuzy\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i))))))))\") == \"(acegihfdb\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p)q)r)s)t)u)v)w)x)y)z))))z(y(x(w(v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"(a(bdfyhwjulsnqpormtkvixgzecz(y(x(w(v(usqomkigecabdfhjlnprt\"\n    assert candidate(s = \"p(q(r(s)t)u)v(w(x(y(z))w)v)u\") == \"purstqvvxzywwu\"\n    assert candidate(s = \"a(b(c(d(e(f(g)h)i)j)k)l)m\") == \"alcjehgfidkbm\"\n    assert candidate(s = \"(a(bc)de)\") == \"edbca\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w(x(yz))))))))))\") == \"(anclejghifkdmboqsuwyzxvtrp\"\n    assert candidate(s = \"a(bc(def(ghi(jkl(mno(pqr(stu(vwx(yz)))))))))b\") == \"adefjklpqrvwxzyutsonmihgcbb\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u)v)w)x)y)z)\") == \"(anclejghifkdmbozqxsvutwryp\"\n    assert candidate(s = \"abcdefgh(ijklmnopqrstuvwxyz)\") == \"abcdefghzyxwvutsrqponmlkji\"\n    assert candidate(s = \"(abc(def(ghi(jkl(mno)pqr)stu)vwx(yz))(abc(def(ghi(jkl(mno)pqr)stu)vwx(yz))\") == \"(abcyzxwvghirqpmnolkjstufed(abcyzxwvghirqpmnolkjstufed\"\n    assert candidate(s = \"(abcdefgh)ijklmnopqrstuvwxyz\") == \"hgfedcbaijklmnopqrstuvwxyz\"\n    assert candidate(s = \"a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(vw)x)y)z)))\") == \"anclejghifkdmbo(prztxvwuysq\"\n    assert candidate(s = \"a(b(c)d(e(f)g)h)i\") == \"ahefgdcbi\"\n    assert candidate(s = \"((abc)(def))\") == \"defabc\"\n    assert candidate(s = \"(a(b(c)d)e(f(g(h)i)j)k)\") == \"kfihgjebcda\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k(l)m)n)o(p(q(r)s)t)u(v(w)x)y(z)))\") == \"(acnejghifklmdotqrspuxwvyzb\"\n    assert candidate(s = \"a(b(c)d(e(f(g)h)i)j(k(l(m)n)o)p(q(r)s)t(u(v)w)x(y(z)))\") == \"ayzxuvwtqrspknmlojehgfidcb\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w(x(y(z(u(v(w(x)y)z))))))))))))))\") == \"prtvxzvyxwzuywusqobmdkfihgjelcna\"\n    assert candidate(s = \"a(b(c)d)e(f(g(h)i)j)k(l(m(n(o)p)q)r)s(t(u(v)w)x)yz\") == \"adcbejghifkrmponqlsxuvwtyz\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r)s)t)u(v(w)x)y(z))\") == \"zyvwxupsrqtobmdkfihgjelcna\"\n    assert candidate(s = \"(a(b(c)d)e(f(g)h)i)\") == \"ifghebcda\"\n    assert candidate(s = \"abc(def(ghi)jkl)(mno(pqr)stu)(vw(x(yz)))\") == \"abclkjghifedutspqronmxzywv\"\n    assert candidate(s = \"a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))b)c\") == \"a(b(c(d(ebgikmoqsuwyzxvtrpnljhfc\"\n    assert candidate(s = \"a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r)s)t)u)v)w)x)y)z)))))))))\") == \"acegizkxmvotqrspunwlyjhfdb\"\n    assert candidate(s = \"(ab)(cd)(ef)(gh)(ij)(kl)(mn)(op)(qr)(st)(uv)(wx)(yz)\") == \"badcfehgjilknmporqtsvuxwzy\"\n    assert candidate(s = \"(abcdefgh(i(jklm(nopq)rst)uv)wxyz)\") == \"zyxwitsrnopqmlkjuvhgfedcba\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u)v(w)x)y)z)))\") == \"(anclejghifkdmboqzsxwvutyrp\"\n    assert candidate(s = \"(p(q(r)s)t)(u(v(w)x)y)\") == \"tqrspyvwxu\"\n    assert candidate(s = \"a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r)s)t)u\") == \"anclejghifkdmbotqrspu\"\n    assert candidate(s = \"(ab(cd(ef(gh(ij)kl)mn)op)qr)st\") == \"rqcdnmghjiklfeopbast\"\n    assert candidate(s = \"(x(y(z)))\") == \"yzx\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w)x)y)z)u)v)w)x)y(z))\") == \"zypwrutyvwxuzsvqxobmdkfihgjelcna\"\n    assert candidate(s = \"(a(b)c(d(e(f(g)h)i)j)k(l(m)n)o(p(q(r)s)t)u)\") == \"upsrqtolmnkdifghejcba\"\n    assert candidate(s = \"((a(b)c)(d(e(f)g)h)i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))j)\") == \"(cbahefgdijkmoqsuwyzxvtrpnlj\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i(j)k)l)m)n)o(p(q(r)s)t)u)v)\") == \"(avcnelghijkfmdotqrspub\"\n    assert candidate(s = \"x(y(z))\") == \"xzy\"\n    assert candidate(s = \"x(a(y(b(z(c)d)e)f)g)h(i(j(k(l)m)n)o)p\") == \"xgyezcdbfahojmlknip\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w(x)y)z)u)v)w)x)y(z))w)x)y(z)\") == \"xpzyrwtuvyxwzuvsxqwobmdkfihgjelcnayz\"\n    assert candidate(s = \"(ab)(cd)((ef)(gh))(ij(kl(mn(op)qr)st)(uv(w(x(yz))))\") == \"badcghef(ijtsmnpoqrlkwyzxvu\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))\") == \"(a(b(c(d(e(fhjlnprtvxzywusqomkig\"\n    assert candidate(s = \"x(y(z)(w))v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"xwzyv(usqomkigecabdfhjlnprt\"\n    assert candidate(s = \"((((((((((((a))))))))))))\") == \"a\"\n    assert candidate(s = \"((a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u)v)w)x)y)z))\") == \"(pyrwtuvsxqzobmdkfihgjelcna\"\n    assert candidate(s = \"x(y(z))a(b(c)d)e(f(g(h)i)j)k(l(m)n)o(p(q(r)s)t(u(v)w)x(y(z)))\") == \"xzyadcbejghifknmloyzxuvwtqrsp\"\n    assert candidate(s = \"(a(b(c(d(e(f(g)))))))\") == \"bdfgeca\"\n    assert candidate(s = \"m(n(o(p(q(r(s(t(u(v(w(x(y(z(abc)def)ghi)jkl)mno)pqr)stu)vwx)yzz)\") == \"m(n(o(p(q(rzzytutsvonmxihgzcbadefyjklwpqruvwxs\"\n    assert candidate(s = \"(p(q(r(s(t(u(v(w(x(y(z)))))))))))\") == \"qsuwyzxvtrp\"\n    assert candidate(s = \"a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))b\") == \"a(b(c(d(e(fhjlnprtvxzywusqomkigb\"\n    assert candidate(s = \"(p(q(r(s(t(u)v)w)x)y)z)\") == \"zqxsvutwryp\"\n    assert candidate(s = \"(abc(def(ghi(jkl(mno(pqr(stu(vwx(yz)))))))))\") == \"defjklpqrvwxzyutsonmihgcba\"\n    assert candidate(s = \"a(b(c(d(e(f(g)h)i)j)k)l)\") == \"alcjehgfidkb\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(ij)kl)mno)pqr)stu)vw)xy)z)\") == \"(azcwverqpglkijhmnofstudxyb\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r)s)t(u(v)w)x)y(z))\") == \"zypsrqtwvuxobmdkfihgjelcna\"\n    assert candidate(s = \"(a(bc(def)ghi)jkl)\") == \"lkjbcfedghia\"\n    assert candidate(s = \"x(y(z)(w(v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"x(yz(w(v(usqomkigecabdfhjlnprt\"\n    assert candidate(s = \"((a(b)c)(d(e(f)g)h)i(j(k(l(m)n)o)p)q\") == \"(cbahefgdipknmlojq\"\n    assert candidate(s = \"abc(def(ghi(jkl(mno(pqr(stu(vwx)y(z)))))))\") == \"abcghimnostuxwvyzrqplkjfed\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k(l)m)n)o(p(q(r)s)t)u(v(w)x)y(z)))(a(b(c(d(e(f(g(h)i)j)k(l)m)n)o(p(q(r)s)t)u(v(w)x)y(z))))\") == \"(acnejghifklmdotqrspuxwvyzbbzyvwxupsrqtodmlkfihgjenca\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))\") == \"(a(b(c(dfhjlnprtvxzywusqomkiglnprtvxzywusqome\"\n    assert candidate(s = \"(a(b(c(d(e(f)g)h)i)j)\") == \"(ajchefgdib\"\n    assert candidate(s = \"x(y(z((a)(b))c)d)e\") == \"xdzbacye\"\n    assert candidate(s = \"(a(b(c(d(e(f(g(h(i(jk)lm)n)o)p)q)r)s)t)u)\") == \"ubsdqfohmljkingpercta\"\n",
  "test_cases": [
    "assert candidate(s = \"(a(b(c)d)e)\") == \"ebcda\"",
    "assert candidate(s = \"(a(b)c(d(e)f)g)\") == \"gdefcba\"",
    "assert candidate(s = \"(abc)(def)\") == \"cbafed\"",
    "assert candidate(s = \"(a(b)c(d)e(f)g)\") == \"gfedcba\"",
    "assert candidate(s = \"(z)\") == \"z\"",
    "assert candidate(s = \"(abcd)\") == \"dcba\"",
    "assert candidate(s = \"a(b)c(d(e)f)g\") == \"abcfedg\"",
    "assert candidate(s = \"(ed(et(oc))el)\") == \"leetcode\"",
    "assert candidate(s = \"x(abc)d(efg)h(ij(k(lm)n)op)q\") == \"xcbadgfehpokmlnjiq\"",
    "assert candidate(s = \"abcdefghij(klmnop(qrstuvwxyz))\") == \"abcdefghijqrstuvwxyzponmlk\"",
    "assert candidate(s = \"abc\") == \"abc\"",
    "assert candidate(s = \"(abc)d(efg)\") == \"cbadgfe\"",
    "assert candidate(s = \"(a(b(c)d)e(f(g)h)i\") == \"(adcbehgfi\"",
    "assert candidate(s = \"()\") == \"\"",
    "assert candidate(s = \"a(bcdefghijkl(mno)p)q\") == \"apmnolkjihgfedcbq\"",
    "assert candidate(s = \"(a)\") == \"a\"",
    "assert candidate(s = \"(u(love)i)\") == \"iloveu\"",
    "assert candidate(s = \"ab(c(d(e(fg)h)i)j)k\") == \"abjdhfgeick\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o\") == \"(anclejghifkdmbo\"",
    "assert candidate(s = \"x(y(z(wvu)tsr)qpo)nm\") == \"xopqzuvwtsrynm\"",
    "assert candidate(s = \"(a(b(c)d)e(f(g(h)i)j)k)l\") == \"kfihgjebcdal\"",
    "assert candidate(s = \"a(bc(def(ghi)jkl)mno(pqr(stu)vwx)y(z))\") == \"azypqrutsvwxonmdefihgjklcb\"",
    "assert candidate(s = \"a(b(c)d(e(f(g)h)i)j(k(l(m)n)o)p\") == \"a(bcdifghejolmnkp\"",
    "assert candidate(s = \"a(bc(def(ghi(jkl(mno)pqr)stu)vwx(yz))\") == \"a(bcyzxwvghirqpmnolkjstufed\"",
    "assert candidate(s = \"a(b(c)d(e(f(g(h)i)j)k)l)m\") == \"alejghifkdcbm\"",
    "assert candidate(s = \"x(y(z))a(b(c)d)e(f(g(h)i)j)k\") == \"xzyadcbejghifk\"",
    "assert candidate(s = \"x(y(z))w\") == \"xzyw\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))z(y(x(w(v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"(a(b(c(d(e(fhjlnprtvxzywusqomkigz(y(x(w(v(usqomkigecabdfhjlnprt\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p)q)r)s)t)u)v)w)x)y)z))))\") == \"(a(bdfyhwjulsnqpormtkvixgzec\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z)))))))))))))))))))))(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))\") == \"(a(b(c(d(egikmoqsuwyzxvtrpnljhf(a(b(c(d(e(fhjlnprtvxzywusqomkig\"",
    "assert candidate(s = \"(abc)(def)((ghi)(jkl))(mno)(pqr)((stu)(vwx))(yz)\") == \"cbafedjklghionmrqpvwxstuzy\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i))))))))\") == \"(acegihfdb\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p)q)r)s)t)u)v)w)x)y)z))))z(y(x(w(v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"(a(bdfyhwjulsnqpormtkvixgzecz(y(x(w(v(usqomkigecabdfhjlnprt\"",
    "assert candidate(s = \"p(q(r(s)t)u)v(w(x(y(z))w)v)u\") == \"purstqvvxzywwu\"",
    "assert candidate(s = \"a(b(c(d(e(f(g)h)i)j)k)l)m\") == \"alcjehgfidkbm\"",
    "assert candidate(s = \"(a(bc)de)\") == \"edbca\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w(x(yz))))))))))\") == \"(anclejghifkdmboqsuwyzxvtrp\"",
    "assert candidate(s = \"a(bc(def(ghi(jkl(mno(pqr(stu(vwx(yz)))))))))b\") == \"adefjklpqrvwxzyutsonmihgcbb\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u)v)w)x)y)z)\") == \"(anclejghifkdmbozqxsvutwryp\"",
    "assert candidate(s = \"abcdefgh(ijklmnopqrstuvwxyz)\") == \"abcdefghzyxwvutsrqponmlkji\"",
    "assert candidate(s = \"(abc(def(ghi(jkl(mno)pqr)stu)vwx(yz))(abc(def(ghi(jkl(mno)pqr)stu)vwx(yz))\") == \"(abcyzxwvghirqpmnolkjstufed(abcyzxwvghirqpmnolkjstufed\"",
    "assert candidate(s = \"(abcdefgh)ijklmnopqrstuvwxyz\") == \"hgfedcbaijklmnopqrstuvwxyz\"",
    "assert candidate(s = \"a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(vw)x)y)z)))\") == \"anclejghifkdmbo(prztxvwuysq\"",
    "assert candidate(s = \"a(b(c)d(e(f)g)h)i\") == \"ahefgdcbi\"",
    "assert candidate(s = \"((abc)(def))\") == \"defabc\"",
    "assert candidate(s = \"(a(b(c)d)e(f(g(h)i)j)k)\") == \"kfihgjebcda\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k(l)m)n)o(p(q(r)s)t)u(v(w)x)y(z)))\") == \"(acnejghifklmdotqrspuxwvyzb\"",
    "assert candidate(s = \"a(b(c)d(e(f(g)h)i)j(k(l(m)n)o)p(q(r)s)t(u(v)w)x(y(z)))\") == \"ayzxuvwtqrspknmlojehgfidcb\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w(x(y(z(u(v(w(x)y)z))))))))))))))\") == \"prtvxzvyxwzuywusqobmdkfihgjelcna\"",
    "assert candidate(s = \"a(b(c)d)e(f(g(h)i)j)k(l(m(n(o)p)q)r)s(t(u(v)w)x)yz\") == \"adcbejghifkrmponqlsxuvwtyz\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r)s)t)u(v(w)x)y(z))\") == \"zyvwxupsrqtobmdkfihgjelcna\"",
    "assert candidate(s = \"(a(b(c)d)e(f(g)h)i)\") == \"ifghebcda\"",
    "assert candidate(s = \"abc(def(ghi)jkl)(mno(pqr)stu)(vw(x(yz)))\") == \"abclkjghifedutspqronmxzywv\"",
    "assert candidate(s = \"a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))b)c\") == \"a(b(c(d(ebgikmoqsuwyzxvtrpnljhfc\"",
    "assert candidate(s = \"a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r)s)t)u)v)w)x)y)z)))))))))\") == \"acegizkxmvotqrspunwlyjhfdb\"",
    "assert candidate(s = \"(ab)(cd)(ef)(gh)(ij)(kl)(mn)(op)(qr)(st)(uv)(wx)(yz)\") == \"badcfehgjilknmporqtsvuxwzy\"",
    "assert candidate(s = \"(abcdefgh(i(jklm(nopq)rst)uv)wxyz)\") == \"zyxwitsrnopqmlkjuvhgfedcba\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u)v(w)x)y)z)))\") == \"(anclejghifkdmboqzsxwvutyrp\"",
    "assert candidate(s = \"(p(q(r)s)t)(u(v(w)x)y)\") == \"tqrspyvwxu\"",
    "assert candidate(s = \"a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r)s)t)u\") == \"anclejghifkdmbotqrspu\"",
    "assert candidate(s = \"(ab(cd(ef(gh(ij)kl)mn)op)qr)st\") == \"rqcdnmghjiklfeopbast\"",
    "assert candidate(s = \"(x(y(z)))\") == \"yzx\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w)x)y)z)u)v)w)x)y(z))\") == \"zypwrutyvwxuzsvqxobmdkfihgjelcna\"",
    "assert candidate(s = \"(a(b)c(d(e(f(g)h)i)j)k(l(m)n)o(p(q(r)s)t)u)\") == \"upsrqtolmnkdifghejcba\"",
    "assert candidate(s = \"((a(b)c)(d(e(f)g)h)i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))j)\") == \"(cbahefgdijkmoqsuwyzxvtrpnlj\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i(j)k)l)m)n)o(p(q(r)s)t)u)v)\") == \"(avcnelghijkfmdotqrspub\"",
    "assert candidate(s = \"x(y(z))\") == \"xzy\"",
    "assert candidate(s = \"x(a(y(b(z(c)d)e)f)g)h(i(j(k(l)m)n)o)p\") == \"xgyezcdbfahojmlknip\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u(v(w(x)y)z)u)v)w)x)y(z))w)x)y(z)\") == \"xpzyrwtuvyxwzuvsxqwobmdkfihgjelcnayz\"",
    "assert candidate(s = \"(ab)(cd)((ef)(gh))(ij(kl(mn(op)qr)st)(uv(w(x(yz))))\") == \"badcghef(ijtsmnpoqrlkwyzxvu\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))\") == \"(a(b(c(d(e(fhjlnprtvxzywusqomkig\"",
    "assert candidate(s = \"x(y(z)(w))v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"xwzyv(usqomkigecabdfhjlnprt\"",
    "assert candidate(s = \"((((((((((((a))))))))))))\") == \"a\"",
    "assert candidate(s = \"((a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r(s(t(u)v)w)x)y)z))\") == \"(pyrwtuvsxqzobmdkfihgjelcna\"",
    "assert candidate(s = \"x(y(z))a(b(c)d)e(f(g(h)i)j)k(l(m)n)o(p(q(r)s)t(u(v)w)x(y(z)))\") == \"xzyadcbejghifknmloyzxuvwtqrsp\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g)))))))\") == \"bdfgeca\"",
    "assert candidate(s = \"m(n(o(p(q(r(s(t(u(v(w(x(y(z(abc)def)ghi)jkl)mno)pqr)stu)vwx)yzz)\") == \"m(n(o(p(q(rzzytutsvonmxihgzcbadefyjklwpqruvwxs\"",
    "assert candidate(s = \"(p(q(r(s(t(u(v(w(x(y(z)))))))))))\") == \"qsuwyzxvtrp\"",
    "assert candidate(s = \"a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))b\") == \"a(b(c(d(e(fhjlnprtvxzywusqomkigb\"",
    "assert candidate(s = \"(p(q(r(s(t(u)v)w)x)y)z)\") == \"zqxsvutwryp\"",
    "assert candidate(s = \"(abc(def(ghi(jkl(mno(pqr(stu(vwx(yz)))))))))\") == \"defjklpqrvwxzyutsonmihgcba\"",
    "assert candidate(s = \"a(b(c(d(e(f(g)h)i)j)k)l)\") == \"alcjehgfidkb\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(ij)kl)mno)pqr)stu)vw)xy)z)\") == \"(azcwverqpglkijhmnofstudxyb\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k)l)m)n)o(p(q(r)s)t(u(v)w)x)y(z))\") == \"zypsrqtwvuxobmdkfihgjelcna\"",
    "assert candidate(s = \"(a(bc(def)ghi)jkl)\") == \"lkjbcfedghia\"",
    "assert candidate(s = \"x(y(z)(w(v(u(t(s(r(q(p(o(n(m(l(k(j(i(h(g(f(e(d(c(b(a))))))))))))))))))))\") == \"x(yz(w(v(usqomkigecabdfhjlnprt\"",
    "assert candidate(s = \"((a(b)c)(d(e(f)g)h)i(j(k(l(m)n)o)p)q\") == \"(cbahefgdipknmlojq\"",
    "assert candidate(s = \"abc(def(ghi(jkl(mno(pqr(stu(vwx)y(z)))))))\") == \"abcghimnostuxwvyzrqplkjfed\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h)i)j)k(l)m)n)o(p(q(r)s)t)u(v(w)x)y(z)))(a(b(c(d(e(f(g(h)i)j)k(l)m)n)o(p(q(r)s)t)u(v(w)x)y(z))))\") == \"(acnejghifklmdotqrspuxwvyzbbzyvwxupsrqtodmlkfihgjenca\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))))))l(m(n(o(p(q(r(s(t(u(v(w(x(y(z))))))))))))))))\") == \"(a(b(c(dfhjlnprtvxzywusqomkiglnprtvxzywusqome\"",
    "assert candidate(s = \"(a(b(c(d(e(f)g)h)i)j)\") == \"(ajchefgdib\"",
    "assert candidate(s = \"x(y(z((a)(b))c)d)e\") == \"xdzbacye\"",
    "assert candidate(s = \"(a(b(c(d(e(f(g(h(i(jk)lm)n)o)p)q)r)s)t)u)\") == \"ubsdqfohmljkingpercta\""
  ]
}