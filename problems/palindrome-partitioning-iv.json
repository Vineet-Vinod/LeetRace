{
  "id": "palindrome-partitioning-iv",
  "title": "Palindrome Partitioning Iv",
  "difficulty": "Hard",
  "tags": [
    "String",
    "Dynamic Programming"
  ],
  "description": "Given a string s, return true if it is possible to split the string s into three non-empty palindromic substrings. Otherwise, return false.\u200b\u200b\u200b\u200b\u200b\nA string is said to be palindrome if it the same string when reversed.\n\u00a0\nExample 1:\n\nInput: s = \"abcbdd\"\nOutput: true\nExplanation: \"abcbdd\" = \"a\" + \"bcb\" + \"dd\", and all three substrings are palindromes.\n\nExample 2:\n\nInput: s = \"bcbddxy\"\nOutput: false\nExplanation: s cannot be split into 3 palindromes.\n\n\u00a0\nConstraints:\n\n3 <= s.length <= 2000\ns\u200b\u200b\u200b\u200b\u200b\u200b consists only of lowercase English letters.\n\n",
  "entry_point": "Solution().checkPartitioning",
  "starter_code": "class Solution:\n    def checkPartitioning(self, s: str) -> bool:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"abcba\") == True\n    assert candidate(s = \"abcdcba\") == True\n    assert candidate(s = \"aabbaa\") == True\n    assert candidate(s = \"aaaaa\") == True\n    assert candidate(s = \"abacdfgdcaba\") == False\n    assert candidate(s = \"aabbbaa\") == True\n    assert candidate(s = \"noonnoon\") == True\n    assert candidate(s = \"aaa\") == True\n    assert candidate(s = \"aabb\") == True\n    assert candidate(s = \"racecar\") == True\n    assert candidate(s = \"abba\") == True\n    assert candidate(s = \"noon\") == True\n    assert candidate(s = \"deeee\") == True\n    assert candidate(s = \"abc\") == True\n    assert candidate(s = \"abcbdd\") == True\n    assert candidate(s = \"abcd\") == False\n    assert candidate(s = \"aabbcc\") == True\n    assert candidate(s = \"madamimadam\") == True\n    assert candidate(s = \"aabaacaab\") == True\n    assert candidate(s = \"bcbddxy\") == False\n    assert candidate(s = \"aabbccddeeeffgghhii\") == False\n    assert candidate(s = \"aabbccddeeefffggghhhiiii\") == False\n    assert candidate(s = \"kayakmadamracecar\") == True\n    assert candidate(s = \"levelracecar\") == False\n    assert candidate(s = \"civicnooncivicnoon\") == False\n    assert candidate(s = \"aaaaaabbaaaaa\") == True\n    assert candidate(s = \"madamnoonmadamnoonmadam\") == True\n    assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\") == True\n    assert candidate(s = \"rotordetartratedrotor\") == True\n    assert candidate(s = \"tattarrattatmadamracecar\") == True\n    assert candidate(s = \"abcabcabc\") == False\n    assert candidate(s = \"rotorlevelrotor\") == True\n    assert candidate(s = \"deifiedcivicdeified\") == True\n    assert candidate(s = \"rotorrefer\") == False\n    assert candidate(s = \"madamadam\") == True\n    assert candidate(s = \"aaaabbbbcccc\") == True\n    assert candidate(s = \"levellevellevellevellevellevel\") == True\n    assert candidate(s = \"deifieddeifieddeified\") == True\n    assert candidate(s = \"xyzzyxabcba\") == False\n    assert candidate(s = \"tacocatdeified\") == False\n    assert candidate(s = \"leveloneone\") == False\n    assert candidate(s = \"aabbccddeeefffggghhhhiiiiijjjjkkkkllllmmmmnnnnoooo\") == False\n    assert candidate(s = \"levelmadamrotor\") == True\n    assert candidate(s = \"abccbaabccba\") == True\n    assert candidate(s = \"abcdmadamracecar\") == False\n    assert candidate(s = \"levellevellevellevel\") == True\n    assert candidate(s = \"repaperdeified\") == False\n    assert candidate(s = \"noonnoonnoonnoon\") == True\n    assert candidate(s = \"racecarlevel\") == False\n    assert candidate(s = \"revilerleveldeified\") == False\n    assert candidate(s = \"aabbaabbaa\") == True\n    assert candidate(s = \"deifieddeifieddeifieddeifieddeified\") == True\n    assert candidate(s = \"kayakracecarkayak\") == True\n    assert candidate(s = \"abbbcbbaabbcbba\") == False\n    assert candidate(s = \"levelrotorabcddcba\") == True\n    assert candidate(s = \"aabbccddeeeffgghhiiiii\") == False\n    assert candidate(s = \"leveldeifiedlevel\") == True\n    assert candidate(s = \"noonnoonnoonnoonnoonnoon\") == True\n    assert candidate(s = \"abacabaabacabaabacabaabacaba\") == True\n    assert candidate(s = \"rotorreferrotorrefer\") == False\n    assert candidate(s = \"abccbaabccbaabccba\") == True\n    assert candidate(s = \"abacdfgdcabaaa\") == False\n    assert candidate(s = \"aabbaccd\") == False\n    assert candidate(s = \"aabbccddeeefffggghhhiiiiijjjjkkkkllllmmmmnnnnooooppppqqqrrrssstttuuuuvvvwwwxxxxyyyyzzzz\") == False\n    assert candidate(s = \"madammadammadam\") == True\n    assert candidate(s = \"racecarracecarracecar\") == True\n    assert candidate(s = \"madammadam\") == True\n    assert candidate(s = \"aibohphobiamadamaibohphobia\") == True\n    assert candidate(s = \"racecarbanana\") == True\n    assert candidate(s = \"abaabbab\") == True\n    assert candidate(s = \"racecarabacaba\") == False\n    assert candidate(s = \"abcdeedcba\") == True\n    assert candidate(s = \"aabbccddeeeeddcbaabbccdd\") == False\n    assert candidate(s = \"deeeeefeee\") == True\n    assert candidate(s = \"rotorleveldeifiedleveldeifiedrotor\") == False\n    assert candidate(s = \"aabbccddeeeeedddccbbaa\") == False\n    assert candidate(s = \"abccbaabccbaabccbaabccbaabccbaabccbaabccbaabccba\") == True\n    assert candidate(s = \"deifiedcivic\") == False\n    assert candidate(s = \"abcbaabcbabcba\") == True\n    assert candidate(s = \"civicracecar\") == False\n    assert candidate(s = \"wasitacaroracatisaw\") == True\n    assert candidate(s = \"rotorcentralpalindromerotor\") == False\n    assert candidate(s = \"abcdcbaabdcbaabcdcba\") == False\n    assert candidate(s = \"aibohphobia\") == True\n    assert candidate(s = \"leveldeifiedcivic\") == True\n    assert candidate(s = \"referredder\") == False\n    assert candidate(s = \"level\") == True\n    assert candidate(s = \"aabbccdd\") == False\n    assert candidate(s = \"rotorleveltwol\") == False\n    assert candidate(s = \"levellevellevel\") == True\n    assert candidate(s = \"rotorpusher\") == False\n    assert candidate(s = \"abccbaabc\") == False\n    assert candidate(s = \"referreferrefer\") == True\n    assert candidate(s = \"xyzyzyxyz\") == True\n    assert candidate(s = \"madamrotorlevel\") == True\n    assert candidate(s = \"madam\") == True\n    assert candidate(s = \"mammadmam\") == False\n    assert candidate(s = \"ababababababa\") == True\n    assert candidate(s = \"racecarlevelmadam\") == True\n    assert candidate(s = \"abababab\") == False\n    assert candidate(s = \"civiccivicciviccivicciviccivic\") == True\n    assert candidate(s = \"wasitacaroracitisawreferredder\") == False\n    assert candidate(s = \"xxyyxyyxxyyxyyxxyyxyy\") == True\n    assert candidate(s = \"abababa\") == True\n    assert candidate(s = \"racecarracecarracecarracecarracecar\") == True\n    assert candidate(s = \"referredderreferredderreferredder\") == False\n    assert candidate(s = \"levelonevenflow\") == False\n    assert candidate(s = \"referreferreferreferreferrefer\") == True\n    assert candidate(s = \"deifiedrotor\") == False\n    assert candidate(s = \"abcbaababcbcabcba\") == False\n    assert candidate(s = \"banana\") == False\n    assert candidate(s = \"levelonevenone\") == False\n    assert candidate(s = \"rotorrotorrotorrotorrotor\") == True\n    assert candidate(s = \"aabbccddeeffgg\") == False\n    assert candidate(s = \"detartrated\") == True\n    assert candidate(s = \"abbcbba\") == True\n    assert candidate(s = \"aabbabba\") == True\n    assert candidate(s = \"racecarannakayak\") == True\n    assert candidate(s = \"amanaplanacanalpanama\") == True\n    assert candidate(s = \"refermadamrefermadam\") == False\n    assert candidate(s = \"racecarleveldadlevel\") == False\n    assert candidate(s = \"abbaeaeabba\") == True\n    assert candidate(s = \"racecarracecar\") == True\n    assert candidate(s = \"rotorreferredder\") == True\n    assert candidate(s = \"noonnoonnoon\") == True\n    assert candidate(s = \"levelrefercivic\") == True\n    assert candidate(s = \"deified\") == True\n    assert candidate(s = \"abbaabbaabba\") == True\n    assert candidate(s = \"levelmadamatadammadam\") == False\n    assert candidate(s = \"abcdedcba\") == True\n    assert candidate(s = \"rotormadamrotor\") == True\n    assert candidate(s = \"rotorrotorrotor\") == True\n    assert candidate(s = \"xyxzyxyxzyx\") == False\n    assert candidate(s = \"rotorresistor\") == False\n    assert candidate(s = \"xylophonelevel\") == False\n    assert candidate(s = \"deifiedrotordeified\") == True\n    assert candidate(s = \"racecarrotorrotorcarcerac\") == False\n    assert candidate(s = \"abccbaabcba\") == False\n    assert candidate(s = \"noonnoonnoonnoonnoonnoonnoonnoonnoonnoonnoonnoonnoon\") == True\n    assert candidate(s = \"abcddcba\") == True\n    assert candidate(s = \"civic\") == True\n    assert candidate(s = \"rotor\") == True\n    assert candidate(s = \"civicnoon\") == False\n    assert candidate(s = \"madamatadammadam\") == False\n    assert candidate(s = \"repaperrepaperrepaper\") == True\n    assert candidate(s = \"rotorracecarracecar\") == True\n    assert candidate(s = \"civicciviccivic\") == True\n    assert candidate(s = \"rotorabanana\") == False\n    assert candidate(s = \"aabbccddeeefff\") == False\n    assert candidate(s = \"referdeifiedrefer\") == True\n    assert candidate(s = \"rotorotator\") == True\n    assert candidate(s = \"aabbccddeeffgghh\") == False\n    assert candidate(s = \"leveltwol\") == False\n    assert candidate(s = \"rotorresistorresistor\") == False\n    assert candidate(s = \"levelracecarlevel\") == True\n    assert candidate(s = \"rotordetartratedleveldeifiedrotor\") == False\n    assert candidate(s = \"madammadammadammadammadam\") == True\n    assert candidate(s = \"deifiedrotorlevel\") == True\n    assert candidate(s = \"refercivicrefer\") == True\n    assert candidate(s = \"abccbaabccbaabccbaabccbaabccba\") == True\n    assert candidate(s = \"leveldeified\") == False\n    assert candidate(s = \"rotorlevelmadam\") == True\n    assert candidate(s = \"neveroddoreven\") == True\n    assert candidate(s = \"redividerleveldeified\") == True\n    assert candidate(s = \"refer\") == True\n",
  "test_cases": [
    "assert candidate(s = \"abcba\") == True",
    "assert candidate(s = \"abcdcba\") == True",
    "assert candidate(s = \"aabbaa\") == True",
    "assert candidate(s = \"aaaaa\") == True",
    "assert candidate(s = \"abacdfgdcaba\") == False",
    "assert candidate(s = \"aabbbaa\") == True",
    "assert candidate(s = \"noonnoon\") == True",
    "assert candidate(s = \"aaa\") == True",
    "assert candidate(s = \"aabb\") == True",
    "assert candidate(s = \"racecar\") == True",
    "assert candidate(s = \"abba\") == True",
    "assert candidate(s = \"noon\") == True",
    "assert candidate(s = \"deeee\") == True",
    "assert candidate(s = \"abc\") == True",
    "assert candidate(s = \"abcbdd\") == True",
    "assert candidate(s = \"abcd\") == False",
    "assert candidate(s = \"aabbcc\") == True",
    "assert candidate(s = \"madamimadam\") == True",
    "assert candidate(s = \"aabaacaab\") == True",
    "assert candidate(s = \"bcbddxy\") == False",
    "assert candidate(s = \"aabbccddeeeffgghhii\") == False",
    "assert candidate(s = \"aabbccddeeefffggghhhiiii\") == False",
    "assert candidate(s = \"kayakmadamracecar\") == True",
    "assert candidate(s = \"levelracecar\") == False",
    "assert candidate(s = \"civicnooncivicnoon\") == False",
    "assert candidate(s = \"aaaaaabbaaaaa\") == True",
    "assert candidate(s = \"madamnoonmadamnoonmadam\") == True",
    "assert candidate(s = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\") == True",
    "assert candidate(s = \"rotordetartratedrotor\") == True",
    "assert candidate(s = \"tattarrattatmadamracecar\") == True",
    "assert candidate(s = \"abcabcabc\") == False",
    "assert candidate(s = \"rotorlevelrotor\") == True",
    "assert candidate(s = \"deifiedcivicdeified\") == True",
    "assert candidate(s = \"rotorrefer\") == False",
    "assert candidate(s = \"madamadam\") == True",
    "assert candidate(s = \"aaaabbbbcccc\") == True",
    "assert candidate(s = \"levellevellevellevellevellevel\") == True",
    "assert candidate(s = \"deifieddeifieddeified\") == True",
    "assert candidate(s = \"xyzzyxabcba\") == False",
    "assert candidate(s = \"tacocatdeified\") == False",
    "assert candidate(s = \"leveloneone\") == False",
    "assert candidate(s = \"aabbccddeeefffggghhhhiiiiijjjjkkkkllllmmmmnnnnoooo\") == False",
    "assert candidate(s = \"levelmadamrotor\") == True",
    "assert candidate(s = \"abccbaabccba\") == True",
    "assert candidate(s = \"abcdmadamracecar\") == False",
    "assert candidate(s = \"levellevellevellevel\") == True",
    "assert candidate(s = \"repaperdeified\") == False",
    "assert candidate(s = \"noonnoonnoonnoon\") == True",
    "assert candidate(s = \"racecarlevel\") == False",
    "assert candidate(s = \"revilerleveldeified\") == False",
    "assert candidate(s = \"aabbaabbaa\") == True",
    "assert candidate(s = \"deifieddeifieddeifieddeifieddeified\") == True",
    "assert candidate(s = \"kayakracecarkayak\") == True",
    "assert candidate(s = \"abbbcbbaabbcbba\") == False",
    "assert candidate(s = \"levelrotorabcddcba\") == True",
    "assert candidate(s = \"aabbccddeeeffgghhiiiii\") == False",
    "assert candidate(s = \"leveldeifiedlevel\") == True",
    "assert candidate(s = \"noonnoonnoonnoonnoonnoon\") == True",
    "assert candidate(s = \"abacabaabacabaabacabaabacaba\") == True",
    "assert candidate(s = \"rotorreferrotorrefer\") == False",
    "assert candidate(s = \"abccbaabccbaabccba\") == True",
    "assert candidate(s = \"abacdfgdcabaaa\") == False",
    "assert candidate(s = \"aabbaccd\") == False",
    "assert candidate(s = \"aabbccddeeefffggghhhiiiiijjjjkkkkllllmmmmnnnnooooppppqqqrrrssstttuuuuvvvwwwxxxxyyyyzzzz\") == False",
    "assert candidate(s = \"madammadammadam\") == True",
    "assert candidate(s = \"racecarracecarracecar\") == True",
    "assert candidate(s = \"madammadam\") == True",
    "assert candidate(s = \"aibohphobiamadamaibohphobia\") == True",
    "assert candidate(s = \"racecarbanana\") == True",
    "assert candidate(s = \"abaabbab\") == True",
    "assert candidate(s = \"racecarabacaba\") == False",
    "assert candidate(s = \"abcdeedcba\") == True",
    "assert candidate(s = \"aabbccddeeeeddcbaabbccdd\") == False",
    "assert candidate(s = \"deeeeefeee\") == True",
    "assert candidate(s = \"rotorleveldeifiedleveldeifiedrotor\") == False",
    "assert candidate(s = \"aabbccddeeeeedddccbbaa\") == False",
    "assert candidate(s = \"abccbaabccbaabccbaabccbaabccbaabccbaabccbaabccba\") == True",
    "assert candidate(s = \"deifiedcivic\") == False",
    "assert candidate(s = \"abcbaabcbabcba\") == True",
    "assert candidate(s = \"civicracecar\") == False",
    "assert candidate(s = \"wasitacaroracatisaw\") == True",
    "assert candidate(s = \"rotorcentralpalindromerotor\") == False",
    "assert candidate(s = \"abcdcbaabdcbaabcdcba\") == False",
    "assert candidate(s = \"aibohphobia\") == True",
    "assert candidate(s = \"leveldeifiedcivic\") == True",
    "assert candidate(s = \"referredder\") == False",
    "assert candidate(s = \"level\") == True",
    "assert candidate(s = \"aabbccdd\") == False",
    "assert candidate(s = \"rotorleveltwol\") == False",
    "assert candidate(s = \"levellevellevel\") == True",
    "assert candidate(s = \"rotorpusher\") == False",
    "assert candidate(s = \"abccbaabc\") == False",
    "assert candidate(s = \"referreferrefer\") == True",
    "assert candidate(s = \"xyzyzyxyz\") == True",
    "assert candidate(s = \"madamrotorlevel\") == True",
    "assert candidate(s = \"madam\") == True",
    "assert candidate(s = \"mammadmam\") == False",
    "assert candidate(s = \"ababababababa\") == True",
    "assert candidate(s = \"racecarlevelmadam\") == True",
    "assert candidate(s = \"abababab\") == False",
    "assert candidate(s = \"civiccivicciviccivicciviccivic\") == True",
    "assert candidate(s = \"wasitacaroracitisawreferredder\") == False",
    "assert candidate(s = \"xxyyxyyxxyyxyyxxyyxyy\") == True",
    "assert candidate(s = \"abababa\") == True",
    "assert candidate(s = \"racecarracecarracecarracecarracecar\") == True",
    "assert candidate(s = \"referredderreferredderreferredder\") == False",
    "assert candidate(s = \"levelonevenflow\") == False",
    "assert candidate(s = \"referreferreferreferreferrefer\") == True",
    "assert candidate(s = \"deifiedrotor\") == False",
    "assert candidate(s = \"abcbaababcbcabcba\") == False",
    "assert candidate(s = \"banana\") == False",
    "assert candidate(s = \"levelonevenone\") == False",
    "assert candidate(s = \"rotorrotorrotorrotorrotor\") == True",
    "assert candidate(s = \"aabbccddeeffgg\") == False",
    "assert candidate(s = \"detartrated\") == True",
    "assert candidate(s = \"abbcbba\") == True",
    "assert candidate(s = \"aabbabba\") == True",
    "assert candidate(s = \"racecarannakayak\") == True",
    "assert candidate(s = \"amanaplanacanalpanama\") == True",
    "assert candidate(s = \"refermadamrefermadam\") == False",
    "assert candidate(s = \"racecarleveldadlevel\") == False",
    "assert candidate(s = \"abbaeaeabba\") == True",
    "assert candidate(s = \"racecarracecar\") == True",
    "assert candidate(s = \"rotorreferredder\") == True",
    "assert candidate(s = \"noonnoonnoon\") == True",
    "assert candidate(s = \"levelrefercivic\") == True",
    "assert candidate(s = \"deified\") == True",
    "assert candidate(s = \"abbaabbaabba\") == True",
    "assert candidate(s = \"levelmadamatadammadam\") == False",
    "assert candidate(s = \"abcdedcba\") == True",
    "assert candidate(s = \"rotormadamrotor\") == True",
    "assert candidate(s = \"rotorrotorrotor\") == True",
    "assert candidate(s = \"xyxzyxyxzyx\") == False",
    "assert candidate(s = \"rotorresistor\") == False",
    "assert candidate(s = \"xylophonelevel\") == False",
    "assert candidate(s = \"deifiedrotordeified\") == True",
    "assert candidate(s = \"racecarrotorrotorcarcerac\") == False",
    "assert candidate(s = \"abccbaabcba\") == False",
    "assert candidate(s = \"noonnoonnoonnoonnoonnoonnoonnoonnoonnoonnoonnoonnoon\") == True",
    "assert candidate(s = \"abcddcba\") == True",
    "assert candidate(s = \"civic\") == True",
    "assert candidate(s = \"rotor\") == True",
    "assert candidate(s = \"civicnoon\") == False",
    "assert candidate(s = \"madamatadammadam\") == False",
    "assert candidate(s = \"repaperrepaperrepaper\") == True",
    "assert candidate(s = \"rotorracecarracecar\") == True",
    "assert candidate(s = \"civicciviccivic\") == True",
    "assert candidate(s = \"rotorabanana\") == False",
    "assert candidate(s = \"aabbccddeeefff\") == False",
    "assert candidate(s = \"referdeifiedrefer\") == True",
    "assert candidate(s = \"rotorotator\") == True",
    "assert candidate(s = \"aabbccddeeffgghh\") == False",
    "assert candidate(s = \"leveltwol\") == False",
    "assert candidate(s = \"rotorresistorresistor\") == False",
    "assert candidate(s = \"levelracecarlevel\") == True",
    "assert candidate(s = \"rotordetartratedleveldeifiedrotor\") == False",
    "assert candidate(s = \"madammadammadammadammadam\") == True",
    "assert candidate(s = \"deifiedrotorlevel\") == True",
    "assert candidate(s = \"refercivicrefer\") == True",
    "assert candidate(s = \"abccbaabccbaabccbaabccbaabccba\") == True",
    "assert candidate(s = \"leveldeified\") == False",
    "assert candidate(s = \"rotorlevelmadam\") == True",
    "assert candidate(s = \"neveroddoreven\") == True",
    "assert candidate(s = \"redividerleveldeified\") == True",
    "assert candidate(s = \"refer\") == True"
  ]
}