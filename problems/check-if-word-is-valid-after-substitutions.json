{
  "id": "check-if-word-is-valid-after-substitutions",
  "title": "Check If Word Is Valid After Substitutions",
  "difficulty": "Medium",
  "tags": [
    "Stack",
    "String"
  ],
  "description": "Given a string s, determine if it is valid.\nA string s is valid if, starting with an empty string t = \"\", you can transform t into s after performing the following operation any number of times:\n\nInsert string \"abc\" into any position in t. More formally, t becomes tleft + \"abc\" + tright, where t == tleft + tright. Note that tleft and tright may be empty.\n\nReturn true if s is a valid string, otherwise, return false.\n\u00a0\nExample 1:\n\nInput: s = \"aabcbc\"\nOutput: true\nExplanation:\n\"\" -> \"abc\" -> \"aabcbc\"\nThus, \"aabcbc\" is valid.\nExample 2:\n\nInput: s = \"abcabcababcc\"\nOutput: true\nExplanation:\n\"\" -> \"abc\" -> \"abcabc\" -> \"abcabcabc\" -> \"abcabcababcc\"\nThus, \"abcabcababcc\" is valid.\n\nExample 3:\n\nInput: s = \"abccba\"\nOutput: false\nExplanation: It is impossible to get \"abccba\" using the operation.\n\n\u00a0\nConstraints:\n\n1 <= s.length <= 2 * 104\ns consists of letters 'a', 'b', and 'c'\n\n",
  "entry_point": "Solution().isValid",
  "starter_code": "class Solution:\n    def isValid(self, s: str) -> bool:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(s = \"aaabbbccc\") == False\n    assert candidate(s = \"aababcbccabc\") == False\n    assert candidate(s = \"cababc\") == False\n    assert candidate(s = \"abcabcabc\") == True\n    assert candidate(s = \"aababcbabc\") == False\n    assert candidate(s = \"abcabcabcabc\") == True\n    assert candidate(s = \"aabcbc\") == True\n    assert candidate(s = \"\") == True\n    assert candidate(s = \"abcabc\") == True\n    assert candidate(s = \"abcabcababcc\") == True\n    assert candidate(s = \"bcaabc\") == False\n    assert candidate(s = \"aabcabcabc\") == False\n    assert candidate(s = \"bca\") == False\n    assert candidate(s = \"abc\") == True\n    assert candidate(s = \"aabababc\") == False\n    assert candidate(s = \"abcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabcabacbc\") == False\n    assert candidate(s = \"ababcabcababcc\") == False\n    assert candidate(s = \"abccba\") == False\n    assert candidate(s = \"cab\") == False\n    assert candidate(s = \"aabbcc\") == False\n    assert candidate(s = \"aabcbcababc\") == False\n    assert candidate(s = \"aabcbabcbabc\") == False\n    assert candidate(s = \"aabcbabcbabccba\") == False\n    assert candidate(s = \"aababababababcabcabcabcabcabc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"aababababababcabcababc\") == False\n    assert candidate(s = \"aabcbcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"ababcabcabcababcabcababcabc\") == False\n    assert candidate(s = \"abcabcabababcabc\") == False\n    assert candidate(s = \"ababcabcabcabcababc\") == False\n    assert candidate(s = \"ababcababcababcababcababcc\") == False\n    assert candidate(s = \"abcabababcababcabc\") == False\n    assert candidate(s = \"aababababcbcbcbc\") == False\n    assert candidate(s = \"aabbbccabcabcabcabcabcabcab\") == False\n    assert candidate(s = \"aabbabccbababc\") == False\n    assert candidate(s = \"aaaabbbbcccc\") == False\n    assert candidate(s = \"abcabababababababc\") == False\n    assert candidate(s = \"aababcabcbaabc\") == False\n    assert candidate(s = \"aabcbabcbabcbabcbabcbabc\") == False\n    assert candidate(s = \"abcabababababababcababababababc\") == False\n    assert candidate(s = \"abcabccbaabc\") == False\n    assert candidate(s = \"abcabcababababcabc\") == False\n    assert candidate(s = \"aabcbcaabcab\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"aabcbabcababcabcba\") == False\n    assert candidate(s = \"aabcbcababcbcababc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"aabcbabcabcbabcabcbabcabcbabcabcbabcabc\") == False\n    assert candidate(s = \"abccabccabccabccabccabccabccabccabcc\") == False\n    assert candidate(s = \"aababcababcabcabcabcabcababcc\") == False\n    assert candidate(s = \"aabcbcaabcbcaabcbcaabcbcaabc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabcabcabcabcabcab\") == False\n    assert candidate(s = \"abababcabcabcabc\") == False\n    assert candidate(s = \"abababcabcabcabcabc\") == False\n    assert candidate(s = \"abccababccababcc\") == False\n    assert candidate(s = \"ababcabcababcabcabcabcabc\") == False\n    assert candidate(s = \"abccbaabccbaabccba\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"aabcbcabcabcabcabcbcaabbcc\") == False\n    assert candidate(s = \"aabababababababcabcabc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"aabcbcababcbcababccba\") == False\n    assert candidate(s = \"ababababcabcabc\") == False\n    assert candidate(s = \"ababababababcabcabcababc\") == False\n    assert candidate(s = \"abccabccabccabccabccabcc\") == False\n    assert candidate(s = \"aabcbabcbababc\") == False\n    assert candidate(s = \"abcabcababccabcabcab\") == False\n    assert candidate(s = \"aabcbcabcabababcabcabcabababcabcab\") == False\n    assert candidate(s = \"aabcbcaabcbcaabcbcaabc\") == False\n    assert candidate(s = \"aabcbabcabcbabcabcbabcabc\") == False\n    assert candidate(s = \"abcabababcabababc\") == False\n    assert candidate(s = \"ababababababcabcabcabcabcabc\") == False\n    assert candidate(s = \"aaabbbcccaabbbcccaabbbcccabcabcabc\") == False\n    assert candidate(s = \"abcababccbaabc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabccbaabccba\") == False\n    assert candidate(s = \"aabcbabababcabcabc\") == False\n    assert candidate(s = \"aabcbcababccbaabcbcbcabcababcababcbc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabccba\") == False\n    assert candidate(s = \"abcababababcabab\") == False\n    assert candidate(s = \"abcababcababcababc\") == False\n    assert candidate(s = \"aabcbcababccbaabccba\") == False\n    assert candidate(s = \"abababababcabababcabc\") == False\n    assert candidate(s = \"aabcbcababcbcababcbcabababcabcabccba\") == False\n    assert candidate(s = \"aabcbabcbabcbabcbabcbabcbabcbabc\") == False\n    assert candidate(s = \"aababababababababcabcababcababcc\") == False\n    assert candidate(s = \"aabbccabcabcabcabcabcabcabc\") == False\n    assert candidate(s = \"abababababababababababcabcabcabcabcabcabc\") == False\n    assert candidate(s = \"aabcbcabcabcabcabcabccbaabc\") == False\n    assert candidate(s = \"aaaaaaaaaabbbbbbbbbbcccccccccc\") == False\n    assert candidate(s = \"abababababababababababc\") == False\n    assert candidate(s = \"abababababababababababcabcabc\") == False\n    assert candidate(s = \"aabcaabbccabcabcabc\") == False\n    assert candidate(s = \"ababcababcababcababcababcababcababcabcabcc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabababababababababababababcabcabcababcabc\") == False\n    assert candidate(s = \"abcabcabcabcabccba\") == False\n    assert candidate(s = \"aabcbcababccbaabcbcbcabcababcababcbcababccba\") == False\n    assert candidate(s = \"abcabcababcabcabcabababc\") == False\n    assert candidate(s = \"aaabbbbcccc\") == False\n    assert candidate(s = \"abcabababcababababc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"ababababcabcabcababc\") == False\n    assert candidate(s = \"abccabccabccabccabccabccabccabccabccabccabcc\") == False\n    assert candidate(s = \"ababcababcababcababcababcababcababcababc\") == False\n    assert candidate(s = \"abcababababababababababababcabcabcab\") == False\n    assert candidate(s = \"abababababababababababababcabcabcabcabcabcabcabc\") == False\n    assert candidate(s = \"abccabccabccabcabcabc\") == False\n    assert candidate(s = \"aababcababcababcababcab\") == False\n    assert candidate(s = \"abcabcabcabccbaabc\") == False\n    assert candidate(s = \"aababcabcabcababcc\") == False\n    assert candidate(s = \"aabcbcaabcbcaabc\") == False\n    assert candidate(s = \"abcabcabcabababcababc\") == False\n    assert candidate(s = \"abcababcababcababcababcab\") == False\n    assert candidate(s = \"abcabcabcabcababcabc\") == False\n    assert candidate(s = \"abacbabcbacbabcbabc\") == False\n    assert candidate(s = \"aabccbaabcabcabc\") == False\n    assert candidate(s = \"abccbaabcabcabcabcabc\") == False\n    assert candidate(s = \"abababababcabcabcabc\") == False\n    assert candidate(s = \"aabbabccbababcabcabc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabcabcabcabcabccba\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabcababcababc\") == False\n    assert candidate(s = \"aabcbcababcbcababcbcababcabc\") == False\n    assert candidate(s = \"ababababababababc\") == False\n    assert candidate(s = \"aabcbabcbabcbabc\") == False\n    assert candidate(s = \"ababcababcababcababcababcababcabcabc\") == False\n    assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"aabcbcabcabcabcabcabcabcabcabcabcabcabc\") == True\n    assert candidate(s = \"abcabcabcababccbaabc\") == False\n    assert candidate(s = \"abcababababcabcabcab\") == False\n    assert candidate(s = \"aabcbcabcabcabcabcabcabcabcbc\") == False\n    assert candidate(s = \"aabababababababababababababababcabcabc\") == False\n    assert candidate(s = \"aabcbcbcbcabcabcabc\") == False\n    assert candidate(s = \"abccabcabcabcabcab\") == False\n    assert candidate(s = \"abababababababababababababababababababcabcabc\") == False\n    assert candidate(s = \"aabcbcababccbaabcbcbc\") == False\n",
  "test_cases": [
    "assert candidate(s = \"aaabbbccc\") == False",
    "assert candidate(s = \"aababcbccabc\") == False",
    "assert candidate(s = \"cababc\") == False",
    "assert candidate(s = \"abcabcabc\") == True",
    "assert candidate(s = \"aababcbabc\") == False",
    "assert candidate(s = \"abcabcabcabc\") == True",
    "assert candidate(s = \"aabcbc\") == True",
    "assert candidate(s = \"\") == True",
    "assert candidate(s = \"abcabc\") == True",
    "assert candidate(s = \"abcabcababcc\") == True",
    "assert candidate(s = \"bcaabc\") == False",
    "assert candidate(s = \"aabcabcabc\") == False",
    "assert candidate(s = \"bca\") == False",
    "assert candidate(s = \"abc\") == True",
    "assert candidate(s = \"aabababc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabcabacbc\") == False",
    "assert candidate(s = \"ababcabcababcc\") == False",
    "assert candidate(s = \"abccba\") == False",
    "assert candidate(s = \"cab\") == False",
    "assert candidate(s = \"aabbcc\") == False",
    "assert candidate(s = \"aabcbcababc\") == False",
    "assert candidate(s = \"aabcbabcbabc\") == False",
    "assert candidate(s = \"aabcbabcbabccba\") == False",
    "assert candidate(s = \"aababababababcabcabcabcabcabc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"aababababababcabcababc\") == False",
    "assert candidate(s = \"aabcbcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"ababcabcabcababcabcababcabc\") == False",
    "assert candidate(s = \"abcabcabababcabc\") == False",
    "assert candidate(s = \"ababcabcabcabcababc\") == False",
    "assert candidate(s = \"ababcababcababcababcababcc\") == False",
    "assert candidate(s = \"abcabababcababcabc\") == False",
    "assert candidate(s = \"aababababcbcbcbc\") == False",
    "assert candidate(s = \"aabbbccabcabcabcabcabcabcab\") == False",
    "assert candidate(s = \"aabbabccbababc\") == False",
    "assert candidate(s = \"aaaabbbbcccc\") == False",
    "assert candidate(s = \"abcabababababababc\") == False",
    "assert candidate(s = \"aababcabcbaabc\") == False",
    "assert candidate(s = \"aabcbabcbabcbabcbabcbabc\") == False",
    "assert candidate(s = \"abcabababababababcababababababc\") == False",
    "assert candidate(s = \"abcabccbaabc\") == False",
    "assert candidate(s = \"abcabcababababcabc\") == False",
    "assert candidate(s = \"aabcbcaabcab\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"aabcbabcababcabcba\") == False",
    "assert candidate(s = \"aabcbcababcbcababc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"aabcbabcabcbabcabcbabcabcbabcabcbabcabc\") == False",
    "assert candidate(s = \"abccabccabccabccabccabccabccabccabcc\") == False",
    "assert candidate(s = \"aababcababcabcabcabcabcababcc\") == False",
    "assert candidate(s = \"aabcbcaabcbcaabcbcaabcbcaabc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabcabcabcabcabcab\") == False",
    "assert candidate(s = \"abababcabcabcabc\") == False",
    "assert candidate(s = \"abababcabcabcabcabc\") == False",
    "assert candidate(s = \"abccababccababcc\") == False",
    "assert candidate(s = \"ababcabcababcabcabcabcabc\") == False",
    "assert candidate(s = \"abccbaabccbaabccba\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"aabcbcabcabcabcabcbcaabbcc\") == False",
    "assert candidate(s = \"aabababababababcabcabc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"aabcbcababcbcababccba\") == False",
    "assert candidate(s = \"ababababcabcabc\") == False",
    "assert candidate(s = \"ababababababcabcabcababc\") == False",
    "assert candidate(s = \"abccabccabccabccabccabcc\") == False",
    "assert candidate(s = \"aabcbabcbababc\") == False",
    "assert candidate(s = \"abcabcababccabcabcab\") == False",
    "assert candidate(s = \"aabcbcabcabababcabcabcabababcabcab\") == False",
    "assert candidate(s = \"aabcbcaabcbcaabcbcaabc\") == False",
    "assert candidate(s = \"aabcbabcabcbabcabcbabcabc\") == False",
    "assert candidate(s = \"abcabababcabababc\") == False",
    "assert candidate(s = \"ababababababcabcabcabcabcabc\") == False",
    "assert candidate(s = \"aaabbbcccaabbbcccaabbbcccabcabcabc\") == False",
    "assert candidate(s = \"abcababccbaabc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabccbaabccba\") == False",
    "assert candidate(s = \"aabcbabababcabcabc\") == False",
    "assert candidate(s = \"aabcbcababccbaabcbcbcabcababcababcbc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabccba\") == False",
    "assert candidate(s = \"abcababababcabab\") == False",
    "assert candidate(s = \"abcababcababcababc\") == False",
    "assert candidate(s = \"aabcbcababccbaabccba\") == False",
    "assert candidate(s = \"abababababcabababcabc\") == False",
    "assert candidate(s = \"aabcbcababcbcababcbcabababcabcabccba\") == False",
    "assert candidate(s = \"aabcbabcbabcbabcbabcbabcbabcbabc\") == False",
    "assert candidate(s = \"aababababababababcabcababcababcc\") == False",
    "assert candidate(s = \"aabbccabcabcabcabcabcabcabc\") == False",
    "assert candidate(s = \"abababababababababababcabcabcabcabcabcabc\") == False",
    "assert candidate(s = \"aabcbcabcabcabcabcabccbaabc\") == False",
    "assert candidate(s = \"aaaaaaaaaabbbbbbbbbbcccccccccc\") == False",
    "assert candidate(s = \"abababababababababababc\") == False",
    "assert candidate(s = \"abababababababababababcabcabc\") == False",
    "assert candidate(s = \"aabcaabbccabcabcabc\") == False",
    "assert candidate(s = \"ababcababcababcababcababcababcababcabcabcc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabababababababababababababcabcabcababcabc\") == False",
    "assert candidate(s = \"abcabcabcabcabccba\") == False",
    "assert candidate(s = \"aabcbcababccbaabcbcbcabcababcababcbcababccba\") == False",
    "assert candidate(s = \"abcabcababcabcabcabababc\") == False",
    "assert candidate(s = \"aaabbbbcccc\") == False",
    "assert candidate(s = \"abcabababcababababc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"ababababcabcabcababc\") == False",
    "assert candidate(s = \"abccabccabccabccabccabccabccabccabccabccabcc\") == False",
    "assert candidate(s = \"ababcababcababcababcababcababcababcababc\") == False",
    "assert candidate(s = \"abcababababababababababababcabcabcab\") == False",
    "assert candidate(s = \"abababababababababababababcabcabcabcabcabcabcabc\") == False",
    "assert candidate(s = \"abccabccabccabcabcabc\") == False",
    "assert candidate(s = \"aababcababcababcababcab\") == False",
    "assert candidate(s = \"abcabcabcabccbaabc\") == False",
    "assert candidate(s = \"aababcabcabcababcc\") == False",
    "assert candidate(s = \"aabcbcaabcbcaabc\") == False",
    "assert candidate(s = \"abcabcabcabababcababc\") == False",
    "assert candidate(s = \"abcababcababcababcababcab\") == False",
    "assert candidate(s = \"abcabcabcabcababcabc\") == False",
    "assert candidate(s = \"abacbabcbacbabcbabc\") == False",
    "assert candidate(s = \"aabccbaabcabcabc\") == False",
    "assert candidate(s = \"abccbaabcabcabcabcabc\") == False",
    "assert candidate(s = \"abababababcabcabcabc\") == False",
    "assert candidate(s = \"aabbabccbababcabcabc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabcabcabcabcabccba\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabcababcababc\") == False",
    "assert candidate(s = \"aabcbcababcbcababcbcababcabc\") == False",
    "assert candidate(s = \"ababababababababc\") == False",
    "assert candidate(s = \"aabcbabcbabcbabc\") == False",
    "assert candidate(s = \"ababcababcababcababcababcababcabcabc\") == False",
    "assert candidate(s = \"abcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"aabcbcabcabcabcabcabcabcabcabcabcabcabc\") == True",
    "assert candidate(s = \"abcabcabcababccbaabc\") == False",
    "assert candidate(s = \"abcababababcabcabcab\") == False",
    "assert candidate(s = \"aabcbcabcabcabcabcabcabcabcbc\") == False",
    "assert candidate(s = \"aabababababababababababababababcabcabc\") == False",
    "assert candidate(s = \"aabcbcbcbcabcabcabc\") == False",
    "assert candidate(s = \"abccabcabcabcabcab\") == False",
    "assert candidate(s = \"abababababababababababababababababababcabcabc\") == False",
    "assert candidate(s = \"aabcbcababccbaabcbcbc\") == False"
  ]
}