{
  "id": "number-of-distinct-roll-sequences",
  "title": "Number Of Distinct Roll Sequences",
  "difficulty": "Hard",
  "tags": [
    "Memoization",
    "Dynamic Programming"
  ],
  "description": "You are given an integer n. You roll a fair 6-sided dice n times. Determine the total number of distinct sequences of rolls possible such that the following conditions are satisfied:\n\nThe greatest common divisor of any adjacent values in the sequence is equal to 1.\nThere is at least a gap of 2 rolls between equal valued rolls. More formally, if the value of the ith roll is equal to the value of the jth roll, then abs(i - j) > 2.\n\nReturn the total number of distinct sequences possible. Since the answer may be very large, return it modulo 109 + 7.\nTwo sequences are considered distinct if at least one element is different.\n\u00a0\nExample 1:\n\nInput: n = 4\nOutput: 184\nExplanation: Some of the possible sequences are (1, 2, 3, 4), (6, 1, 2, 3), (1, 2, 3, 1), etc.\nSome invalid sequences are (1, 2, 1, 3), (1, 2, 3, 6).\n(1, 2, 1, 3) is invalid since the first and third roll have an equal value and abs(1 - 3) = 2 (i and j are 1-indexed).\n(1, 2, 3, 6) is invalid since the greatest common divisor of 3 and 6 = 3.\nThere are a total of 184 distinct sequences possible, so we return 184.\nExample 2:\n\nInput: n = 2\nOutput: 22\nExplanation: Some of the possible sequences are (1, 2), (2, 1), (3, 2).\nSome invalid sequences are (3, 6), (2, 4) since the greatest common divisor is not equal to 1.\nThere are a total of 22 distinct sequences possible, so we return 22.\n\n\u00a0\nConstraints:\n\n1 <= n <= 104\n\n",
  "entry_point": "Solution().distinctSequences",
  "starter_code": "class Solution:\n    def distinctSequences(self, n: int) -> int:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(n = 3) == 66\n    assert candidate(n = 100) == 534856607\n    assert candidate(n = 4) == 184\n    assert candidate(n = 10000) == 874574246\n    assert candidate(n = 2) == 22\n    assert candidate(n = 1) == 6\n    assert candidate(n = 1000) == 497171723\n    assert candidate(n = 10) == 93120\n    assert candidate(n = 2000) == 784558903\n    assert candidate(n = 104) == 920649565\n    assert candidate(n = 5) == 516\n    assert candidate(n = 20000) == 846205927\n    assert candidate(n = 8000) == 366597434\n    assert candidate(n = 5000) == 798977852\n    assert candidate(n = 9999) == 455330915\n    assert candidate(n = 20) == 996985946\n    assert candidate(n = 15) == 16706688\n    assert candidate(n = 6) == 1472\n    assert candidate(n = 750) == 498714087\n    assert candidate(n = 500) == 353640467\n    assert candidate(n = 7) == 4136\n",
  "test_cases": [
    "assert candidate(n = 3) == 66",
    "assert candidate(n = 100) == 534856607",
    "assert candidate(n = 4) == 184",
    "assert candidate(n = 10000) == 874574246",
    "assert candidate(n = 2) == 22",
    "assert candidate(n = 1) == 6",
    "assert candidate(n = 1000) == 497171723",
    "assert candidate(n = 10) == 93120",
    "assert candidate(n = 2000) == 784558903",
    "assert candidate(n = 104) == 920649565",
    "assert candidate(n = 5) == 516",
    "assert candidate(n = 20000) == 846205927",
    "assert candidate(n = 8000) == 366597434",
    "assert candidate(n = 5000) == 798977852",
    "assert candidate(n = 9999) == 455330915",
    "assert candidate(n = 20) == 996985946",
    "assert candidate(n = 15) == 16706688",
    "assert candidate(n = 6) == 1472",
    "assert candidate(n = 750) == 498714087",
    "assert candidate(n = 500) == 353640467",
    "assert candidate(n = 7) == 4136"
  ]
}