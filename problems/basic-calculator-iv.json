{
  "id": "basic-calculator-iv",
  "title": "Basic Calculator IV",
  "difficulty": "Hard",
  "tags": [
    "Stack",
    "Recursion",
    "Hash Table",
    "Math",
    "String"
  ],
  "description": "Given an expression such as expression = \"e + 8 - a + 5\" and an evaluation map such as {\"e\": 1} (given in terms of evalvars = [\"e\"] and evalints = [1]), return a list of tokens representing the simplified expression, such as [\"-1*a\",\"14\"]\n\nAn expression alternates chunks and symbols, with a space separating each chunk and symbol.\nA chunk is either an expression in parentheses, a variable, or a non-negative integer.\nA variable is a string of lowercase letters (not including digits.) Note that variables can be multiple letters, and note that variables never have a leading coefficient or unary operator like \"2x\" or \"-x\".\n\nExpressions are evaluated in the usual order: brackets first, then multiplication, then addition and subtraction.\n\nFor example, expression = \"1 + 2 * 3\" has an answer of [\"7\"].\n\nThe format of the output is as follows:\n\nFor each term of free variables with a non-zero coefficient, we write the free variables within a term in sorted order lexicographically.\n\t\nFor example, we would never write a term like \"b*a*c\", only \"a*b*c\".\n\n\nTerms have degrees equal to the number of free variables being multiplied, counting multiplicity. We write the largest degree terms of our answer first, breaking ties by lexicographic order ignoring the leading coefficient of the term.\n\t\nFor example, \"a*a*b*c\" has degree 4.\n\n\nThe leading coefficient of the term is placed directly to the left with an asterisk separating it from the variables (if they exist.) A leading coefficient of 1 is still printed.\nAn example of a well-formatted answer is [\"-2*a*a*a\", \"3*a*a*b\", \"3*b*b\", \"4*a\", \"5*c\", \"-6\"].\nTerms (including constant terms) with coefficient 0 are not included.\n\t\nFor example, an expression of \"0\" has an output of [].\n\n\n\nNote: You may assume that the given expression is always valid. All intermediate results will be in the range of [-231, 231 - 1].\n\u00a0\nExample 1:\n\nInput: expression = \"e + 8 - a + 5\", evalvars = [\"e\"], evalints = [1]\nOutput: [\"-1*a\",\"14\"]\n\nExample 2:\n\nInput: expression = \"e - 8 + temperature - pressure\", evalvars = [\"e\", \"temperature\"], evalints = [1, 12]\nOutput: [\"-1*pressure\",\"5\"]\n\nExample 3:\n\nInput: expression = \"(e + 8) * (e - 8)\", evalvars = [], evalints = []\nOutput: [\"1*e*e\",\"-64\"]\n\n\u00a0\nConstraints:\n\n1 <= expression.length <= 250\nexpression consists of lowercase English letters, digits, '+', '-', '*', '(', ')', ' '.\nexpression does not contain any leading or trailing spaces.\nAll the tokens in expression are separated by a single space.\n0 <= evalvars.length <= 100\n1 <= evalvars[i].length <= 20\nevalvars[i] consists of lowercase English letters.\nevalints.length == evalvars.length\n-100 <= evalints[i] <= 100\n\n",
  "entry_point": "Solution().basicCalculatorIV",
  "starter_code": "class Solution:\n    def basicCalculatorIV(self, expression: str, evalvars: List[str], evalints: List[int]) -> List[str]:\n        ",
  "preamble": "from typing import *\nfrom collections import *\nfrom functools import *\nfrom itertools import *\nfrom heapq import *\nfrom bisect import *\nfrom math import *\nimport math, collections, functools, itertools, bisect, heapq, string, re\n",
  "check_function": "def check(candidate):\n    assert candidate(expression = \"1 + (2 * 3) + (4 * (5 + 6))\",evalvars = [],evalints = []) == ['51']\n    assert candidate(expression = \"10 + 20 * (30 + 40) - 50\",evalvars = [],evalints = []) == ['1360']\n    assert candidate(expression = \"(x + y) * (x - y) + (x + z) * (x - z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-11']\n    assert candidate(expression = \"a + b * c - d / e + f\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['7']\n    assert candidate(expression = \"a * (b + c) * (d + e)\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 5]) == ['45']\n    assert candidate(expression = \"(x + y) * (x - y) + (x + y) * (x + y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['6']\n    assert candidate(expression = \"x + y * 2\",evalvars = ['x'],evalints = [3]) == ['2*y', '3']\n    assert candidate(expression = \"a + b + c + d + e\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['1*d', '1*e', '6']\n    assert candidate(expression = \"a + b * c - d / e\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 2]) == ['7']\n    assert candidate(expression = \"3 * (a + b) - 2 * (a - b)\",evalvars = ['a'],evalints = [2]) == ['5*b', '2']\n    assert candidate(expression = \"x + y * 2 - (x - y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['6']\n    assert candidate(expression = \"(a * b) * (c * d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['24']\n    assert candidate(expression = \"10 + 2 * 6\",evalvars = [],evalints = []) == ['22']\n    assert candidate(expression = \"e - 8 + temperature - pressure\",evalvars = ['e', 'temperature'],evalints = [1, 12]) == ['-1*pressure', '5']\n    assert candidate(expression = \"(x + y) * (x - y) + (x + z) * (x - z)\",evalvars = [],evalints = []) == ['2*x*x', '-1*y*y', '-1*z*z']\n    assert candidate(expression = \"100 * ( 2 + 12 )\",evalvars = [],evalints = []) == ['1400']\n    assert candidate(expression = \"100 * ( 2 + 12 ) / 14\",evalvars = [],evalints = []) == ['100']\n    assert candidate(expression = \"x * y + y * x\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['4']\n    assert candidate(expression = \"x * y + z\",evalvars = ['x', 'y'],evalints = [2, 3]) == ['1*z', '6']\n    assert candidate(expression = \"(x + y) * (x - y) + z\",evalvars = ['x', 'y', 'z'],evalints = [3, 4, 5]) == ['-2']\n    assert candidate(expression = \"(a + b) * (a - b)\",evalvars = ['a', 'b'],evalints = [3, 2]) == ['5']\n    assert candidate(expression = \"e + 8 - a + 5\",evalvars = ['e'],evalints = [1]) == ['-1*a', '14']\n    assert candidate(expression = \"x * x + 2 * x + 1\",evalvars = ['x'],evalints = [1]) == ['4']\n    assert candidate(expression = \"(e + 8) * (e - 8)\",evalvars = [],evalints = []) == ['1*e*e', '-64']\n    assert candidate(expression = \"x * (y + z) + w\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['1*w', '14']\n    assert candidate(expression = \"x + y * (2 + 3) - z\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['8']\n    assert candidate(expression = \"(a + b) * (a - b)\",evalvars = ['a', 'b'],evalints = [3, 4]) == ['-7']\n    assert candidate(expression = \"x + 2 * (y + z)\",evalvars = ['x'],evalints = [1]) == ['2*y', '2*z', '1']\n    assert candidate(expression = \"(a + b) * (a - b)\",evalvars = [],evalints = []) == ['1*a*a', '-1*b*b']\n    assert candidate(expression = \"x * x + y * y + z * z\",evalvars = [],evalints = []) == ['1*x*x', '1*y*y', '1*z*z']\n    assert candidate(expression = \"(a + b) + (c + d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['10']\n    assert candidate(expression = \"(x + y) * (x + y)\",evalvars = [],evalints = []) == ['1*x*x', '2*x*y', '1*y*y']\n    assert candidate(expression = \"(x + y) * (x + y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['9']\n    assert candidate(expression = \"a + b * c + d\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['11']\n    assert candidate(expression = \"10 * (x + y) + 5\",evalvars = ['x', 'y'],evalints = [1, 1]) == ['25']\n    assert candidate(expression = \"100 * 2 + 12\",evalvars = [],evalints = []) == ['212']\n    assert candidate(expression = \"(x + y + z) * (x - y + z) * (x + y - z) * (x - y - z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == []\n    assert candidate(expression = \"(a + b) * (c + d + e) * (f + g + h) + (i + j) * (k + l + m) * (n + o + p)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]) == ['31536']\n    assert candidate(expression = \"(x + y + z) * (x + y + z) * (x + y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['216']\n    assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z) - (7*x + 8*y + 9*z) * (10*x + 11*y + 12*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, -1, 2]) == ['-336']\n    assert candidate(expression = \"((x + 2*y) * (z + 3)) + ((4*x - 5*y) * (z - 6))\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['70']\n    assert candidate(expression = \"(x + 2 * y + 3 * z + 4 * w) * (x - 2 * y - 3 * z - 4 * w) * (x + 5 * y + 6 * z + 7 * w) + 40\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 1, 1, 1]) == ['-1480']\n    assert candidate(expression = \"(x^2 + 2*x + 1) * (x^2 - 2*x + 1)\",evalvars = ['x'],evalints = [2]) == ['1*x^2*x^2', '2*x^2', '-15']\n    assert candidate(expression = \"((a + b) * (c - d) + e) * f\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['12']\n    assert candidate(expression = \"(a + b + c + d) * (a + b + c - d) * (a + b - c + d) * (a + b - c - d) * (a - b + c + d) * (a - b + c - d) * (a - b - c + d) * (a - b - c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == []\n    assert candidate(expression = \"(a + b) * (c + d) * (e + f) + (g + h) * (i + j) * (k + l)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == ['16']\n    assert candidate(expression = \"(1 + x) * (1 - x) * (1 + x * x) + (1 - x * x) * (1 - x * x) * (1 + x * x * x) + 7\",evalvars = ['x'],evalints = [0]) == ['9']\n    assert candidate(expression = \"(2 * x + 3 * y) * (4 * z + 5) - (6 * w + 7 * v) * (8 * u + 9)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u'],evalints = [1, -1, 2, -2, 3, -3]) == ['122']\n    assert candidate(expression = \"(a + 2 * b) * (3 * c + 4 * d) - (a - b) * (c - 2 * d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['120']\n    assert candidate(expression = \"(a + b + c) * (a - b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['-24']\n    assert candidate(expression = \"(a + b + c) * (d + e + f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['90']\n    assert candidate(expression = \"((a + b) * (c + d) + (e + f) * (g + h)) * ((i + j) * (k + l) + (m + n) * (o + p))\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]) == ['236964']\n    assert candidate(expression = \"(a + b) * (c + d) + (e + f) * (g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['186']\n    assert candidate(expression = \"((x + y) * (z + w)) * ((x - y) * (z - w))\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, -1, 2, -2]) == []\n    assert candidate(expression = \"10 * (x + 2 * y + 3 * z) - 5 * (x - 2 * y + 3 * z) + 2 * (x + 2 * y - 3 * z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['102']\n    assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z) - (7*x + 8*y + 9*z) * (10*x + 11*y + 12*z) + (13*x + 14*y + 15*z) * (16*x + 17*y + 18*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['1440']\n    assert candidate(expression = \"(x + 2*y) * (3*z + 4*w) - (5*v + 6*u) * (7*t + 8*s)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['-6768']\n    assert candidate(expression = \"(a + b + c + d) * (e + f + g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['260']\n    assert candidate(expression = \"(2*x + 3*y + 4*z) * (5*x + 6*y + 7*z) + (8*x + 9*y + 10*z) * (11*x + 12*y + 13*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['1134']\n    assert candidate(expression = \"(a + b + c + d + e) * (a + b + c + d + e) * (a + b + c + d + e)\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 5]) == ['3375']\n    assert candidate(expression = \"((x + y + z) * (x - y + z)) * ((x + y - z) * (x - y - z))\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == []\n    assert candidate(expression = \"(a + b + c) * (d + e + f) * (g + h + i)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i'],evalints = [1, -1, 2, -2, 3, -3, 4, -4, 5]) == ['-20']\n    assert candidate(expression = \"(a + b) * (a - b) + (a + c) * (a - c) + (b + c) * (b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == []\n    assert candidate(expression = \"((x + y) * (z + w) + (v + u) * (t + s)) * (r + q + p)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's', 'r', 'q', 'p'],evalints = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == ['24']\n    assert candidate(expression = \"(x + 2 * y + 3 * z) * (x - 2 * y - 3 * z) * (x + 4 * y + 5 * z) + 30\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['-210']\n    assert candidate(expression = \"(a + b) * (c + d) * (e + f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['231']\n    assert candidate(expression = \"(x + 3) * (x - 3) * (x + 2) * (x - 2) + 10\",evalvars = ['x'],evalints = [0]) == ['46']\n    assert candidate(expression = \"(x * y * z * w) + (x * y + z * w) + (x + y) * (z + w) + (x + y) * (z + w) * (x * y + z * w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 1, 1, 1]) == ['15']\n    assert candidate(expression = \"(a + b + c) * (d + e + f) + (a - b - c) * (d - e - f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['118']\n    assert candidate(expression = \"((a + b) * (c + d)) + ((a - b) * (c - d))\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['22']\n    assert candidate(expression = \"((x + y) * (z + w) + (v + u) * (t + s)) * ((r + q) * (p + o) + (n + m) * (l + k))\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's', 'r', 'q', 'p', 'o', 'n', 'm', 'l', 'k'],evalints = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == ['64']\n    assert candidate(expression = \"(a + b + c) * (d + e + f) + (g + h + i) * (j + k + l)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['882']\n    assert candidate(expression = \"(a + 2*b) * (3*a - 4*b) + (5*a + 6*b) * (7*a - 8*b)\",evalvars = ['a', 'b'],evalints = [1, 1]) == ['-14']\n    assert candidate(expression = \"(x + y + z) * (x + y + z) - (x + y) * (x + y)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['27']\n    assert candidate(expression = \"(x + y + z) * (x - y - z) + (x + y - z) * (x - y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-24']\n    assert candidate(expression = \"((x + y) * (x - y)) + ((x + z) * (x - z))\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-11']\n    assert candidate(expression = \"100 * (x + 2*y) - 50 * (x - 3*y)\",evalvars = ['x', 'y'],evalints = [2, 3]) == ['1150']\n    assert candidate(expression = \"(x + y + z) * (x + y - z) * (x - y + z) * (x - y - z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == []\n    assert candidate(expression = \"(a + b) * (c + d) + (a - b) * (c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['22']\n    assert candidate(expression = \"(x + y) * (x - y) * (x + y) + (x - y) * (x - y) * (x + y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['-6']\n    assert candidate(expression = \"x * (y + z) * (y - z) + x * (y + w) * (y - w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 2, 3, 4]) == ['-17']\n    assert candidate(expression = \"(e + 8) * (e - 8) + (e + 2) * (e - 2) - (e + 1) * (e - 1)\",evalvars = ['e'],evalints = [1]) == ['-66']\n    assert candidate(expression = \"(a * b * c + d * e * f) * (g + h + i)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9]) == ['3024']\n    assert candidate(expression = \"(a + b + c) * (a - b - c) * (a + b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, -1, 2]) == []\n    assert candidate(expression = \"(a * b + c) * (d - e) + f * (g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['85']\n    assert candidate(expression = \"(a * b * c * d) + (a * b * c * e) + (a * b * d * e) + (a * c * d * e) + (b * c * d * e)\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 5]) == ['274']\n    assert candidate(expression = \"(x + 2*y + 3*z) * (x - y + z) + 2 * (x + y + z) * (x - y + z) + 3 * (x + y) * (x - y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['18']\n    assert candidate(expression = \"(x + 2 * y + 3 * z) * (x - 2 * y + 3 * z) - (x + 2 * y - 3 * z) * (x - 2 * y - 3 * z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['36']\n    assert candidate(expression = \"(a + 2*b + 3*c) * (4*d + 5*e + 6*f) + (7*g + 8*h + 9*i) * (10*j + 11*k + 12*l)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['71888']\n    assert candidate(expression = \"(a + 2*b) * (3*c + 4*d) + (5*e + 6*f) * (7*g + 8*h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, -1, 2, -2, 3, -3, 4, -4]) == ['14']\n    assert candidate(expression = \"(x + y + z + w) * (x + y + z + w) * (x + y + z + w) * (x + y + z + w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 1, 1, 1]) == ['256']\n    assert candidate(expression = \"(a + b) * (a - b) + (b + c) * (b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['-8']\n    assert candidate(expression = \"(x * y + z) * (w * v + u) - (t * s + r) * (q * p + o)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's', 'r', 'q', 'p', 'o'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['-7800']\n    assert candidate(expression = \"x * (y + z) - y * (x + z) + z * (x + y)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['2']\n    assert candidate(expression = \"10 * (a + 5 * (b + c)) - 3 * (a - b)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['263']\n    assert candidate(expression = \"(x + y + z) * (x - y - z) + (x + 2 * y + 3 * z) * (x - 2 * y - 3 * z) + 15\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['-12']\n    assert candidate(expression = \"3 * (a * b + b * c + c * a) - 2 * (a * a + b * b + c * c) + (a + b + c) * (a + b + c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == ['12']\n    assert candidate(expression = \"2 * (x + 3 * (y + 4)) - 5 * (x - y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['43']\n    assert candidate(expression = \"(a + b + c) * (a - b + c) * (a + b - c) * (a - b - c) + (d + e + f) * (d - e + f) * (d + e - f) * (d - e - f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['-1575']\n    assert candidate(expression = \"(a + b) * (a - b) - (a * a - b * b) + (c + d) * (c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['-7']\n    assert candidate(expression = \"(a + b) * (c + d) - (e + f) * (g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['-144']\n    assert candidate(expression = \"(a + b + c + d) * (a - b + c - d) - (a - b - c + d) * (a + b - c - d) + 25\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == ['25']\n    assert candidate(expression = \"(a + 3*b) * (c + 5*d) + (2*a - 4*b) * (6*c + 8*d) - (3*a + 6*b) * (9*c + 12*d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == ['-193']\n    assert candidate(expression = \"(a + b + c + d + e) * (a - b + c - d + e) - (a - b - c + d - e) * (a + b - c - d - e) + 35\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 1, 1, 1, 1]) == ['39']\n    assert candidate(expression = \"(a + b) * (a + b) * (a + b) + (c + d) * (c + d) * (c + d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == ['16']\n    assert candidate(expression = \"(x - 2*y) * (3*z - 4) + (5*x + 6*y) * (7*z - 8)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['206']\n    assert candidate(expression = \"(a + b + c + d) * (a - b + c - d) * (a + b - c - d) * (a - b - c + d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == []\n    assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['448']\n    assert candidate(expression = \"((x + y) * (x - y)) * ((x + z) * (x - z))\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['60']\n    assert candidate(expression = \"3 * (x + 2 * y + 3 * z) - 2 * (x - y + z) + 4 * (x - 2 * y + 3 * z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['62']\n    assert candidate(expression = \"(x + y + z) * (x + y + z) * (x + y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['27']\n    assert candidate(expression = \"((x + y) * (x - y) + (y + z) * (y - z) + (z + x) * (z - x)) * 2\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == []\n    assert candidate(expression = \"(a + b) * (a - b) * (c + d) * (c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, -1, 2, -2]) == []\n    assert candidate(expression = \"(a + b + c) * (a + b + c) * (a + b + c) - 3 * (a + b) * (a + b) * (a + b) + 3 * (a + b) * (a + b) * (a + b) - (a + b) * (a + b) * (a + b)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == ['19']\n    assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z) - (7*x + 8*y + 9*z) * (10*x + 11*y + 12*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-2952']\n    assert candidate(expression = \"(a + b) * (a + b) * (a + b) + (a + c) * (a + c) * (a + c) + (b + c) * (b + c) * (b + c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['216']\n    assert candidate(expression = \"10 * (x + 2 * y) - 5 * (x - 3 * y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['75']\n    assert candidate(expression = \"(a + b) * (a - b) + (a + b) * (a + b) - (a - b) * (a - b)\",evalvars = ['a', 'b'],evalints = [1, 2]) == ['5']\n    assert candidate(expression = \"(2*a + 3*b + 4*c) * (5*a + 6*b + 7*c) - (8*a + 9*b + 10*c) * (11*a + 12*b + 13*c)\",evalvars = ['a', 'b', 'c'],evalints = [1, -1, 2]) == ['-384']\n    assert candidate(expression = \"(x + 3) * (x - 3) * (x + 3)\",evalvars = ['x'],evalints = [2]) == ['-25']\n    assert candidate(expression = \"((x + y) * (x - y)) * ((x + z) * (x - z)) + (x * x)\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['64']\n    assert candidate(expression = \"(x + y + z + w) * (x - y - z - w) + (x + y - z + w) * (x - y + z - w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 2, 3, 4]) == ['-88']\n    assert candidate(expression = \"(a + b) * (a - b) + (b + c) * (b - c) + (c + a) * (c - a)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == []\n    assert candidate(expression = \"(a + 2*b + 3*c) * (a - b + c) + 2 * (a + b + c) * (a - b + c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == ['12']\n    assert candidate(expression = \"(x + 3) * (x - 3) * (x + 5) + 2 * (x + 1) * (x - 1)\",evalvars = ['x'],evalints = [2]) == ['-29']\n    assert candidate(expression = \"(a + b + c) * (d + e + f) - (g + h + i) * (j + k + l) + 20\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['-682']\n",
  "test_cases": [
    "assert candidate(expression = \"1 + (2 * 3) + (4 * (5 + 6))\",evalvars = [],evalints = []) == ['51']",
    "assert candidate(expression = \"10 + 20 * (30 + 40) - 50\",evalvars = [],evalints = []) == ['1360']",
    "assert candidate(expression = \"(x + y) * (x - y) + (x + z) * (x - z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-11']",
    "assert candidate(expression = \"a + b * c - d / e + f\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['7']",
    "assert candidate(expression = \"a * (b + c) * (d + e)\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 5]) == ['45']",
    "assert candidate(expression = \"(x + y) * (x - y) + (x + y) * (x + y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['6']",
    "assert candidate(expression = \"x + y * 2\",evalvars = ['x'],evalints = [3]) == ['2*y', '3']",
    "assert candidate(expression = \"a + b + c + d + e\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['1*d', '1*e', '6']",
    "assert candidate(expression = \"a + b * c - d / e\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 2]) == ['7']",
    "assert candidate(expression = \"3 * (a + b) - 2 * (a - b)\",evalvars = ['a'],evalints = [2]) == ['5*b', '2']",
    "assert candidate(expression = \"x + y * 2 - (x - y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['6']",
    "assert candidate(expression = \"(a * b) * (c * d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['24']",
    "assert candidate(expression = \"10 + 2 * 6\",evalvars = [],evalints = []) == ['22']",
    "assert candidate(expression = \"e - 8 + temperature - pressure\",evalvars = ['e', 'temperature'],evalints = [1, 12]) == ['-1*pressure', '5']",
    "assert candidate(expression = \"(x + y) * (x - y) + (x + z) * (x - z)\",evalvars = [],evalints = []) == ['2*x*x', '-1*y*y', '-1*z*z']",
    "assert candidate(expression = \"100 * ( 2 + 12 )\",evalvars = [],evalints = []) == ['1400']",
    "assert candidate(expression = \"100 * ( 2 + 12 ) / 14\",evalvars = [],evalints = []) == ['100']",
    "assert candidate(expression = \"x * y + y * x\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['4']",
    "assert candidate(expression = \"x * y + z\",evalvars = ['x', 'y'],evalints = [2, 3]) == ['1*z', '6']",
    "assert candidate(expression = \"(x + y) * (x - y) + z\",evalvars = ['x', 'y', 'z'],evalints = [3, 4, 5]) == ['-2']",
    "assert candidate(expression = \"(a + b) * (a - b)\",evalvars = ['a', 'b'],evalints = [3, 2]) == ['5']",
    "assert candidate(expression = \"e + 8 - a + 5\",evalvars = ['e'],evalints = [1]) == ['-1*a', '14']",
    "assert candidate(expression = \"x * x + 2 * x + 1\",evalvars = ['x'],evalints = [1]) == ['4']",
    "assert candidate(expression = \"(e + 8) * (e - 8)\",evalvars = [],evalints = []) == ['1*e*e', '-64']",
    "assert candidate(expression = \"x * (y + z) + w\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['1*w', '14']",
    "assert candidate(expression = \"x + y * (2 + 3) - z\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['8']",
    "assert candidate(expression = \"(a + b) * (a - b)\",evalvars = ['a', 'b'],evalints = [3, 4]) == ['-7']",
    "assert candidate(expression = \"x + 2 * (y + z)\",evalvars = ['x'],evalints = [1]) == ['2*y', '2*z', '1']",
    "assert candidate(expression = \"(a + b) * (a - b)\",evalvars = [],evalints = []) == ['1*a*a', '-1*b*b']",
    "assert candidate(expression = \"x * x + y * y + z * z\",evalvars = [],evalints = []) == ['1*x*x', '1*y*y', '1*z*z']",
    "assert candidate(expression = \"(a + b) + (c + d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['10']",
    "assert candidate(expression = \"(x + y) * (x + y)\",evalvars = [],evalints = []) == ['1*x*x', '2*x*y', '1*y*y']",
    "assert candidate(expression = \"(x + y) * (x + y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['9']",
    "assert candidate(expression = \"a + b * c + d\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['11']",
    "assert candidate(expression = \"10 * (x + y) + 5\",evalvars = ['x', 'y'],evalints = [1, 1]) == ['25']",
    "assert candidate(expression = \"100 * 2 + 12\",evalvars = [],evalints = []) == ['212']",
    "assert candidate(expression = \"(x + y + z) * (x - y + z) * (x + y - z) * (x - y - z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == []",
    "assert candidate(expression = \"(a + b) * (c + d + e) * (f + g + h) + (i + j) * (k + l + m) * (n + o + p)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]) == ['31536']",
    "assert candidate(expression = \"(x + y + z) * (x + y + z) * (x + y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['216']",
    "assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z) - (7*x + 8*y + 9*z) * (10*x + 11*y + 12*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, -1, 2]) == ['-336']",
    "assert candidate(expression = \"((x + 2*y) * (z + 3)) + ((4*x - 5*y) * (z - 6))\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['70']",
    "assert candidate(expression = \"(x + 2 * y + 3 * z + 4 * w) * (x - 2 * y - 3 * z - 4 * w) * (x + 5 * y + 6 * z + 7 * w) + 40\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 1, 1, 1]) == ['-1480']",
    "assert candidate(expression = \"(x^2 + 2*x + 1) * (x^2 - 2*x + 1)\",evalvars = ['x'],evalints = [2]) == ['1*x^2*x^2', '2*x^2', '-15']",
    "assert candidate(expression = \"((a + b) * (c - d) + e) * f\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['12']",
    "assert candidate(expression = \"(a + b + c + d) * (a + b + c - d) * (a + b - c + d) * (a + b - c - d) * (a - b + c + d) * (a - b + c - d) * (a - b - c + d) * (a - b - c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == []",
    "assert candidate(expression = \"(a + b) * (c + d) * (e + f) + (g + h) * (i + j) * (k + l)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == ['16']",
    "assert candidate(expression = \"(1 + x) * (1 - x) * (1 + x * x) + (1 - x * x) * (1 - x * x) * (1 + x * x * x) + 7\",evalvars = ['x'],evalints = [0]) == ['9']",
    "assert candidate(expression = \"(2 * x + 3 * y) * (4 * z + 5) - (6 * w + 7 * v) * (8 * u + 9)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u'],evalints = [1, -1, 2, -2, 3, -3]) == ['122']",
    "assert candidate(expression = \"(a + 2 * b) * (3 * c + 4 * d) - (a - b) * (c - 2 * d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['120']",
    "assert candidate(expression = \"(a + b + c) * (a - b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['-24']",
    "assert candidate(expression = \"(a + b + c) * (d + e + f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['90']",
    "assert candidate(expression = \"((a + b) * (c + d) + (e + f) * (g + h)) * ((i + j) * (k + l) + (m + n) * (o + p))\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]) == ['236964']",
    "assert candidate(expression = \"(a + b) * (c + d) + (e + f) * (g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['186']",
    "assert candidate(expression = \"((x + y) * (z + w)) * ((x - y) * (z - w))\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, -1, 2, -2]) == []",
    "assert candidate(expression = \"10 * (x + 2 * y + 3 * z) - 5 * (x - 2 * y + 3 * z) + 2 * (x + 2 * y - 3 * z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['102']",
    "assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z) - (7*x + 8*y + 9*z) * (10*x + 11*y + 12*z) + (13*x + 14*y + 15*z) * (16*x + 17*y + 18*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['1440']",
    "assert candidate(expression = \"(x + 2*y) * (3*z + 4*w) - (5*v + 6*u) * (7*t + 8*s)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['-6768']",
    "assert candidate(expression = \"(a + b + c + d) * (e + f + g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['260']",
    "assert candidate(expression = \"(2*x + 3*y + 4*z) * (5*x + 6*y + 7*z) + (8*x + 9*y + 10*z) * (11*x + 12*y + 13*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['1134']",
    "assert candidate(expression = \"(a + b + c + d + e) * (a + b + c + d + e) * (a + b + c + d + e)\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 5]) == ['3375']",
    "assert candidate(expression = \"((x + y + z) * (x - y + z)) * ((x + y - z) * (x - y - z))\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == []",
    "assert candidate(expression = \"(a + b + c) * (d + e + f) * (g + h + i)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i'],evalints = [1, -1, 2, -2, 3, -3, 4, -4, 5]) == ['-20']",
    "assert candidate(expression = \"(a + b) * (a - b) + (a + c) * (a - c) + (b + c) * (b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == []",
    "assert candidate(expression = \"((x + y) * (z + w) + (v + u) * (t + s)) * (r + q + p)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's', 'r', 'q', 'p'],evalints = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == ['24']",
    "assert candidate(expression = \"(x + 2 * y + 3 * z) * (x - 2 * y - 3 * z) * (x + 4 * y + 5 * z) + 30\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['-210']",
    "assert candidate(expression = \"(a + b) * (c + d) * (e + f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['231']",
    "assert candidate(expression = \"(x + 3) * (x - 3) * (x + 2) * (x - 2) + 10\",evalvars = ['x'],evalints = [0]) == ['46']",
    "assert candidate(expression = \"(x * y * z * w) + (x * y + z * w) + (x + y) * (z + w) + (x + y) * (z + w) * (x * y + z * w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 1, 1, 1]) == ['15']",
    "assert candidate(expression = \"(a + b + c) * (d + e + f) + (a - b - c) * (d - e - f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['118']",
    "assert candidate(expression = \"((a + b) * (c + d)) + ((a - b) * (c - d))\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['22']",
    "assert candidate(expression = \"((x + y) * (z + w) + (v + u) * (t + s)) * ((r + q) * (p + o) + (n + m) * (l + k))\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's', 'r', 'q', 'p', 'o', 'n', 'm', 'l', 'k'],evalints = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == ['64']",
    "assert candidate(expression = \"(a + b + c) * (d + e + f) + (g + h + i) * (j + k + l)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['882']",
    "assert candidate(expression = \"(a + 2*b) * (3*a - 4*b) + (5*a + 6*b) * (7*a - 8*b)\",evalvars = ['a', 'b'],evalints = [1, 1]) == ['-14']",
    "assert candidate(expression = \"(x + y + z) * (x + y + z) - (x + y) * (x + y)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['27']",
    "assert candidate(expression = \"(x + y + z) * (x - y - z) + (x + y - z) * (x - y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-24']",
    "assert candidate(expression = \"((x + y) * (x - y)) + ((x + z) * (x - z))\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-11']",
    "assert candidate(expression = \"100 * (x + 2*y) - 50 * (x - 3*y)\",evalvars = ['x', 'y'],evalints = [2, 3]) == ['1150']",
    "assert candidate(expression = \"(x + y + z) * (x + y - z) * (x - y + z) * (x - y - z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == []",
    "assert candidate(expression = \"(a + b) * (c + d) + (a - b) * (c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['22']",
    "assert candidate(expression = \"(x + y) * (x - y) * (x + y) + (x - y) * (x - y) * (x + y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['-6']",
    "assert candidate(expression = \"x * (y + z) * (y - z) + x * (y + w) * (y - w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 2, 3, 4]) == ['-17']",
    "assert candidate(expression = \"(e + 8) * (e - 8) + (e + 2) * (e - 2) - (e + 1) * (e - 1)\",evalvars = ['e'],evalints = [1]) == ['-66']",
    "assert candidate(expression = \"(a * b * c + d * e * f) * (g + h + i)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9]) == ['3024']",
    "assert candidate(expression = \"(a + b + c) * (a - b - c) * (a + b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, -1, 2]) == []",
    "assert candidate(expression = \"(a * b + c) * (d - e) + f * (g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['85']",
    "assert candidate(expression = \"(a * b * c * d) + (a * b * c * e) + (a * b * d * e) + (a * c * d * e) + (b * c * d * e)\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 2, 3, 4, 5]) == ['274']",
    "assert candidate(expression = \"(x + 2*y + 3*z) * (x - y + z) + 2 * (x + y + z) * (x - y + z) + 3 * (x + y) * (x - y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['18']",
    "assert candidate(expression = \"(x + 2 * y + 3 * z) * (x - 2 * y + 3 * z) - (x + 2 * y - 3 * z) * (x - 2 * y - 3 * z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['36']",
    "assert candidate(expression = \"(a + 2*b + 3*c) * (4*d + 5*e + 6*f) + (7*g + 8*h + 9*i) * (10*j + 11*k + 12*l)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['71888']",
    "assert candidate(expression = \"(a + 2*b) * (3*c + 4*d) + (5*e + 6*f) * (7*g + 8*h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, -1, 2, -2, 3, -3, 4, -4]) == ['14']",
    "assert candidate(expression = \"(x + y + z + w) * (x + y + z + w) * (x + y + z + w) * (x + y + z + w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 1, 1, 1]) == ['256']",
    "assert candidate(expression = \"(a + b) * (a - b) + (b + c) * (b - c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['-8']",
    "assert candidate(expression = \"(x * y + z) * (w * v + u) - (t * s + r) * (q * p + o)\",evalvars = ['x', 'y', 'z', 'w', 'v', 'u', 't', 's', 'r', 'q', 'p', 'o'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['-7800']",
    "assert candidate(expression = \"x * (y + z) - y * (x + z) + z * (x + y)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['2']",
    "assert candidate(expression = \"10 * (a + 5 * (b + c)) - 3 * (a - b)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['263']",
    "assert candidate(expression = \"(x + y + z) * (x - y - z) + (x + 2 * y + 3 * z) * (x - 2 * y - 3 * z) + 15\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['-12']",
    "assert candidate(expression = \"3 * (a * b + b * c + c * a) - 2 * (a * a + b * b + c * c) + (a + b + c) * (a + b + c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == ['12']",
    "assert candidate(expression = \"2 * (x + 3 * (y + 4)) - 5 * (x - y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['43']",
    "assert candidate(expression = \"(a + b + c) * (a - b + c) * (a + b - c) * (a - b - c) + (d + e + f) * (d - e + f) * (d + e - f) * (d - e - f)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f'],evalints = [1, 2, 3, 4, 5, 6]) == ['-1575']",
    "assert candidate(expression = \"(a + b) * (a - b) - (a * a - b * b) + (c + d) * (c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == ['-7']",
    "assert candidate(expression = \"(a + b) * (c + d) - (e + f) * (g + h)\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],evalints = [1, 2, 3, 4, 5, 6, 7, 8]) == ['-144']",
    "assert candidate(expression = \"(a + b + c + d) * (a - b + c - d) - (a - b - c + d) * (a + b - c - d) + 25\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == ['25']",
    "assert candidate(expression = \"(a + 3*b) * (c + 5*d) + (2*a - 4*b) * (6*c + 8*d) - (3*a + 6*b) * (9*c + 12*d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == ['-193']",
    "assert candidate(expression = \"(a + b + c + d + e) * (a - b + c - d + e) - (a - b - c + d - e) * (a + b - c - d - e) + 35\",evalvars = ['a', 'b', 'c', 'd', 'e'],evalints = [1, 1, 1, 1, 1]) == ['39']",
    "assert candidate(expression = \"(a + b) * (a + b) * (a + b) + (c + d) * (c + d) * (c + d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 1, 1, 1]) == ['16']",
    "assert candidate(expression = \"(x - 2*y) * (3*z - 4) + (5*x + 6*y) * (7*z - 8)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['206']",
    "assert candidate(expression = \"(a + b + c + d) * (a - b + c - d) * (a + b - c - d) * (a - b - c + d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, 2, 3, 4]) == []",
    "assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['448']",
    "assert candidate(expression = \"((x + y) * (x - y)) * ((x + z) * (x - z))\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['60']",
    "assert candidate(expression = \"3 * (x + 2 * y + 3 * z) - 2 * (x - y + z) + 4 * (x - 2 * y + 3 * z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['62']",
    "assert candidate(expression = \"(x + y + z) * (x + y + z) * (x + y + z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == ['27']",
    "assert candidate(expression = \"((x + y) * (x - y) + (y + z) * (y - z) + (z + x) * (z - x)) * 2\",evalvars = ['x', 'y', 'z'],evalints = [1, 1, 1]) == []",
    "assert candidate(expression = \"(a + b) * (a - b) * (c + d) * (c - d)\",evalvars = ['a', 'b', 'c', 'd'],evalints = [1, -1, 2, -2]) == []",
    "assert candidate(expression = \"(a + b + c) * (a + b + c) * (a + b + c) - 3 * (a + b) * (a + b) * (a + b) + 3 * (a + b) * (a + b) * (a + b) - (a + b) * (a + b) * (a + b)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == ['19']",
    "assert candidate(expression = \"(x + 2*y + 3*z) * (4*x + 5*y + 6*z) - (7*x + 8*y + 9*z) * (10*x + 11*y + 12*z)\",evalvars = ['x', 'y', 'z'],evalints = [1, 2, 3]) == ['-2952']",
    "assert candidate(expression = \"(a + b) * (a + b) * (a + b) + (a + c) * (a + c) * (a + c) + (b + c) * (b + c) * (b + c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 2, 3]) == ['216']",
    "assert candidate(expression = \"10 * (x + 2 * y) - 5 * (x - 3 * y)\",evalvars = ['x', 'y'],evalints = [1, 2]) == ['75']",
    "assert candidate(expression = \"(a + b) * (a - b) + (a + b) * (a + b) - (a - b) * (a - b)\",evalvars = ['a', 'b'],evalints = [1, 2]) == ['5']",
    "assert candidate(expression = \"(2*a + 3*b + 4*c) * (5*a + 6*b + 7*c) - (8*a + 9*b + 10*c) * (11*a + 12*b + 13*c)\",evalvars = ['a', 'b', 'c'],evalints = [1, -1, 2]) == ['-384']",
    "assert candidate(expression = \"(x + 3) * (x - 3) * (x + 3)\",evalvars = ['x'],evalints = [2]) == ['-25']",
    "assert candidate(expression = \"((x + y) * (x - y)) * ((x + z) * (x - z)) + (x * x)\",evalvars = ['x', 'y', 'z'],evalints = [2, 3, 4]) == ['64']",
    "assert candidate(expression = \"(x + y + z + w) * (x - y - z - w) + (x + y - z + w) * (x - y + z - w)\",evalvars = ['x', 'y', 'z', 'w'],evalints = [1, 2, 3, 4]) == ['-88']",
    "assert candidate(expression = \"(a + b) * (a - b) + (b + c) * (b - c) + (c + a) * (c - a)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == []",
    "assert candidate(expression = \"(a + 2*b + 3*c) * (a - b + c) + 2 * (a + b + c) * (a - b + c)\",evalvars = ['a', 'b', 'c'],evalints = [1, 1, 1]) == ['12']",
    "assert candidate(expression = \"(x + 3) * (x - 3) * (x + 5) + 2 * (x + 1) * (x - 1)\",evalvars = ['x'],evalints = [2]) == ['-29']",
    "assert candidate(expression = \"(a + b + c) * (d + e + f) - (g + h + i) * (j + k + l) + 20\",evalvars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l'],evalints = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) == ['-682']"
  ]
}